<html>

<head>
<meta http-equiv="Content-Language" content="zh-tw">
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=big5">
<title>Debian APT 第二部分 Installing Unreleased Software</title>
</head>

<body>

<p align="center"><font face="Verdana" color="#FF0000">Debian APT 第二部分:安裝尚未穩定的軟件<br>
作者:</font><font face="Verdana" color="#008000"><a href="http://www.linux.org.tw/CLDP/NEW/LG/2003/authors/tougher.html">Rob 
Tougher</a></font></p>
<p align="center"><font face="Tahoma" color="#008000">
<a href="http://www.linux.org.tw/CLDP/NEW/LG/index.html">Linux電子報首頁</a>|<a href="http://www.linux.org.tw/CLDP/NEW/LG/temp/sample/index.html">目錄</a>|<a href="http://www.linux.org.tw/CLDP/NEW/LG/faq/index.html">FAQ</a></font><br>
讓<font face="Tahoma"> Linux</font> 更加有趣喲!</p>
<p align="left">目錄</p>
<p align="left"><font face="Tahoma"><a href="#ss1">1. 簡介</a><br>
<a href="#ss2">2. 概觀</a><br>
<a href="#ss3">3. 安裝尚未穩定的訊息包</a><br>
&nbsp;&nbsp; <a href="#ss3.1">3.1. 開始安裝</a><br>
&nbsp;&nbsp; <a href="#ss3.2">3.2. 安裝一個尚未穩定的訊息包</a><br>
&nbsp;&nbsp; <a href="#ss3.3">3.3. 把尚未穩定的訊息包</a><br>
&nbsp;&nbsp; <a href="#ss3.4">3.4. 把不穩定變為穩定</a><br>
<a href="#ss4">4. 總結</a><br>
<a href="#ss5">5. 參考資料</a><br>
<a href="#ss6">6. 作者介紹</a><br>
<a href="#ss7">7. 版權宣告</a></font></p>
<p align="left"><font face="Tahoma"><a name="ss1" id="ss1"></a>1. 簡介</font></p>
<p align="left"><font face="Tahoma">APT 全名為 Advanced Packaging 
Tool(譯名:高階訊息包裹工具)--是一個 Debian GNU/Linux 的訊息包裹管理系統。在這系列的<a href="http://www.linux.org.tw/CLDP/NEW/LG/2003/issue84/tougher.html">第一部分</a>，我介紹了如何使用APT來在你的電腦上安裝 
Debian 的軟件。如果你不認識 APT，那你應先閱讀<a href="http://www.linux.org.tw/CLDP/NEW/LG/2003/issue84/tougher.html">第一部分</a>。</font></p>
<p align="left"><font face="Tahoma"><a name="ss2" id="ss2"></a>2. 概觀</font></p>
<p align="left"><font face="Tahoma">
在第一部分我介紹了兩個概念:訊息包裹和包裹的貯存。現在我介紹第三個:分類。分類是一個多個包裹、安裝程式、使用者文件和Debian 特有的驗證應用程式的集合。</font></p>
<p align="left"><font face="Tahoma">以下是三種 Debian 的分類:</font></p>
<ul>
  <li>
  <p align="left"><font face="Tahoma">
  <a href="http://www.debian.org/releases/stable">穩定</a>--顧名思義，是穩定的版本</font></li>
  <li>
  <p align="left"><font face="Tahoma">
  <a href="http://www.debian.org/releases/testing">測試版</a>--將近穩定的版本</font></li>
  <li>
  <p align="left"><font face="Tahoma">
  <a href="http://www.debian.org/releases/unstable">不穩定</a>--建構中的版本</font></li>
</ul>
<p align="left"><font face="Tahoma">顧名思義，<b>穩定</b>分類是 Debain 十分穩定的版本。<b>穩定版</b>的訊息包已經被徹底地測試過。在我電腦上安裝的訊息包大部分都是歸於<b>穩定</b>分類。</font></p>
<p align="left"><font face="Tahoma"><b>測試</b>分類是已將近穩定的，并準備進入<b>穩定</b>版本。雖然它們已進行了一定數量的測試，但仍需在「進化」至<b>穩定</b>的版本前進行更多的測試。當準備妥當後，<b>測試</b>版將會進入<b>穩定</b>分類。</font></p>
<p align="left"><font face="Tahoma"><b>不穩定</b>分類是建構中的版本。 Debian 的義務建構人員把它不斷地更新。<b>不穩定</b>分類中的訊息包是未經測試或可能根本不能運作。當它進行了一定數量的測驗後，便可進入<b>測試</b>分類。</font></p>
<p align="left"><font face="Tahoma">一個軟件訊息包可能會歸類為各個分類。例如 php4 訊息包就都屬於以上的三種分類。在<b>穩定</b>分類下它的編號是4.1.2，在<b>測試</b>分類下是4.1.2，但在<b>不穩定</b>分類下的是4.2.3。我的電腦現在安裝了4.1.2版本 
- 如果我需要4.2.3版本，我可以安裝在<b>不穩定</b>分類下的4.2.3版本。</font></p>
<p align="left"><font face="Tahoma"><a name="ss3" id="ss3">3. 安裝尚未穩定的訊息包</font></p>
<p align="left"><font face="Tahoma"><a name="ss3.1" id="ss3.1"></a>3.1 起始安裝</font></p>
<p align="left"><font face="Tahoma">以下的步驟可令你的電腦準備好來安裝<b>測試</b>分類或<b>不穩定</b>版本的訊息包:</font></p>
<ul>
  <li>
<p align="left"><font face="Tahoma">把一些程式碼加入到<a href="http://www.linux.org.tw/CLDP/NEW/LG/2003/01/misc/tougher/sources.list.txt"> 
/etc/apt/sources.list</a> 來包含那些版本。</font></p>
  </li>
  <li>
<p align="left"><font face="Tahoma">編輯 
<a href="http://www.linux.org.tw/CLDP/NEW/LG/2003/01/misc/tougher/apt.conf.txt">
/etc/apt/apt.conf</a> 來把<b>穩定</b>分類設定為預設。</font></p>
  </li>
  <li>
<p align="left"><font face="Tahoma">呼叫 apt-get 更新程式。</font></p>
  </li>
</ul>
<p align="left"><font face="Tahoma">sources.list 是一份 Debian 軟件的列表。在上一份文件中我們增加了七個 
CDROM 的來源和兩個 HTTP 的來源。現在，讓我們再增加兩個 HTTP 來源 - 一個是提供給<b>測試</b>分類和一個是提供給<b>不穩定</b>分類。我的 
sources.list 是好像以下的模樣:</font></p>

<div style="border-style: outset; border-color: #C0C0C0">
  <pre class="sample"><font face="Tahoma" size="3"># Two new sources
deb http://http.us.debian.org/debian unstable main contrib non-free
deb http://http.us.debian.org/debian testing main contrib non-free

# Sources from last article
deb http://security.debian.org/ stable/updates main
deb http://http.us.debian.org/debian stable main contrib non-free
deb cdrom:[Debian GNU/Linux 3.0 r0 _Woody_ - Official i386 Binary-6 (20020718)]/ unstable contrib main non-US/contrib non-US/main
deb cdrom:[Debian GNU/Linux 3.0 r0 _Woody_ - Official i386 Binary-7 (20020718)]/ unstable contrib main non-US/contrib non-US/main
deb cdrom:[Debian GNU/Linux 3.0 r0 _Woody_ - Official i386 Binary-5 (20020718)]/ unstable contrib main non-US/contrib non-US/main
deb cdrom:[Debian GNU/Linux 3.0 r0 _Woody_ - Official i386 Binary-4 (20020718)]/ unstable contrib main non-US/contrib non-US/main
deb cdrom:[Debian GNU/Linux 3.0 r0 _Woody_ - Official i386 Binary-3 (20020718)]/ unstable contrib main non-US/contrib non-US/main
deb cdrom:[Debian GNU/Linux 3.0 r0 _Woody_ - Official i386 Binary-2 (20020718)]/ unstable contrib main non-US/contrib non-US/main
deb cdrom:[Debian GNU/Linux 3.0 r0 _Woody_ - Official i386 Binary-1 (20020718)]/ unstable contrib main non-US/contrib non-US/main
</font></pre>
</div>
<p><font face="Tahoma">跟著你可以編輯 apt.conf 來設定<b>穩定</b>分類成預設。我的 apt.conf 就像以下模樣:</font></p>
<div style="border-style: outset; border-color: #000080">
  <font face="Tahoma"># Make 'stable' the default distrubution<br>
  APT::Default-Release &quot;stable&quot;;</font></div>
<p><font face="Tahoma">你可以呼叫 apt-get 程式來結束起始安裝。此程式會下載最新的訊息包，和更新你的本地快取記憶體。</font></p>
<p><font face="Tahoma"><a name="ss3.2" id="ss3.2"></a>3.2. 安裝一個<b>不穩定</b>的訊息包</font></p>
<p><font face="Tahoma">讓我們來繼續第二部分的描述。php4 訊息包的4.1.2版本是歸於<b>穩定</b>分類下。假設你希望安裝4.2.3版本 
- 可能它含有一些你需要的新功能。你可以鍵入以下的命令來安裝這個訊息包:</font></p>
<div style="border-style: outset; border-color: #000080">
  <font face="Tahoma">prompt $ apt-get -t unstable install php4</font></div>
<p><font face="Tahoma">這會安裝 php4訊息包的4.2.3版本。-t 描述告訴了系統你容許安裝<b>不穩定</b>的訊息包。如果你沒有包含 
-t </font>描述，<font face="Tahoma">APT 安裝此訊息包的程序會不成功，因為<b>穩定</b>分類是你的預先設定。</font></p>
<p><font face="Tahoma"><a name="ss3.3" id="ss3.3"></a>3.3. 更新尚未穩定的訊息包</font></p>
<p><font face="Tahoma">你可以使用 apt-show-versions 來更新<b>測試</b>分類或<b>不穩定</b>分類下的訊息包:</font></p>
<div style="border-style: outset; border-color: #000080">
  <font face="Tahoma">prompt $ apt-get install 'apt-show-versions -u -b | grep 
  testing'</font></div>
<p><font face="Tahoma"><a name="ss3.4" id="ss3.4"></a>3.4. 由<b>尚未穩定</b>的版本回復到<b>穩定</b>的版本</font></p>
<p><font face="Tahoma">你可以在你的電腦上回復(downgrade)訊息包的分類。即是說假如你的電腦安裝有<b>測試</b>分類或<b>不穩定</b>版本的訊息包，而你并不想再留它下來「阻手阻腳」，你可以把那訊息包回復到最近安裝的<b>穩定</b>版本。</font></p>
<p><font face="Tahoma">在回復之前，你需要在 
<a href="http://www.linux.org.tw/CLDP/NEW/LG/2003/01/misc/tougher/preferences.txt">
/etc/apt/references</a> 檔案中加入以下的程式碼，例如:</font></p>
<div style="border-style: outset; border-color: #000080">
  <font face="Tahoma">Package: php4<br>
  Pin: release a=stable<br>
  Priority: 1001</font></div>
<p><font face="Tahoma">然後你便可以鍵入以下的程式碼來回復一個訊息包:</font></p>
<div style="border-style: outset; border-color: #000080">
  <font face="Tahoma">prompt$ apt-get update</font></div>
<p><font face="Tahoma"><a name="ss4" id="ss4"></a>4. 總結</font></p>
<p><font face="Tahoma">APT是一個強大的訊息包管理系統。它容許你在 Debian 系統上安裝、維護和移除應用程式。我今次把焦點放在安裝 
Debian <b>尚未穩定</b> 的分類:<b>測試</b>和<b>不穩定</b>。</font></p>
<p><font face="Tahoma"><a name="ss5" id="ss5"></a>5.參考資料</font></p>
<ul>
  <li><font face="Tahoma"><a href="http://www.debian.org/doc/">Debian 
  Documentation</a> </font></li>
</ul>
<p><font face="Tahoma"><a name="ss6" id="ss6"></a>6. 作者介紹</font></p>
<p><font face="Tahoma">Rob 是一個住在 New York 地區的軟件工程師。</font></p>
<p><font face="Tahoma"><a name="ss7" id="ss7"></a>7.版權宣告</font></p>
<p><font face="Tahoma">Copyright (c) 2003, Rob Tougher.
<a href="http://www.linuxgazette.com/copying.html">Copyright License</a> 
Published in Issue 86 of Linux Gazette, January 2003</font></p>

</body>

</html>
