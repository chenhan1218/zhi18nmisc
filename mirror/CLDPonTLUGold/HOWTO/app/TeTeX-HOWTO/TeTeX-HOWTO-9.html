<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="zh-TW" xml:lang="zh-TW" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>9. Appendix B: 安裝 CTAN 的 teTeX 套件</title>
<link href="TeTeX-HOWTO-10.html" rel="next" title="10. 附錄 3： 套件和版權 " />
<link href="TeTeX-HOWTO-8.html" rel="previous" title="8. Appendix A: CTAN 網址位置目錄 " />
<link href="../../style.css" rel="stylesheet" type="text/css" />
<link href="http://tldp.org/HOWTO/TeTeX-HOWTO.html" rel="alternate" title="原版" />
<link href="index.html" rel="start" title="HOWTO： The Linux-teTeX Local Guide" />
<link href="index.html#content" rel="contents" />
<link href="index.html#appendix" rel="appendix" title="附錄" />
<link href="TeTeX-HOWTO-1.html" rel="chapter" title="1.介紹" />
<link href="TeTeX-HOWTO-2.html" rel="chapter" title="2.使用 teTeX." />
<link href="TeTeX-HOWTO-3.html" rel="chapter" title="3.TeX 命令" />
<link href="TeTeX-HOWTO-4.html" rel="chapter" title="4.LaTeX 命令" />
<link href="TeTeX-HOWTO-5.html" rel="chapter" title="5.LaTeX 擴充程式集與其他資源 " />
<link href="TeTeX-HOWTO-6.html" rel="chapter" title="6.用 dvips 混合文與圖" />
<link href="TeTeX-HOWTO-7.html" rel="chapter" title="7.使用Postscript字型 " />
<link href="TeTeX-HOWTO-8.html" rel="appendix" title="A: CTAN 網址位置目錄 " />
<link href="TeTeX-HOWTO-9.html" rel="appendix" title="B: 安裝 CTAN 的 teTeX 套件 " />
<link href="TeTeX-HOWTO-10.html" rel="appendix" title="C： 套件和版權" />
<link href="TeTeX-HOWTO-9.html#ss9.1" rel="section" title="9.1 二進位檔案套件的安裝" />
<link href="TeTeX-HOWTO-9.html#ss9.2" rel="section" title="9.2 基本系統設定" />
<link href="TeTeX-HOWTO-9.html#ss9.3" rel="section" title="9.3 CTAN 來源碼套件的安裝" />
<link href="TeTeX-HOWTO-9.html#ss9.4" rel="section" title="9.4 安裝完後設定的細節" />
<link href="TeTeX-HOWTO.rdf" rel="meta" title="各章節的說明資訊" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.rsac.org/ratingsv01.html" labels ratings (v 0 s 0 n 0 l 0))'/>
</head> <body   > 
<table >
  <tr>
    <th colspan="3" class="HdTitle">HOWTO：
      The Linux-teTeX Local Guide</th>
  </tr>
  <tr>
    <td class="TtdL"> <a href="TeTeX-HOWTO-8.html" accesskey="P">上一頁(P)</a> </td>
    <td class="TtdC">&nbsp;</td>
    <td class="TtdR"> <a href="TeTeX-HOWTO-10.html" accesskey="N">下一頁(N)</a> </td>
  </tr>
</table>
<hr />
<h1><a name="ctan-install" id="ctan-install"></a> 9. Appendix B: 安裝 CTAN 的 teTeX 套件 </h1>

<p>一般而言，安裝 teTeX 套件並不比安裝 Linux 的程式集難，請看以下： 
<a href="#generic-CTAN">一般 CTAN 套件</a></p>
<p>如果你屬於下面情形之一，應該考慮安裝來自那些 CTAN的 teTeX 檔案套件：</p>
<ul>
<li>你的系統並非標準的 Linux</li>
<li>在你的系統上你沒有管理者的主權</li>
<li>你需要最近的 teTeX 或 LaTeX 版本</li>
<li>你沒有足夠的磁碟空間完整的安裝</li>
<li>你不要在 <code>/usr</code> 中安裝 teTeX</li>
<li>你想要與網路上的其他的 UNIX 相容系統或平台分享你的 teTeX。這種情況，更應該直接由 <em>原始來源檔</em> 套件自行安裝。請看以下：
<a href="#generic-CTAN">安裝來源檔套件 </a></li>
<li>你要使用 teTeX 最新公開 Type 1 字型的版本，它比較早的版本中所包含的字型較好。</li>
</ul>
<p>可執行檔的完整安裝需要約 40-50   Mb 的磁碟空間，直接由來源碼安裝則需要大約 75 Mb，所以你應該在開始編譯之前，確定有足夠的磁碟空間。雖然在 X 視窗中，可以預覽結果，你不需要一定要安裝X 視窗系統，也不需要安裝 GCC 編譯程式，全部所你需要是一個能夠編輯簡單的 ASCII 文件的編輯程式。夠簡單吧 ?</p>
<p>你能從 
<a href="TeTeX-HOWTO-8.html#ctan-list">附錄 A</a>中，任何一個 CTAN 檔案庫，取回這些檔案，  在下面的例子中，那些檔案是從 CTAN  檔案庫， 
<a href="ftp://ftp.tex.ac.uk">ftp.tex.ac.uk</a>，被取回的。</p>

<h2><a name="ss9.1" id="ss9.1"></a>9.1 二進位檔案套件的安裝
</h2>



<h3><a name="minimal-installation" id="minimal-installation"></a> 最小的安裝 </h3>


<p>首先，用 FTP 連到 
<a href="ftp://ftp.tex.ac.uk/ctan/tex-archive/systems/unix/teTeX/contrib">ftp.tex.ac.uk</a> 並 <code>cd</code> 到下列目錄：y</p>
<pre class="sample">
ctan/tex-archive/systems/unix/teTeX/distrib/
</pre>

<p>取回這些檔案</p>
<pre class="sample">
INSTALL.bin
install.sh
</pre>

<p>把他們放在你要安裝 teTeX 的最上層的目錄中，舉例來說， <code>/var/teTeX</code> 如果你計劃在 <code>/var</code> 中安裝 teTeX 。

</p>
<p>把 <code>INSTALL.bin</code> 檔案印出來，並繼續保存它，因為它描述該如何安裝一個最小的 teTeX 系統。最小的安裝只需要 10-15  MB的磁碟空間， 但是如果有可能，建議你安裝完整的 teTeX 系統。對於最小的安裝，你將會需要那些檔案：</p>
<pre class="sample">
ctan/tex-archive/systems/unix/teTeX/distrib/base/latex-base.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/base/tetex-base.tar.gz
</pre>

<p>你也將會需要上述兩個檔案庫之一的 teTeX 的可執行檔，取回這個檔案：</p>
<pre class="sample">
ctan/tex-archive/systems/unix/teTeX/distrib/binaries/i386-linux.tar.gz
</pre>

<p>如果你的系統使用 Linux  ELF shared libraries ， <code>ld.so</code>的版本至少要 1.73 以上， clibs 則至少要 5.09 以上，如果沒有，取回：</p>
<pre class="sample">
ctan/tex-archive/systems/unix/teTeX/distrib/binaries/i386-linuxaout.tar.gz
</pre>

<p>這是使用較老的 a.out 靜態程式庫編譯成的可執行檔。

</p>
<p>然後，依 <code>INSTALL.bin</code>,指示，在最上層的 teTeX 安裝目錄中執行命令：</p>
<pre class="sample">
sh ./install.sh
</pre>

<p>( 確定那些 teTeX 檔案也在那裡 )  ，片刻之後，安裝程式會警告你，你正在失去一些
  teTeX 檔案，然而，你只想安裝一個最小的 teTeX 系統，所以你不用理睬警告，繼續
  安裝。至於如何設定，參考底下
    <a href="#base-config">基本系統設定</a>。

</p>
<p>要安裝那些其餘的程式集, 請參考下一節。</p>


<h3><a name="complete-installation" id="complete-installation"></a> 完整安裝 </h3>

<p>為了要安裝完整teTeX 的系統，除了取回上述那些檔案，還要取回下列的檔案：</p>
<pre class="sample">
ctan/tex-archive/systems/unix/teTeX/distrib/doc/ams-doc.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/doc/bibtex-doc.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/doc/eplain-doc.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/doc/fonts-doc.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/doc/general-doc.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/doc/generic-doc.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/doc/latex-doc.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/doc/makeindex-doc.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/doc/metapost-doc.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/doc/programs-doc.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/fonts/ams-fonts.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/fonts/dc-fonts.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/fonts/ec-fonts.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/fonts/misc-fonts.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/fonts/postscript-fonts.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/fonts/sauter-fonts.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/goodies/amstex.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/goodies/bibtex.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/goodies/eplain.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/goodies/latex-extra.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/goodies/metapost.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/goodies/pictex.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/goodies/pstricks.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/goodies/texdraw.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/goodies/xypic.tar.gz
</pre>

<p>所有這些檔案，應該被放在你要安裝 teTeX 系統的最上層的目錄之內，和最小的安裝一樣，執行命令：</p>
<pre class="sample">
sh ./install.sh
</pre>
<h2><a name="ss9.2" id="ss9.2"></a> 9.2 基本系統設定 
</h2>

<p>決定要那一種　teTeX 之後，執行 <code>install.sh</code> 會出現一些選項的目錄，唯一需要的設定，就是 " D "  選項，即選擇要在那裏安裝　teTeX　系統的最上層的目錄，當然在這個目錄中，你必須擁有寫入的權利，舉例來說，你正在你的家目錄裡安裝teTeX ，你必須指定teTeX 安裝的目錄為：</p>
<pre class="sample">
/home/john.q.public/teTeX
</pre>

<p>然後回到主要的目錄之後，再選 " I " 選項，繼續安裝，這目錄可以不存在，<code>install.sh</code> 會自動產生這目錄。

</p>
<p>即使你計劃只使用 Postscript 格式、 Type 1 字型或偶而使用 Computer Modern 字型，你還是可以考慮另一個選項，設定一個其它的目錄，存放產生的字型，你還要有這目錄的寫入權利。接上面例子，你能指定：</p>
<pre class="sample">
/home/john.q.public/texfonts
</pre>

<p>或者，你想讓系統上的所有的使用者，都能使用這些產生的字型，就把這放字型的目錄令為：</p>
<pre class="sample">
/var/texfonts
</pre>

<p>我建議 <em>不要 </em> 把這目錄令為<code>/var/tmp/texfonts</code> ，因為有可能在系統重新啟動之後，這些字型會被刪除掉，而在下次要使用這些字型時，又要重新製造。

</p>
<p>在選了 " I " 選項後，  <code>install.sh</code> 會繼續安裝，設定不同的允許權，連結檔案目錄，並編譯檔案，最後結束跳出，並會提醒你，把teTeX 的執行檔目錄，加入<code>$PATH</code>環境變數中，man pages 和 info 檔所在目錄，分別加入<code>$MANPATH</code>和<code>$INFOPATH</code> 環境變數中，例如，如果你使用<code>bash</code> shell ，則把下列指令加入<code>~/.profile</code>中：</p>
<pre class="sample">
export PATH=$PATH:"/home/john.q.public/teTeX/bin"
export MANPATH=$MANPATH":/home/john.q.public/teTeX/man"
export INFOPATH$=INFOPATH":/home/john.q.public/teTeX/info"
</pre>

<p>如果你使用別種 shell ，則加入 &nbsp;/.profile 中。然後簽出再簽入，使環境變數重新登錄，再執行： </p>
<pre class="sample">
texconfig confall
</pre>

<p>以確定安裝是正確的。

</p>
<p>接著，你能為特定的硬體設定 teTeX ，參考底下
<a href="#post-install">安裝完後設定的細節</a></p>

<h2><a name="ss9.3" id="ss9.3"></a> 9.3 CTAN 來源碼套件的安裝
</h2>

<p>要從程式碼自行編譯安裝 teTeX V. 0.4 ，先用 <code>ftp</code> 到 CTAN，如
<a href="ftp://ftp.tex.ac.uk">ftp://ftp.tex.ac.uk</a> ，抓取：</p>
<pre class="sample">
ctan/tex-archive/systems/unix/teTeX/distrib/INSTALL.src
ctan/tex-archive/systems/unix/teTeX/distrib/sources/README.texmf-src
ctan/tex-archive/systems/unix/teTeX/distrib/sources/teTeX-lib-0.4pl8.tar.gz
ctan/tex-archive/systems/unix/teTeX/distrib/sources/teTeX-src-0.4pl7.tar.gz
</pre>
<p>先看 <code>INSTALL.src</code>中的指示，再用 <code>su</code>變為系統管理者，然後在一個你有讀，寫，執行等權利的目錄中，解開這些檔案。</p>
<p>記得<code>tar</code>要用<code>p</code>選項，而且也要記得在<code>bash</code>中 unset ，<code>noclobber</code>選項，你可以這樣下命令：</p>
<pre class="sample">
set +o noclobber
</pre>

<p><code>+o</code> 就是 <code>設定</code> <em>取消</em>一個變數，就像預期會作用，但是沒發生一樣。

</p>
<p>解開 <code>teTeX-lib-0.4pl8.tar.gz</code> 會產生<code>./teTeX</code>的目錄，解開 <code>teTeX-src-0.4pl7.tar.gz</code> 會產生 <code>teTeX-src-0.4</code> 的目錄，列印<code>INSTALL.src</code> ，而且保存在手邊，以便為下列那些的步驟使用。再 <code>切換</code> 到 <code>./teTeX-src-0.4</code> 的目錄，依 <code>INSTALL.src</code> 的說明，修改<code>./Makefile</code>。你還須要把 teTeX 所在的絕對目錄，令為 <code>TETEXDIR</code> 的環境變數，這目錄將會是你解開來源碼和程式庫檔案所在目錄的<code>teTeX</code>子目錄。舉例來說，如果你在自己的家目錄解開這些檔，就把<code>TETEXDIR</code> 令為：</p>
<pre class="sample">
/home/john.q.public/teTeX
</pre>

<p>剩下<code>Makefile</code>的其他選項就和一般差不多，除非你使用一個非標準化的編譯器和程式庫的設定，或者要編譯器做更多的最佳化，或其他原因，否則只要 GCC 的版本為 2.7.2或更新的就可以了。因為編譯過程，<code>dialog</code>程式使用到 ncurses 程式庫，所以還要檢查<code>USE_DIALOG</code>，<code>USE_NCURSES</code>和<code>HAVE_NCURSES</code>
  的變數，是否設定正確。在安裝套件裏，就以經包含了<code>ncurses</code> 程式庫，所以 <code>Makefile</code> 可能會很順利，如果你沒有 <code>ncurses</code> ，可供連結編譯，<code>texconfig</code> 依然能執行。
  
</p>
<p>如果到這裏，每件事都很正確，你就能在最上層的來源目錄裡，執行 <code>make world</code> ，等到teTeX  的執行檔造出來，安裝就完成了，這可能要花幾個小時。</p>
<p>在安裝完成之後，要把 teTeX 目錄加入
<code>$PATH ， $MANPATH</code>， <code>$INFOPATH</code>那些環境變數之中，承上例，只要在<code>~/.bash_profile</code> 檔案加入：</p>
<pre class="sample">
export PATH=$PATH":/home/john.q.public/teTeX/bin/i386-linux"
export MANPATH=$MANPATH":/home/john.q.public/teTeX/man"
export INFOPATH=$INFOPATH":/home/john.q.public/teTeX/info"
</pre>

<p>用來源碼安裝和用以編譯好的二進位碼安裝， <code>$PATH</code> 變數是不同的，前者的可執行檔的路徑是 <code>teTeX/bin/i386-linux</code> ，而後者是<code>teTeX/bin</code>。

</p>
<p>到這裏，你能執行 <code>texconfig confall</code> ，確定那些路徑已經正確地被設定，然後進行如同和用安裝可執行檔的步驟一樣，參考 
<a href="#post-install">安裝完後設定的細節</a>。</p>

<h2><a name="ss9.4" id="ss9.4"></a> 9.4 安裝完後設定的細節 
</h2>

<p>首先參考 Thomas Esser 的<code>README</code> 檔案，它包含許多，如何設定teTeX 的輸出裝置 ( 也就是，印表機 ) 的暗示。 <code>README</code>檔案位於目錄：</p>
<pre class="sample">
/usr/lib/teTeX/texmf/doc/tetex
</pre>

<p>用下列命令瀏覽這檔案（ 在此是使用 Slackware 套件 ）：</p>
<pre class="sample">
less /usr/lib/teTeX/texmf/doc/tetex/README
</pre>

<p>或用這命令列印出來：</p>
<pre class="sample">
cat /usr/lib/teTeX/texmf/doc/tetex/README >/dev/lp0
</pre>

<p>假定你的印表機被連接到 <code>/dev/lp0</code>。
  如果不是，則適當的修改成連接的裝置。

</p>
<p>或者使用 <code>lpr</code>命令：</p>
<pre class="sample">
lpr /usr/lib/teTeX/texmf/doc/tetex/README
</pre>

<p>你應該在安裝 Linux 時，已經順便安裝印表機 daemon 了，如果沒有，再依安裝過程，重新安裝一次。

</p>
<p>印出 <code>teTeX-FAQ.</code> ，並放在手邊，它包含許多如何設定teTeX 的印表機驅動程式的暗示，在比較新的 teTeX 版本中，則可直接由<code>texconfig</code>看到 <code>teTeX-FAQ</code> 。</p>
<p>然後，你要定義一個目錄儲存你的自己的 TeX 格式檔案。teTeX 會搜尋，在系統內的<code>/etc/profile</code>檔，被列在 <code>$TEXINPUTS</code> 環境變數中那些目錄內的 TeX 輸入檔案：</p>
<pre class="sample">
export TEXINPUTS=".:~/texinputs:"
</pre>

<p>個別的使用者，則把它加入他們的<code>~/.profile</code> 中，或加入<code>~/.bash_profile</code> ，如果使用  <code>bash</code> 的話。<code>$TEXINPUTS</code> 環境變數，告訴teTeX ，到使用者的家目錄之下的<code>~/texinputs</code> 目錄，去尋找使用者的個別 TeX 格式檔案，<em>要確實的</em> 在目錄前面和後面加上冒號，也就是把搜尋到的結果，附加到你的目錄。首先你必須使 teTeX     去搜尋部分的格式檔案，然後它再使用你編輯過的標準格式檔案的部分版本。

</p>
<p>如果你以管理者的身份安裝teTeX ，把<code>/usr/lib/teTeX/bin</code> 目錄，加入系統的路徑，若你是自己個人要安裝，把 teTeX 的執行檔的目錄，放到<code>~/.profile</code>
或<code>~/.bash_profile</code>中<code>$PATH</code>的<em>前面</em>：</p>
<pre class="sample">
export PATH="~/tetex/bin:"$PATH
</pre>

<p>現在以 <code>root</code>身份簽入，並依<code>teTeX-FAQ</code>指示，執行<code>texconfig</code>，而且選擇與你系統連接的印表機，確定你在 teTeX 中，是否正確的設定好印表機和印表機解析度。

</p>
<p>最後執行<code>texhash</code> ，以確定 teTeX  的內在資料庫是最新的，資料庫實際上是一個<code>ls-lR</code>檔案，每一次改變系統結構<em>必須</em> 執行 <code>texhash</code>，否則 teTeX 將不能夠找出你改變的地方。</p>

<hr />
<table >
  <tr>
    <td class="BtdL"> <a href="TeTeX-HOWTO-8.html" accesskey="P">上一頁(P)</a> </td>
    <td class="BtdC"> <a href="index.html" accesskey="H">目錄(H)</a> </td>
    <td class="BtdR"> <a href="TeTeX-HOWTO-10.html">下一頁(N)</a> </td>
  </tr>
  <tr>
    <td class="BtdL">Appendix A: CTAN 網址位置目錄 </td>
    <td class="BtdC"><a href="TeTeX-HOWTO-9.html"  accesskey="T">到頂層(T)</a></td>
    <td class="BtdR">附錄 3： 套件和版權</td>
  </tr>
</table>
<div> <a href="http://validator.w3.org/check/referer"><img src="../../../valid-xhtml10.png"  alt="符合 XHTML 1.0" class="ImgLogo"/></a> <a href="http://jigsaw.w3.org/css-validator/"><img class="ImgLogo" src="../../../vcss.png"  alt="符合 CSS"/></a> <a href="http://www.w3.org/WAI/WCAG1AA-Conformance" title="Explanation of Level Double-A Conformance"><img class="ImgLogo" src="../../../wcag1AA.gif" alt="Level Double-A conformance icon,  W3C-WAI Web Content Accessibility Guidelines 1.0"/></a> <a href="http://www.w3.org/RDF/" title="RDF 資源描述架構"><img  src="../../../rdf.gif" class="ImgLogo" alt="表示該網頁支援資源描述架構"/></a> <a href="http://www.icra.org/_en/"><img src="../../../icra_sw.gif" title="網路內容分級協會" alt="網路內容分級協會" class="ImgLogo"/></a></div>
</body>
</html>
