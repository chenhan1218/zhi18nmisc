<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="zh-TW" xml:lang="zh-TW" xmlns="http://www.w3.org/1999/xhtml">
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 
 <title>4. 軟件設置</title>
 <link href="Config-HOWTO-5.html" rel="next" title="5. 設置軟件 " />
 <link href="Config-HOWTO-3.html" rel="previous" title="3. 管理員的一般工作" />
<link href="../../style.css" rel="stylesheet" type="text/css" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html"  labels ratings (ca 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html"  labels ratings (n 0 s 0 v 0 l 0))'/>
<link href="index.html" rel="start" title="HOWTO：Configuration" />
<link href="index.html#content" rel="contents" />
<link href="http://tldp.org/HOWTO/Config-HOWTO/index.html" rel="alternate" title="原版" />
<link href="Config-HOWTO-1.html" rel="chapter" title="1.導言" />
<link href="Config-HOWTO-2.html" rel="chapter" title="2.一般系統設定" />
<link href="Config-HOWTO-3.html" rel="chapter" title="3.管理員的一般工作" />
<link href="Config-HOWTO-4.html" rel="chapter" title="4.軟件設置" />
<link href="Config-HOWTO-5.html" rel="chapter" title="5.設置軟件 " />
<link href="Config-HOWTO-6.html" rel="chapter" title="6.結束" />
<link href="Config-HOWTO.rdf" rel="meta" title="各章節的說明資訊" />
<link href="Config-HOWTO-4.html#ss4.1" rel="section" title="4.1 bash(1) " />
<link href="Config-HOWTO-4.html#ss4.2" rel="section" title="4.2 ls(1)" />
<link href="Config-HOWTO-4.html#ss4.3" rel="section" title="4.3 less(1)" />
<link href="Config-HOWTO-4.html#ss4.4" rel="section" title="4.4 emacs(1) 文本編輯器" />
<link href="Config-HOWTO-4.html#ss4.5" rel="section" title="4.5 joe(1) 文本編輯器" />
<link href="Config-HOWTO-4.html#ss4.6" rel="section" title="4.6 jed(1) 文本編輯器" />
<link href="Config-HOWTO-4.html#ss4.7" rel="section" title="4.7 pine(1) 郵件閱讀器" />
<link href="Config-HOWTO-4.html#ss4.8" rel="section" title="4.8 minicom(1)" />
<link href="Config-HOWTO-4.html#ss4.9" rel="section" title="4.9 efax(1) 軟件" />
<link href="Config-HOWTO-4.html#ss4.10" rel="section" title="4.10 Ghostscript" />
<link href="Config-HOWTO-4.html#ss4.11" rel="section" title="4.11 TeX 的使用" />
<link href="Config-HOWTO-4.html#ss4.12" rel="section" title="4.12 避免PPP的問題 " />
<link href="http://www.worldvisions.ca/wvdial" rel="工具" title="wvdial" />
<link href="http://www.hwaci.com/sw/eznet" rel="工具" title="eznet" />
<link href="Config-HOWTO-4.html#ss4.13" rel="section" title="4.13 POP用戶端程序" />
<link href="ftp://metalab.unc.edu/pub/ " rel="bookmark" />
<link href="ftp://metalab.unc.edu/pub/ " rel="工具" title="fetchpop" />
<link href="http://www.ccil.org/" rel="bookmark" title="http://www.ccil.org" />
<link href="Config-HOWTO-4.html#ss4.14" rel="section" title="4.14 X 視窗系統 (XFree86) " />
<link href="Config-HOWTO-4.html#ss4.15" rel="section" title="4.15 使用者的設置文檔" />
<link href="Config-HOWTO-4.html#ss4.16" rel="section" title="4.16 製作 .rpm" />
<link href="Config-HOWTO-4.html#ss4.17" rel="section" title="4.17 Upgrading " />
</head> <body   > 
<table >
  <tr>
    <th colspan="3" class="HdTitle">HOWTO：Config</th>
  </tr>
  <tr>
    <td class="TtdL"> <a href="Config-HOWTO-3.html" accesskey="P">上一頁(P)</a> </td>
    <td class="TtdC">&nbsp;</td>
    <td class="TtdR"> <a href="Config-HOWTO-5.html" accesskey="N">下一頁(N)</a> </td>
  </tr>
</table>
<hr />
<h1> 4. 軟件設置</h1>


<p>下列設置檔必需加以設定：/etc/profile /etc/bashrc <code>.bashrc</code>
<code>.bashrc .bash_profile .bash_logout .inputrc .less .lessrc .xinitrc </code>
<code>.fvwmrc .fvwm2rc95 .Xmodmap .Xmodmap.num .Xdefaults .jedrc </code>
<code>.abbrevs.sl .joerc .emacs </code>.
在完成系統設定以前不要增添用戶；需要將點文檔(dot files)放入/etc/skel。</p>

<h2><a name="ss4.1" id="ss4.1"></a>4.1 bash(1) </h2>

<p>有人認為，這個軟件是除內核之外最重要的軟件。要使<code>bash</code>適合個人口味，
可修改下列文檔：</p>
<ul>
<li> /etc/bashrc 存有整個系統的別名和功能；
</li>
<li> /etc/profile 存有整個系統的環境參數和啟動程式；
</li>
<li> <code>$HOME/.bashrc</code> 存有用戶的的別名和功能；
</li>
<li> <code>$HOME/.bash_profile</code> 存有用戶的環境參數和啟動程式；
</li>
<li> <code>$HOME/.inputrc</code> 存有主要綁定數值和其他位元數值；
</li>
</ul>
<p>下文例舉對這些文檔的修改。首先，最重要的文檔是：<code>/etc/profile</code>。以下几節中可以看到，
修改這個文檔可以設定 Linux 的各種功能。</p>
<pre class="sample">
# /etc/profile

# System wide environment and startup programs
# --整個系統環境和啟動程式
#
# Functions and aliases go in /etc/bashrc
# --/etc/bashhrc中包含功能和別名
#
# This file sets up the following features and programs:
# --這個文檔設定下列功能：
#
#   o path --路徑
#   o prompts  --提示符
#   o a few environment variables  --几個環境變數
#   o colour ls --ls 的顏色
#   o less behaviour    --設定less的功能 
#   o rxvt
#
# Users can override these settings and/or add others in their
# $HOME/.bash_profile
# 用戶可在 $HOME/.bash_profile 中取消這些設定和（或）增加其他設定


# set a decent path
# 設定可行的路徑

PATH="$PATH:/usr/X11R6/bin:$HOME/bin:."

# notify the user: login or non-login shell. If login, the prompt is
# coloured in blue; otherwise in magenta. Root's prompt is red.
# See the Colour-ls mini  HOWTO  for an explanation of the escape codes.
# 通知用戶：登錄（login）或不登錄（non-login）的外圍程序（shell）。
# 如果登錄，則提示符為藍色，否則為紫紅色。Root的提示符為紅色。
# 參閱Colour-ls mini  HOWTO 中對換碼符(escape codes)的使用解釋。

USER=`whoami`
if [ $LOGNAME = $USER ] ; then
  COLOUR=44  # blue --藍色
else
  COLOUR=45  # magenta --紫紅色
fi

if [ $USER = 'root' ] ; then
  COLOUR=41  # red --紅色
  PATH="$PATH:/usr/local/bin"
fi

ESC="\033"
PROMPT='\h'    # hostname --主機名
STYLE=';1m'    # bold --粗體
# PROMPT='\u'  # username --用戶名
# STYLE='m'    # plain --一般字體
PS1="\[$ESC[$COLOUR;37$STYLE\]$PROMPT:\[$ESC[37;40$STYLE\]\w\\$ "
PS2="> "

# no core dumps, please
# 請勿轉儲內存信息

ulimit -c 0

# set umask
# 設定umask

if [ `id -gn` = `id -un` -a `id -u` -gt 14 ]; then
  umask 002
else
  umask 022
fi

# a few variables
# 几項變數

USER=`id -un`
LOGNAME=$USER
MAIL="/var/spool/mail/$USER"  # sendmail, postfix, smail 
# MAIL="$HOME/Mailbox"        # qmail
NNTPSERVER=news.myisp.it      # put your own here 
VISUAL=jed
EDITOR=jed
HOSTNAME=`/bin/hostname`
HISTSIZE=1000
HISTFILESIZE=1000
export PATH PS1 PS2 USER LOGNAME MAIL NNTPSERVER
export VISUAL EDITOR HOSTNAME HISTSIZE HISTFILESIZE

# enable colour ls
# 設定ls的顏色

eval `dircolors /etc/DIR_COLORS -b`
export LS_OPTIONS='-s -F -T 0 --color=yes'

# customize less
# 設定less

LESS='-M-Q'
LESSEDIT="%E ?lt+%lt. %f"
LESSOPEN="| lesspipe.sh %s"
LESSCHARDEF=8bcccbcc13b.4b95.33b. # show colours in ls -l | less
# LESSCHARSET=latin1
PAGER=less
export LESS LESSEDIT LESSOPEN VISUAL LESSCHARDEF

# fix the backspace key in rxvt/xterm
# 設定rxvt/xterm中的退後鍵

CTRL_H="\010"
NULL_STRING=" $CTRL_H" # space + backspace
if [ "$NULL_STRING" != "" ] ; then
  stty erase ^?
else
  stty erase ^H
fi

# set xterm title: full path
case $TERM in
  xterm*)
    PROMPT_COMMAND='echo -ne "\033]0;${USER}@${HOSTNAME}: ${PWD}\007"'
    ;;
esac

for i in /etc/profile.d/*.sh ; do
  if [ -x $i ]; then
    . $i # beware - variables and aliases might get overridden!
  fi
done

# call fortune, if available  --如有fortune
if [ -x /usr/games/fortune ] ; then
  echo ; /usr/games/fortune ; echo
fi
</pre>
<p>此處為 /etc/bashrc：</p>
<pre class="sample">
# /etc/bashrc

# System wide functions and aliases
# 整個系統的功能和別名
#
# Environment stuff goes in /etc/profile
# /etc/profile中的環境參數
#
# Insert PS1 definitions here if you experience problems.
# 如有問題可將PS1的參數放在此處

export CDPATH="$CDPATH:

# common aliases --共同別名

alias cp='cp -i'
alias l=less
alias ls="ls $LS_OPTIONS"
alias mv='mv -i'
alias rm='rm -i'
alias rmbk='/bin/rm -f .*
alias u='cd ..'
alias which="type -path"
alias x=startx

# A few useful functions --几項有用的功能

c ()    # cd to the new directory and list its contents
{
  cd $1 ; ls
}

inst()  # Install a .tar.gz archive in current directory --在當前目錄中建立.tar.gz儲存庫
{
  if [ $# != 0 ]; then tar zxvf $1; fi
}

cz()    # List the contents of a .zip archive --列出.zip的內容
{
  if [ $# != 0 ]; then unzip -l $*; fi
}

ctgz()  # List the contents of a .tar.gz archive --列出.tar.gz的內容
{
  for file in $* ; do
    tar ztf ${file}
  done
}

tgz()   # Create a .tgz archive a la zip. --建立壓縮檔.tgz
{
  if [ $# != 0 ]; then
    name=$1.tar; shift; tar -rvf ${name} $* ; gzip -9 ${name}
  fi
}

crpm()  # list information on an .rpm file --列出.rpm檔的內容
{
  if [ $# != 0 ]; then rpm -qil $1 | less; fi
}
</pre>

<p>此處為 <code>.bashrc</code>：</p>
<pre class="sample">
# $HOME/.bashrc
# Source global definitions

if [ -f /etc/bashrc ]; then
  . /etc/bashrc
fi

# this is needed to notify the user that they are in non-login shell
# 需要以下設定，以便通知處於不登錄（non-login）外圍程序（shell）中的用戶

if [ "$GET_PS1" = "" ] ; then
  COLOUR=45; ESC="\033"; STYLE=';1m';  # STYLE='m'
  USER=`whoami`
  export PS1="\[$ESC[$COLOUR;37$STYLE\]$USER:\[$ESC[37;40$STYLE\]\w\\$ "
fi

# personal aliases
# 個人別名

alias backup='tar -Mcvf /dev/fd0'
alias dial='eznet up myisp'
alias f='cd 
alias hangup='eznet down'
alias lyx='lyx -width 580 -height 450'
alias restore='tar -M -xpvf /dev/fd0'

# personal functions
# 几個個人使用的功能

xj()    # Launch xjed and a file in background --在背景啟動xjed和文檔
{
  xjed $1 &amp;
}
</pre>

<p>此處為<code>.bash_profile</code>：</p>
<pre class="sample">
# $HOME/.bash_profile

# User specific environment and startup programs
# 用戶特定的環境參數和啟動程式
#
# This file contains user-defined settings that override
# those in /etc/profile
# 這個文檔中存有用戶自訂的設置，可取代/etc/profile 中的數值
#
# Get aliases and functions
# 設定別名和功能
#
if [ -f  then
  GET_PS1="NO"  # don't change the prompt colour --不改變提示符的顏色
  . 
fi

# set a few `default' directories
# 設定几個“默認”目錄

export CDPATH="$CDPATH:$HOME:$HOME/text:$HOME/text/geology"
</pre>

<p>此處為 <code>.inputrc</code>：</p>
<pre class="sample">
# $HOME/.inputrc

# key bindings
# 主要綁定

"\e[1
"\e[3
"\e[4
# (F1 .. F5) are "\e[[A" ... "\e[[E"
# (F1 .. F5) 分別為 "\e[[A" ... "\e[[E"

"\e[[A": "info \C-m"

set bell-style visible          # please don't beep
                                # 喇叭不發聲
set meta-flag On                # allow 8-bit input (i.e, accented letters)
                                # 允許8-位元輸入（例如重音字符）譯註：用于歐洲

set convert-meta Off            # don't strip 8-bit characters
                                # 不取消8-位元字符
set output-meta On              # display 8-bit characters correctly
                                # 正確顯示8-位元字符
set horizontal-scroll-mode On   # scroll long command lines
                                # 長指令行自動翻轉
set show-all-if-ambiguous On    # after TAB is pressed
                                # 按TAB鍵
</pre>

<p>設定下列參數使 backspace 和 delete 兩鍵在<code>xterm</code> 和其他X11應用中運作正常：</p>
<ul>
<li> 在<code>.xinitrc</code>中添加：
  <pre class="sample">
usermodmap=$HOME/.Xmodmap
xmodmap $usermodmap
</pre>
</li><li> 在<code>.Xmodmap</code>中添加：
  <pre class="sample">
keycode 22 = BackSpace
keycode 107 = Delete
</pre>
    以上就設定了主控台的參數。要修改<code>xterm</code>，則更改如下：
</li><li> 在<code>.Xdefaults</code>中增添：
  <pre class="sample">
xterm*VT100.Translations: #override &lt;Key>BackSpace: string(0x7F)\n\
        &lt;Key>Delete:        string(0x1b) string("[3
        &lt;Key>Home:          string(0x1b) string("[1
        &lt;Key>End:           string(0x1b) string("[4
        Ctrl&lt;Key>Prior:     string(0x1b) string("[40
        Ctrl&lt;Key>Next:      string(0x1b) string("[41

nxterm*VT100.Translations: #override &lt;Key>BackSpace: string(0x7F)\n\
        &lt;Key>Delete:        string(0x1b) string("[3
        &lt;Key>Home:          string(0x1b) string("[1
        &lt;Key>End:           string(0x1b) string("[4
        Ctrl&lt;Key>Prior:     string(0x1b) string("[40
        Ctrl&lt;Key>Next:      string(0x1b) string("[41
  </pre>
</li></ul>

<p><code>rxvt</code>的問題比較複雜，因為在編輯時的一些設定會影響它的功能。參看上文
/etc/profile部分。</p>
<p>在<code>bash</code>(1) 和 <code>readline</code>(3) 的 man 說明中有更多這方面的資料。</p>
<p>不要以為這些設定在每種應用中都可正常運作。例如，在<code>xterm</code>中運行<code>joe</code>，
有些鍵位就不起作用；運行<code>rxvt</code>也有相同的問題。</p>

<h2><a name="ss4.2" id="ss4.2"></a>4.2 ls(1) </h2>

<p><code>ls</code>可用顏色顯示目錄，突出不同種類的文檔。如上文所示，要使用這項功能，只要在
/etc/profile 增加几行內容即可。不過，這對有些版本的<code>rxvt</code>不起作用；
得使用 <code>xterm</code> 替代。看來一些老版本的<code>rxvt</code>有設計不全之處，以致在有些情況下無法正確使用環境參數。</p>
<p>Caldera版本的<code>ls</code>不顯示顏色，但它有一個類似的<code>color-ls</code>。
將以下內容加到 /etc/bashrc：</p>

<pre class="sample">
alias ls="color-ls $LS_OPTIONS"
</pre>


<h2><a name="ss4.3" id="ss4.3"></a>4.3 less(1) </h2>


<p>利用這個優越的頁面調度程序不僅能瀏覽一般文字文檔，也能觀看壓縮的 gzip 文檔和以 tar 和 zip 格式儲存的檔案文檔和 man 文檔，其設置如下：</p>
<ul>
<li> 如要配合使用方向鍵，則將以下以ASCII編寫的一般文字檔<code>.lesskey</code> 置于home目錄內：
  <pre class="sample">
^[[A   back-line
^[[B   forw-line
^[[C   right-scroll
^[[D   left-scroll
^[OA   back-line
^[OB   forw-line
^[OC   right-scroll
^[OD   left-scroll
^[[6
^[[5
^[[1
^[[4
^[[7
^[[8
</pre>
    然後運行指令<code>lesskey</code>。（這是類似vt100型終端機的換碼符）。
  這會生成綁定鍵位的二進制文檔 <code>.less</code>。
  
</li><li> 編制下列稱為w /usr/local/bin/lesspipe.sh的文檔：
<pre class="sample">
#!/bin/sh
# This is a preprocessor for 'less'.  It is used when this environment
# variable is set:   LESSOPEN="|lesspipe.sh %s"
# 此為‘less’的預處理器。當環境參數定為LESSOPEN="|lesspipe.sh %s"
# 時，便起用這個預處理器。

lesspipe() {
  case "$1" in
  *.tar) tar tf $1 2>/dev/null ;; # View contents of .tar and .tgz files
                                  # 閱讀.tar和.tgz檔的內容
   *.tgz|*.tar.gz|*.tar.Z|*.tar.z) tar ztf $1 2>/dev/null ;;
  *.Z|*.z|*.gz) gzip -dc $1  2>/dev/null ;; # View compressed files
correctly
                                                # 正確閱讀壓縮文檔
  *.zip) unzip -l $1 2>/dev/null ;; # View archives
                                    # 閱讀檔案文檔
  *.arj) unarj -l $1 2>/dev/null ;;
  *.rpm) rpm -qpil $1 2>/dev/null ;;
  *.cpio) cpio --list -F $1 2>/dev/null ;;
  *.1|*.2|*.3|*.4|*.5|*.6|*.7|*.8|*.9|*.n|*.l|*.man) FILE=`file -L $1`
    FILE=`echo $FILE | cut -d ' ' -f 2`
    if [ "$FILE" = "troff" ]; then
      groff -s -p -t -e -Tascii -mandoc $1
    fi ;;
  *) file $1 | grep text > /dev/null ;
    if [ $? = 1 ] ; then # it's not some kind of text
      strings $1
    fi ;;
  esac
}

lesspipe $1
</pre>


然後運行<code>chmod 755 lesspipe.sh</code>，使其成為可執行檔。
</li>
<li> 按照上文將必要的變數放入/etc/profile。
</li>
</ul>
<h2><a name="ss4.4" id="ss4.4"></a>4.4 emacs(1) 文本編輯器 </h2>

<p>由于我不太用<code>emacs</code>，因此心得不多。有些<code>emacs</code> 版本沒有預先設置顏色和語法標示。可在<code>.emacs</code>中增添：</p>
<pre class="sample">
(global-font-lock-mode t)
(setq font-lock-maximum-decoration t)
</pre>
<p>這只對X11有用。如需使用重音符號，可增加此行：</p>
<pre class="sample">
(standard-display-european 1)
</pre>
  <p>我讓您自己從關於<code>emacs</code>的文件資料中尋找設定符合您的需要的方法，有時這需要几個月的時間。
點文檔產生器（
<a href="Config-HOWTO-5.html#Config sw">設置軟件</a>）可以幫些忙。</p>

<h2><a name="ss4.5" id="ss4.5"></a>4.5 joe(1) 文本編輯器 </h2>


<p>有些<code>joe</code>的版本不在主控台顯示顏色，並且有些特殊鍵位不起作用。解決這項問題的最快方法是：</p>
<pre class="sample">
   (譯註：原文似乎有漏)
</pre>
  <p>要使特殊鍵位發生作用，只要修改<code>.joerc</code>、<code>.jstarrc</code>或喜愛的仿真設定；
首先改變/usr/lib/joe中的設置文檔。利用第四部分（鍵位梆定）設定Home和 End兩鍵。</p>
<p>
</p>
<pre class="sample">
bol ^[ [ 1 
eol ^[ [ 4 
</pre>
  <p>找出ESC的次序，鍵入<code>cat</code>，然後再鍵入特殊鍵。</p>

<h2><a name="ss4.6" id="ss4.6"></a>4.6 jed(1) 文本編輯器 </h2>

<p>這是相當好用的編輯器：比<code>emacs</code>短小精悍，也宜於設定，使用方式也與其他編輯器十分類似。
我們大學的許多用戶都用<code>jed</code>替代VMS的系統編輯器<code>EDT</code>。</p>
<p><code>jed</code>的設置文檔為 <code>.jedrc</code>和/usr/lib/jed/lib/*；前者可從後者目錄中的<code>jed.rc</code>修改而得。</p>
<ul>
  <li>要使<code>jed</code>的特殊鍵位設置正確，編制/usr/lib/jed/lib/defaults.sl檔，
    其內容如下：
    <pre class="sample">
() = evalfile(" Linux ");
</pre>
  </li><li>如果<code>xjed</code>不識別DEL鍵，則在<code>.jedrc</code>中增加下列內容：
  <pre class="sample">
#ifdef XWINDOWS
  x_set_keysym (0xFFFF, 0, "\e[3
  setkey (``delete_char_cmd'', "\e[3
#endif
</pre>
</li>
<li> 編輯/usr/lib/jed/lib/ Linux .sl，設定<code>Info_Directory = "/usr/info";</code>并在<code>/UCB_Mailer = "/bin/mail";</code>后添加<code>/bin/mail</code>；

</li>
<li> 設置<code>jed</code>模擬<code>EDT</code>（或其他編輯器）的工作不難：只須編輯 <code>.jedrc</code> 中的几行內容。 如果要用小鍵盤中的‘+’鍵刪字，而不只刪一個字母，則在<code>.jedrc</code>中<code>() = evalfile("edt")</code>（或類似的設定）之後增添下列內容：
  <pre class="sample">
unsetkey("\eOl");
unsetkey("\eOP\eOl");
setkey("edt_wdel", "\eOl");
setkey("edt_uwdel", "\eOP\eOl");</pre>
</li>
<li> 在<code>EDT</code>模擬中，要使<code>xjed</code>使用數字小鍵盤，則須在 <code>.Xmodmap</code> 中添加下列內容：
  <pre class="sample">
keycode 77  = KP_F1
keycode 112 = KP_F2
keycode 63  = KP_F3
keycode 82  = KP_F4
keycode 86  = KP_Separator
</pre>
</li><li> 在<code>.Xdefaults</code>中增加以下內容可以更改<code>xjed</code>的顏色：
  <pre class="sample">
xjed*Geometry: 80x32+150+50
xjed*font: 10x20
xjed*background: midnight blue
# and so on...
</pre>
</li><li> 設定“簡稱表”可節省許多時間。編輯一個稱為 <code>$HOME/.abbrevs.sl</code> 的程序（如要改變名稱，可在<code>.jedrc</code>中插入<code>variable Abbrev_File = "/usr/lib/jed/abbrev.sl";</code>）：
  <pre class="sample">
create_abbrev_table ("Global", "0-9A-Za-z");
define_abbrev ("Global", "GG", "Guido Gonzato");
create_abbrev_table ("TeX", "\\A-Za-z0-9");
define_abbrev ("TeX", "\\beq", "\\begin{equation}");
define_abbrev ("TeX", "\\eeq", "\\end{equation}");
% and so on...
</pre>
    並鍵入<code>ESC x abbrev_mode</code>使其運行。如要自動運行簡稱功能，將下列內容加入 <code>.jedrc</code>：
  <pre class="sample">
define text_mode_hook ()
{
  set_abbrev_mode (1);
}
%
define fortran_hook ()
{
  set_abbrev_mode (1);
  use_abbrev_table ("Fortran");
}
% and so on...
</pre>
</li></ul>
<h2><a name="ss4.7" id="ss4.7"></a>4.7 pine(1) 郵件閱讀器 </h2>

<p>修改/usr/lib/pine.conf中涉及整個系統的設置，特別注意：
<code>user-domain</code>、<code>smtp-server</code>和<code>nntp-server</code>。同時注意
<code>inbox-path</code>取決于使用何種 MTA：如使用 <code>sendmail</code> 或
<code>postfix</code>，則為 <code>var/spool/mail/$USER</code>；如使用 Qmail，則為
/home/$USER/Mailbox （但 root 使用 /usr/lib/pine.conf）。</p>

<h2><a name="ss4.8" id="ss4.8"></a>4.8 minicom(1) </h2>

<p>除非 root 修改影響整個系統的設置，否則用戶無法使用 <code>minicom</code>。記住修改。</p>

<h2><a name="ss4.9" id="ss4.9"></a>4.9 efax(1) 軟件 </h2>


<p>可能這是一套最容易收發傳真（fax）的軟件。只要修改 /usr/bin/fax 內的指令即可；修改不難，但有些小地方卻需注意：</p>
<ul>
<li> 利用 <code>at+fclass=?</code> 指令找出系統內的數據機的級別為 class 1、2或2.0型。
系統的回覆可能為 <code>0,1,2</code>；1 和 2 表示數據機支持的級別；
</li>
<li> DIALPREFIX: 單單使用“<code>T</code>”或“<code>P</code>”可能不適用于有些國家（至少不適用于義大利）。改用
“<code>ATDT</code>”或“<code>ATDP</code>”撥號；
</li>
<li> INIT and RESET: <code>efax</code> 需要起始參數 “<code>-i</code>”和 “<code>-k</code>”。
如需使用 AT 指令，則將其從指令中消除，並以 “<code>-i</code>” 或 “<code>-k</code>”替代。例如：在
INIT 中使用 “<code>ATX3</code>” 指令，則加入 “<code>-iX3</code>”即可。
</li>
</ul>
<p>完成這項設置後，還要設置几項使用者的權限設定，這樣非 root 的使用者才能收發傳真。首先要使 /var/lock 和 /var/spool/fax 成為可寫目錄。要完成這項工作，
不妨設立 <code>faxusers</code> 群組，將使用者加入其中，然後以下列指令改變屬性：</p>
<pre class="sample">
 chmod g+w /var/spool/fax
</pre>
<h2><a name="ss4.10" id="ss4.10"></a>4.10 Ghostscript </h2>

<p>這個有用的軟件有點小問題。因為美國的出口限制，<code>pdf2ps</code> 不能在加密的 .pdf 文檔上使用。解決辦法是將瀏覽器接上
<a href="http://www.ozemail.com.au/">http://www.ozemail.com.au/</a>， 把 <code>pdf_sec.ps</code> 文檔取代 Ghostscript 中的同名文檔即可。</p>

<h2><a name="ss4.11" id="ss4.11"></a>4.11 TeX 的使用 </h2>


<p>假設 Linux 機上已安裝了LeTeX。</p>
<ul>
<li>從最近的鏡像站下載其他與LaTeX有關的軟件，例如
<a href="ftp://ftp.dante.de/pub/tex">ftp://ftp.dante.de/pub/tex</a>。將這些文檔放在 /usr/share/texmf/tex/latex
目錄下，然後運行指令<code>texhash</code>，使 teTeX知道新軟件的存在；
</li>
<li> 設置連字符（hyphenation），則可修改 /usr/share/texmf/tex/generic/config/language.dat檔，然後運行：
  <pre class="sample">
 texconfig hyphen
</pre>
</li><li> 如要設定<code>dvips</code>，則需編輯 /usr/share/texmf/dvips/config/config.ps檔。 注意：有關默認分辨率的參數也影響 <code>xdvi</code>的運行；如果每次運行時發現都要創造字體，則可改動 <code>.Xdefault</code>的內容如下：
  <pre class="sample">
XDvi*mfmode:
</pre>
    這應有所幫助。
  </li><li> 擴大TeX的尋找範圍可將子目錄中的PostScript數字包括再內。將下列指令放入 .bash_profile：
  <pre class="sample">
export TEXINPUTS="$HOME/figures::./figures"
</pre>
    這使TeX在查找默認目錄之前先查找<code>$HOME/figures</code>，并在查找默認目錄之後查找
  <code>./figures</code>。
</li></ul>
<h2><a name="ss4.12" id="ss4.12"></a>4.12 避免PPP的問題 </h2>


<p>目前 Linux 的內核幾乎都已編入了 PPP + TCP/IP 功能，設定了回送地址（loopback）和正確安裝了<code>pppd</code>軟件和作為suid root。當然，ISP 得支持PPP。
目前有兩種方式可使 PPP 正常運作：（a）手動設定；和（b）利用一個程式自動設定。不論採用何種方式，均請收集下列資料：</p>
<ul>
<li> ISP的電話號碼
</li>
<li> ISP的名字、郵件和新聞服務器的地址
</li>
<li> ISP的域名
</li>
<li> 用戶名字和密碼
</li>
</ul>
<p>手動設置是件單調無聊、十分乏味的事。雖然涉及的工作無非是修改文檔和編輯腳本，並不麻煩，
但極易出錯，新手往往不敢輕易嚐試。幸好有 PPP  HOWTO 可以參考。此外，也有工具可以使用，輸入上述資料，然後自動為您設置。
Gnome和KDE兩套軟件中分別包括了<code>gnome-ppp</code>和<code>kppp</code>兩個工具，方便安裝PPP，
令人十分感激。此外，也不妨使用在主控台上操作的工具<code><a href="http://www.worldvisions.ca/wvdial">wvdial</a></code>和<code><a href="http://www.hwaci.com/sw/eznet">eznet</a></code>。
只要提供ISP的電話號碼、用戶姓名、密碼，就聯網上路了，不妨試用。這兩個工具都十分好用，也需後者更方便一些。</p>

<h3>使用eznet</h3>


<p>首先，建立一個文檔/etc/resolv.conf，內容如下：</p>
<pre class="sample">
nameserver w.x.y.z
</pre>
<p>其中填入您使用的ISP的域名伺服器（nameserver）的地址。要利用<code>eznet</code>建立帳戶，
可使用下列指令：</p>
<pre class="sample">
#（譯註：原文有漏）
</pre>
<p>這會產生一個屬於root的文檔/var/eznet/eznet.conf，使用權限為600；
如要讓大家都能使用，用chmod將其改為666。利用<code>eznet up YOUR_ISP</code>撥號給ISP。如果數據機一直等待電話的接撥信號，無法接通，試試下列指令：</p>
<pre class="sample">
#（譯註：原文有漏）
</pre>
  <p>要掛斷電話，只要發出<code>eznet down</code>指令。不是十分簡單嗎！</p>

<h3>使用wvdial</h3>


<p><code>wvdial</code>的設置甚至更短。鍵入<code>wvdialconf /etc/wvdial.conf</code>，然後修改這個文檔使其列入用戶姓名、密碼和電話號碼。
用<code>wvdial</code>試撥，希望一切順利。要斷線，用 Ctrl-C即可。</p>

<h2><a name="ss4.13" id="ss4.13"></a>4.13 POP用戶端程序 </h2>

<p>要從POP伺服器收取郵件，可使用POP用戶端程序，如<code><a href="ftp://metalab.unc.edu/pub/%20">fetchpop</a></code>或 <code>fetchmail</code>等；後者比較先進，但需要運行<code>sendmail</code>。這對低檔電腦而言，
似乎是多此一舉。</p>
<p>設置用戶端的程式如下：</p>
<ul>
<li><code>fetchpop</code>：在第一次運行這個軟件時會要求輸入一些資料。只要回答所有問題即可。
如果ISP的POP3伺服器不能正確執行LAST指令，在使用<code>fetchpop</code>時必需加附參數<code>-r</code>
</li>
<li><code>fetchmail</code>：修改<code>.fetchmailrc</code>如下：
  <pre class="sample">
# $HOME/.fetchmailrc
poll mbox.myisp.com with protocol pop3;
  user john there with password _Loo%ny is john here
</pre>
    有個用戶指出在第二行中增加“smtphost localhost”能大大改善運行速度。
  
必須運行<code>chmod 600 .fetchmailrc</code>設定此檔的使用權限，否則<code>fetchmail</code>會完全拒絕運行。
  這個例子只是一種非常基本的設定，還有其他各種可能設定的辦法， 可參看
  <a href="http://www.ccil.org/">http://www.ccil.org/</a>。
</li></ul>


<h2><a name="ss4.14" id="ss4.14"></a>4.14 X 視窗系統 (XFree86) </h2>



<h3>設定X伺服器</h3>


<p>歸根結底，設定X伺服器已經沒有以前那麼困難。所有版本的 Linux 現在都包括了設定X11的工具（<code>XConfigurator</code>、<code>sax</code>、<code>XF86Setup</code>
或至少有<code>xf86config</code>）。目前X伺服器的設置幾乎完全自動，
只是有少數几種視像卡可能拒絕工作。在設定X伺服器時如遭遇困難，可用下列簡單的方法解決：</p>
<ul>
<li>確定安裝了通用的VGA伺服器；
</li>
<li>連接到
<a href="ftp://ftp.XFree86.org/pub/XFree86/current/binaries">ftp://ftp.XFree86.org/pub/XFree86/current/binaries</a>，cd到適當的 Linux 子目錄，下載<code>X_version_bin.tgz</code>、<code>X_version_set.tgz</code>和所有伺服器。
在其他軟件中，第一個存檔軟件內載有最新的<code>SuperProbe</code>；


</li>
<li>將<code>X_version_bin.tgz</code>打開到一個臨時目錄，cd到該目錄，然後運行
<code>./SuperProbe</code>。如果這個程式測得視像卡，那就有可能設定視像卡。否則就沒有希望；
</li>
<li>從/usr/X11R6/安裝各個伺服器和<code>X_version_set.tgz</code>，然後運行
<code>XF86Setup</code>。
</li>
</ul>
<p>這種方法一般都萬無一失，但各人的情況可能不同。X11不開始運行的多數原因是視像器的參數選擇過高。
不妨從比較低的參數開始，例如選800x600和256色，然後逐步上升。<em>注意</em>：
這些操作應謹慎小心，可能會損壞視像器！</p>


<h3>數字小鍵盤</h3>


<p>上文已經示範如何設定几個特別鍵位。如果使用Xjed，示範文檔<code>.Xmodmap</code>就符合需要，
但缺點是無法使用數字小鍵盤（keypad）。因此需要<code>.Xmodmap.num</code>另作設定：</p>
<pre class="sample">
! Definitions can be found in &lt;X11/keysymdef.h>
! 在&lt;X11/keysymdef.h>中可找到各項定義
keycode 77  = Num_Lock
keycode 112 = KP_Divide
keycode 63  = KP_Multiply
keycode 82  = KP_Subtract
keycode 86  = KP_Add
keycode 79  = KP_7
keycode 80  = KP_8
keycode 81  = KP_9
keycode 83  = KP_4
keycode 84  = KP_5
keycode 85  = KP_6
keycode 87  = KP_1
keycode 88  = KP_2
keycode 89  = KP_3
keycode 90  = KP_0
keycode 91  = KP_Decimal
</pre>

<p>確定/etc/X11/XF86Config中不得有下列三行：</p>
<pre class="sample">
  ServerNumLock
  Xleds
  XkbDisable
</pre>
  <p>否則用#註銷。要重新使用數字小鍵盤，運行指令<code>xmodmap .Xmodmap.num</code>。</p>

<h3>用xdm圖像登錄</h3>


<p>要使用圖像登錄，不妨修改/etc/inittab，使其包含下列內容：</p>
<pre class="sample">
x:5:respawn:/usr/bin/X11/xdm -nodaemon
</pre>
<p>其中5是X11的運行級別（runlevel）（S.u.S.E. 用4）。按照下列方法修改默認運行級別（通常為2或3）：</p>
<pre class="sample">
id:5:initdefault:
</pre>
<p>顏色的數值設定于/etc/X11/xdm/Xserver：</p>
<pre class="sample">
:0 local /usr/X11R6/bin/X :0 -bpp 16 vt07  # first X server, 65k colours
:1 local /usr/X11R6/bin/X :1 -bpp 32 vt08  # second X server, true colour
</pre>

<p>如果已有<code>.xinitrc</code>，將其複製成<code>.xsession</code>，并運行<code>chmod +x .xsession</code>使其成為可執行檔。然後運行指令<code>telinit 5</code>，那就大功告成了。</p>

<h3>視窗管理器</h3>


<p>一旦X伺服器能夠無誤地工作，那就有各種組合的設置；當然，這得看用哪種視窗管理器(window manager)，目前就有几十種可選。多數設置都是修改一、兩個主目錄內的文本文件(ASCII files)；也有根本不需作任何修改的視窗管理器，而用一個小程式或甚至菜單來管理。</p>

<p>舉例如下：</p>
<ul>
<li> <b>屬於fvwm家族</b>: 拷貝
/etc/X11/fvwm/system.fvwmrc
(或類似的程式)到主目錄， 打開試用。用這種方法可能會浪費不少時間，不過這樣才會真正知道它的特性，並了解是否投你所好；
</li>
<li> <b>WindowMaker</b>: 它有几個設置文檔，都在
<code>$HOME/GNUstep</code>內，并有一個相當不錯的小程式(applet)；
</li>
<li> <b>KDE</b> 和 <b>Gnome</b>: 沒有任何修改之處：任何設定都通過菜單進行。
</li>
</ul>
<p>簡言之，如果不在乎修改設置文檔，可選用<code>icewm</code>、<code>fvwm*</code>、<code>blackbox</code>等；
否則就選用目前常見的KDE、Gnome、WindowMaker和XFCE。</p>
<p>應該要有一個好的<code>.xinitrc</code>。舉例如下：</p>
<pre class="sample">
#!/bin/sh
# $HOME/.xinitrc

usermodmap=$HOME/.Xmodmap
xmodmap $usermodmap

xset s noblank  # turn off the screen saver -- 關閉屏幕保護軟件
xset s 300 2    # screen saver start after 5 min -- 5分鐘之後啟動屏幕保護
xset m 10 5     # set mouse acceleration -- 設定鼠標的速度

rxvt -cr green -ls -bg black -fg white -fn 7x14 \
  -geometry 80x30+57+0 &amp;

if [ "$1" = "" ] ; then  # default
  WINMGR=wmaker
else
  WINMGR=$1
fi

$WINMGR
</pre>

<p>雖然並非必需，但將其變成可執行檔<code>chmod +x .xinitrc</code>。</p>
<p>這個 <code>.xinitrc</code> 讓你選用視窗管理器：</p>
<pre class="sample">
$ startx startkde # or other w.m. -- 或其他視窗管理器
</pre>

<p>(不過它不適用于有些版本的 S.u.S.E.)</p>

<h3>X11 應用軟件的默認值</h3>


<p>找出app-defaults的所在位置(應該在/usr/X11R6/lib/X11/app-defaults)。
有几個應用軟件的設置文檔都在這個目錄內。</p>

<h2><a name="ss4.15" id="ss4.15"></a>4.15 使用者的設置文檔 </h2>


<p>完成 Dot 文檔的編輯後，將這些設置文檔按 
<a href="#config">軟件設置</a>的方法抄到 /etc/skel。</p>
<h2><a name="ss4.16" id="ss4.16"></a>4.16 製作 .rpm </h2>

<p><code>rpm</code>是一種管理整套軟件的好方法，除非在特殊情況下(安全理由)，
一般我都不太願意安裝.tar.gz軟件。要安裝.tar.gz軟件時，不妨將其轉換成.rpm檔，
然後再安裝；參考RPM  HOWTO。此外，在使用比較新的<code>gcc</code>版本時，例如
<code>egcs</code>或<code>pgcc</code>，
不妨將下列內容加入<code>/etc/rpmrc</code>：</p>
<pre class="sample">
optflags: i386 -O2 -mpentium
</pre>
<h2><a name="ss4.17" id="ss4.17"></a>4.17 Upgrading </h2>


<p>在機器升級時，應首先製作備份，並保存一些重要文檔，其中應包括
/etc/X11/XF86Config、/usr/bin/fax和/usr/local
中的所有文檔以及內核設置、全套/etc和/var/spool/mail中的所有郵件。</p>
<p>然後應該升級（極少降級）軟件版本附帶的應用軟件，和增加應用軟件。</p>

<hr/>
<table >
  <tr>
    <td class="BtdL"> <a href="Config-HOWTO-3.html" accesskey="P">上一頁(P)</a> </td>
    <td class="BtdC"> <a href="index.html" accesskey="H">目錄(H)</a> </td>
    <td class="BtdR"> <a href="Config-HOWTO-5.html">下一頁(N)</a> </td>
  </tr>
  <tr>
    <td class="BtdL">管理員的一般工作</td>
    <td class="BtdC"><a href="Config-HOWTO-4.html"  accesskey="T">到頂層(T)</a></td>
    <td class="BtdR">設置軟件</td>
  </tr>
</table>
<div> <a href="http://validator.w3.org/check/referer"><img src="../../../valid-xhtml10.png"  alt="符合 XHTML 1.0" class="ImgLogo"/></a> <a href="http://jigsaw.w3.org/css-validator/"><img class="ImgLogo" src="../../../vcss.png"  alt="符合 CSS"/></a> <a href="http://www.w3.org/WAI/WCAG1AA-Conformance" title="Explanation of Level Double-A Conformance"><img class="ImgLogo" src="../../../wcag1AA.gif" alt="Level Double-A conformance icon,  W3C-WAI Web Content Accessibility Guidelines 1.0"/></a> <a href="http://www.w3.org/RDF/" title="RDF 資源描述架構"><img  src="../../../rdf.gif" class="ImgLogo" alt="表示該網頁支援資源描述架構"/></a> <a href="http://www.icra.org/_en/"><img src="../../../icra_sw.gif" title="網路內容分級協會" alt="網路內容分級協會" class="ImgLogo"/></a></div>
</body>
</html>
