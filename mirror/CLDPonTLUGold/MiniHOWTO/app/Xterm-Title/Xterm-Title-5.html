<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="zh-TW" xml:lang="zh-TW" xmlns="http://www.w3.org/1999/xhtml">
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 
 <title>如何變更 xterm 的主題: 顯示正在執行的工作名稱</title>
 <link href="Xterm-Title-6.html" rel="next" title="6. 附錄: 其它型式終端機的溢位序列" />
 <link href="Xterm-Title-4.html" rel="previous" title="4. 各種命令解譯器的範例" />
 <link href="../../style.css" rel="stylesheet" type="text/css" />
  <link href="http://tldp.org/HOWTO/mini/Xterm-Title.html" rel="alternate" title="原版" />
 <link href="Xterm-Title-1.html" rel="chapter" title="1.可以在哪找到這份文件" />
 <link href="Xterm-Title-2.html" rel="chapter" title="2.靜態主題" />
 <link href="Xterm-Title-3.html" rel="chapter" title="3.動態主題" />
 <link href="Xterm-Title-4.html" rel="chapter" title="4.各種命令解譯器的範例" />
 <link href="Xterm-Title-5.html" rel="chapter" title="5.顯示正在執行的工作名稱" />
 <link href="Xterm-Title-6.html" rel="chapter" title="6.附錄: 其它型式終端機的溢位序列" />
 <link href="Xterm-Title-7.html" rel="chapter" title="7.附錄: 其它語言的範例" />
 <link href="Xterm-Title-8.html" rel="chapter" title="8.銘謝Credits" />
 <meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html"  labels ratings (ca 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html"  labels ratings (n 0 s 0 v 0 l 0))'/>
 <link href="Xterm-Title-5.html#ss5.1" rel="section" title="5.1 zsh " />
 <link href="Xterm-Title-5.html#ss5.2" rel="section" title="5.2 其他命令解譯器s" />
 <link href="Xterm-Title.rdf" rel="meta" title="各章節的說明資訊" />
</head> <body> 
<table    >
  <tr>
    <th colspan="3" class="HdTitle">如何變更
    xterm 的主題</th>
  </tr>
  <tr>
    <td class="TtdL"> <a href="Xterm-Title-4.html" accesskey="P">上一頁(P)</a> </td>
    <td class="TtdC"></td>
    <td class="TtdR"> <a href="Xterm-Title-6.html" accesskey="N">下一頁(N)</a> </td>
  </tr>
</table>
<hr />
<h1>5. 顯示正在執行的工作名稱</h1>

<p>通常使用者會啟動一個一直在前景執行的工作如 <code>top</code>, 或
一個編輯器, 一個 email 用戶端, 等等, 並希望這個工作的名稱被顯示在
xterm 的主題上. 這是個很棘手的問題且只能在 <code>zsh</code> 環境下可以輕鬆完成.</p>

<h2><a name="ss5.1" id="ss5.1"></a>5.1 zsh </h2>

<p><code>zsh</code> 為這種需求提供了一個很理想的內建功能:</p>
<pre class="sample">
preexec()   一個在命令執行前一定會叫用的功能函式名
$*,$1,...   傳送到 preexec() 的參數
  </pre>
<p>因此, 我們可以用下面的方式把工作名稱放到主題上:</p>
<pre class="sample">
case $TERM in
    xterm*)
      preexec () {
        print -Pn "\e]0;$*\a"
      }
    ;;
esac
</pre>
<p>  記住: <code>preexec()</code> 功能函式在 <code>zsh</code> 3.1.2 版出現,
如果你用的版本較舊那就需要更新一下.</p>


<h2><a name="ss5.2" id="ss5.2"></a>5.2 其他命令解譯器s </h2>

<p>對其它缺少 <code>preexec()</code> 函式的命令解譯器, 就不是那麼簡單了.
如果任何人有範例可以完成同樣的工作請把它 email 給作者.</p>


<hr />
<table




>
  <tr
>
    <td class="BtdL"
><a href="Xterm-Title-4.html" accesskey="P">上一頁(P)</a></td
>
    <td class="BtdC"
><a href="index.html" accesskey="H">目錄(H)</a></td
>
    <td class="BtdR"
><a
href="Xterm-Title-6.html"
>下一頁(N)</a
></td
>
  </tr
>
  <tr
>
    <td class="BtdL"
>各種命令解譯器的範例</td
>
    <td class="BtdC"
><a href="Xterm-Title-5.html" accesskey="T">到頂層(T)</a></td
>
    <td class="BtdR"
>附錄: 其它型式終端機的溢位序列</td
>
  </tr
>
</table
>
<div> <a href="http://validator.w3.org/check/referer"><img src="../../../valid-xhtml10.png"  alt="符合 XHTML 1.0" class="ImgLogo"/></a> <a href="http://jigsaw.w3.org/css-validator/"><img class="ImgLogo" src="../../../vcss.png"  alt="符合 CSS"/></a> <a href="http://www.w3.org/WAI/WCAG1AA-Conformance" title="Explanation of Level Double-A Conformance"><img class="ImgLogo" src="../../../wcag1AA.gif" alt="Level Double-A conformance icon,  W3C-WAI Web Content Accessibility Guidelines 1.0"/></a> <a href="http://www.w3.org/RDF/" title="RDF 資源描述架構"><img  src="../../../rdf.gif" class="ImgLogo" alt="表示該網頁支援資源描述架構"/></a> <a href="http://www.icra.org/_en/"><img src="../../../icra_sw.gif" title="網路內容分級協會" alt="網路內容分級協會" class="ImgLogo"/></a></div>
</body>
</html>
