<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=big5">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>SGML-Tools 使用說明中譯版: 使用 SGML-Tools 撰寫文件</TITLE>
 <LINK HREF="SGML-Guide-2.html" REL=previous>
 <LINK HREF="SGML-Guide.html#toc3" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<IMG SRC="img/next.gif" ALT="Next">
<A HREF="SGML-Guide-2.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="SGML-Guide.html#toc3"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s3">3. 使用 SGML-Tools 撰寫文件</A></H2>

<P>使用 SGML-Tools DTD 撰寫文件的過程大部分是非常容易的，而且有點類似 LaTeX．
然而，仍然有些限制要注意．這一節我將介紹 SGML 文件的撰寫．
SGML 文件範例(及寫作指引)請參閱 <CODE>example.sgml</CODE> 檔案，你可以拿來當作自己文件的範本．
在此我將討論 SGML 的各項功能，但是以原始文件作為範例不是很有可讀性．
因此，印出 <CODE>example.sgml</CODE> 的原始碼(編排後的輸出)，如此你就有真實的參考範例。
<P>
<H2><A NAME="ss3.1">3.1 基本概念</A>
</H2>

<P>仔細看範例文件的原始文件，你會注意到裡面有許多以角括號(<CODE>&lt;</CODE> 及 <CODE>&gt;</CODE>)標示的「標籤(tags)」．
標籤單純地指出某組成元素的起始，這裡所謂的組成元素是一節，一段，一句斜體的文句，列表中的一個項目，以及諸如此類的結構．
使用標籤就像使用 LaTeX 指令如 <CODE>\item</CODE> 或是 <CODE>\section{...}</CODE> 等一般．
<P>舉個簡單的例子，要產生這一段 <B>粗體文字</B>，我在原始碼中鍵入
<BLOCKQUOTE><CODE>
<PRE>
舉個簡單的例子，要產生這一段 &lt;bf>粗體文字&lt;/bf>, ...
</PRE>
</CODE></BLOCKQUOTE>

<CODE>&lt;bf></CODE> 是這段粗體文字的開頭，而 <CODE>&lt;/bf></CODE> 是結尾．
你也可以使用這個簡略形式：
<BLOCKQUOTE><CODE>
<PRE>
舉個簡單的例子，要產生這一段 &lt;bf/粗體文字/, ...
</PRE>
</CODE></BLOCKQUOTE>

就是用斜線將粗體文字包住．(當然，如果被包含的文字含有線，你就必須使用長的形式，
例如 Unix 的檔案名稱．)
<P>關於特殊字元還有其它得要注意的問題
(這就是為什麼如果你仔細觀察原始文件就會注意到這些看起來很怪異 "&amp;" 表示式；我將簡短地說明這些符號)．
<P>在某些情況下，特定的組成元素之結尾標籤是可選用的．
例如，你在某一節的開始使用 <CODE>&lt;sect></CODE> 這個標籤，然而，該節的結尾標籤
(可以出現在該節主體本身結束的地方，而不只是該節的名稱後面!)
是可選用的而當你在同一個層次開始另外一節的時候也就暗示著該節的結束．
一般來說你不需要擔心這些細節；只要跟著使用在 <CODE>example.sgml</CODE> 指引裡的範例就可以了。
<P>
<H2><A NAME="ss3.2">3.2 特殊字元</A>
</H2>

<P>很明顯的，角括號它們本身就是 SGML 原始文件裡的特殊字元．另外還有其它該注意的字元．
例如，假設你想鍵入由角括號所涵蓋的表示式，像這樣: <CODE>&lt;foo></CODE>．
為了表示左邊的角括號，你必須使用 <CODE>&amp;lt;</CODE> 這個組成元素，
這是一個會展開成左括號字元的「巨集」．因此，我在原始文件中鍵入
<BLOCKQUOTE><CODE>
<PRE>
angle brackets around it, as so: &lt;tt>&amp;lt;foo>&lt;/tt>.
</PRE>
</CODE></BLOCKQUOTE>

一般來說，以結合字元(&amp;)作為開始表示這是一個特殊的巨集．
例如，產生 % 符號的 <CODE>&amp;percnt;</CODE>
產生 | 的 <CODE>&amp;verbar;</CODE> 等等．
對於所有的「特殊字元」都有結合巨集可以表示它們．
<P>通常，你不需要使用結合巨集表示某特殊字元，然而，在某些情況下這是必須的。最常用的是：
<UL>
<LI>Use <CODE>&amp;amp;</CODE> for the ampersand (&amp;), </LI>
<LI>Use <CODE>&amp;lt;</CODE> for a left bracket (&lt;),</LI>
<LI>Use <CODE>&amp;gt;</CODE> for a right bracket (&gt;),</LI>
<LI>Use <CODE>&amp;lt;/</CODE> for a left bracket with a slash 
(<CODE>&lt;/</CODE>)</LI>
<LI>Use <CODE>&amp;dollar;</CODE> for a dollar sign ($),</LI>
<LI>Use <CODE>&amp;num;</CODE> for a hash (#),</LI>
<LI>Use <CODE>&amp;percnt;</CODE> for a percent (%),</LI>
<LI>Use <CODE>&amp;tilde;</CODE> for a tilde (~),</LI>
<LI>Use <CODE>``</CODE> and <CODE>''</CODE> for quotes, or use
<CODE>&amp;ldquo;</CODE> for &ldquo;, <CODE>&amp;rdquo;</CODE> for &rdquo;.</LI>
</UL>
<P>完整的特殊字元列表可以查看其中一個替換檔．
通常 LaTeX 最會抱怨特殊字元，所以查閱 
<CODE>$SGMLTOOLSLIB/rep/latex/general</CODE> 會是個好的開始．
<CODE>$SGMLTOOLSLIB</CODE> 定義在 SGML 轉換程序的最前面．
<P>
<H2><A NAME="ss3.3">3.3 Verbatim 與 Code 環境</A>
</H2>

<P>當我們正討論特殊字元這個主題時，我也必須提到「verbatim 環境」，
用來在輸出中含入不加變動的文字(空白字元以及縮排，和諸如此類)．
<CODE>verb</CODE> 這個組成元素就是做此用途的．它看起來就像這樣：
<BLOCKQUOTE><CODE>
<PRE>
&lt;verb>
 Some literal text to include as example output.
&lt;/verb>
</PRE>
</CODE></BLOCKQUOTE>

<CODE>verb</CODE> 環境不允許你在其內容中使用<EM>任何東西</EM>．
特別地，在 <CODE>verb</CODE> 環境中你必須：
<UL>
<LI>使用 <CODE>&amp;amp;</CODE> 代表 <CODE>&amp;</CODE></LI>
<LI>使用 <CODE>&amp;lt;/</CODE> 代表 <CODE>&lt;/</CODE></LI>
<LI>不要在 <CODE>verb</CODE> 環境中使用 <CODE>\end{verbatim}</CODE>，
因為這是 LaTeX 用來結束 <CODE>verbatim</CODE> 環境的．
(未來應該可能完全的隱藏底層的文字編排，但目前的解析器還不支援．)</LI>
</UL>

<CODE>code</CODE> 環境非常類似 <CODE>verb</CODE> 環境，除了在文字周圍加入分隔線
<HR>
<PRE>
這是 code 環境的例子．
</PRE>
<HR>
<P>你應該在任何 <CODE>verb</CODE> 環境的周圍使用 <CODE>tscreen</CODE> 環境，像這樣：
<BLOCKQUOTE><CODE>
<PRE>
&lt;tscreen>&lt;verb>
這是一段例句．
&lt;/verb>&lt;/tscreen>
</PRE>
</CODE></BLOCKQUOTE>

<CODE>tscreen</CODE> 是一個環境單純地縮排並設定預設字型為 <CODE>tt</CODE>．
這使得範例要論在 LaTeX 以及純文字的版本中看起來好多了．
你可以使用 <CODE>tscreen</CODE> 而不加 <CODE>verb</CODE>，不過，如果你在範例中使用任何的特殊字元那麼你就需要它們兩個．
<CODE>tscreen</CODE> 與特殊字元無關．範例請參閱 <CODE>example.sgml</CODE>．
<P><CODE>quote</CODE> 環境類似 <CODE>tscreen</CODE>，除了不將預設字型設為 <CODE>tt</CODE>．所以，你可以使用 <CODE>quote</CODE> 於與電腦無關的引用，如：
<BLOCKQUOTE><CODE>
<PRE>
&lt;quote>
Here is some text to be indented, as in a quote.
&lt;/quote>
</PRE>
</CODE></BLOCKQUOTE>

這會產生：
<BLOCKQUOTE>
Here is some text to be indented, as in a quote.
</BLOCKQUOTE>
<P>
<H2><A NAME="ss3.4">3.4 文件內容概觀</A>
</H2>

<P>在我們深入研究細節之前，我要開始介紹 linuxdoc DTD 定義的文件概觀．文件如何設立的範例請仔細觀看 <CODE>example.sgml</CODE>．
<P>
<H3>序文</H3>

<P>在文件的「序文」中你設立像是標題以及文件型態(style)的東西．Linux HOWTO 文件看起來應該像：
<BLOCKQUOTE><CODE>
<PRE>
&lt;!doctype linuxdoc system>

&lt;article>

&lt;title>Linux Foo HOWTO
&lt;author>阿偉, &lt;tt/cwhuang@phys.ntu.edu.tw/
&lt;date>v1.0, 14 August 1997
&lt;abstract>
這份文件說明了如何使用 &lt;tt/foo/ 這個工具．
&lt;/abstract>

&lt;toc>
</PRE>
</CODE></BLOCKQUOTE>
<P>這些組成項目可以酌予增減但須按此順序．第一行告訴 SGML 解析程式使用 linuxdoc DTD．
<CODE>&lt;article></CODE> 這個標籤規定文件使用「article」此種文件型態．
(原先的 QWERTZ DTD 還定義 「report」以及「book」等型態；我並沒有修改它們以在 SGML-Tools 中使用)．
<P><CODE>title</CODE>, <CODE>author</CODE>, 以及 <CODE>date</CODE> 這些標籤的意義應該是很明顯的，
在 <CODE>date</CODE> 標籤中包含文件的版本編號以及最後修改時間．
<P><CODE>abstract</CODE> 標籤設定文件頂端<EM>在內容之前</EM>印出的文字．
如果你不想含入內容列表(<CODE>toc</CODE> 標籤)，那麼你可能不需要 <CODE>abstract</CODE>．
<P>
<H3>章節與段落</H3>

<P>在序文之後，你就可以準備進入文件本身．有下列的分節指令可以使用：
<UL>
<LI><CODE>sect</CODE>: 最頂層的章節 (也就是 1, 2, 等等) </LI>
<LI><CODE>sect1</CODE>: 第二層的次章節 (也就是  1.1, 1.2, 等等)</LI>
<LI><CODE>sect2</CODE>: 第三層的小章節</LI>
<LI><CODE>sect3</CODE>: 第四層的小小節</LI>
<LI><CODE>sect4</CODE>: 第五層的小小小節</LI>
</UL>

它們相當於 LaTeX 中對應的 <CODE>section</CODE>, <CODE>subsection</CODE> 等等．
<P>在 <CODE>sect</CODE>  (或 <CODE>sect</CODE>, <CODE>sect</CODE> 等等) 標籤之後跟著是該節的名稱．
例如，在文件的頂端，序文之後的是此標籤：
<BLOCKQUOTE><CODE>
<PRE>
&lt;sect>簡介
</PRE>
</CODE></BLOCKQUOTE>

而在此節開始的地方(段落)，有個標籤是：
<BLOCKQUOTE><CODE>
<PRE>
&lt;sect2>段落
</PRE>
</CODE></BLOCKQUOTE>

在一節的標籤之後，你開始文件的主體．然而，你必須以一個 <CODE>&lt;p></CODE> 標籤開始，像這樣：
<BLOCKQUOTE><CODE>
<PRE>
&lt;sect>簡介
&lt;p>
這是一份 SGML-Tools 文件處理的使用者指引....
</PRE>
</CODE></BLOCKQUOTE>

這是告訴解析程式你已完成一節的標題並且準備好開始本文主體．
其後，新的段落是以空白行開始(就如同 TeX)．例如，
<BLOCKQUOTE><CODE>
<PRE>
這是第一段的結尾．

而我們從這裡開始新的一段．
</PRE>
</CODE></BLOCKQUOTE>

沒有什麼理由要在每個段落的前面使用 <CODE>&lt;p></CODE> 標籤；只要在分節指令後面的第一個段落開始處加就行．
<P>
<H3>文件結尾</H3>

<P>在文件結束的地方，你必須使用這個標籤：
<BLOCKQUOTE><CODE>
<PRE>
&lt;/article>
</PRE>
</CODE></BLOCKQUOTE>
<P>以告訴解析程式你已經完成 <CODE>article</CODE> 這個組成元素(涵蓋整份文件)．
<H2><A NAME="cross-ref"></A> <A NAME="ss3.5">3.5 交互參考</A>
</H2>

<P>現在我們要進入系統的其它功能．交互參考很容易．例如，如果你想要製作某一節的交互參考，你得像這樣標示該節:
<BLOCKQUOTE><CODE>
<PRE>
&lt;sect1>簡介&lt;label id="sec-intro">
</PRE>
</CODE></BLOCKQUOTE>

接著你就可以在文件中的某個地方式用這個表示式參照該節：
<BLOCKQUOTE><CODE>
<PRE>
請參考&lt;ref id="sec-intro" name="簡介">一節的介紹．
</PRE>
</CODE></BLOCKQUOTE>

這將會以 <CODE>sec-intro</CODE> 標記的節號替換掉這個 <CODE>ref</CODE> 標籤．
對於 groff 以及 HTML 轉換 <CODE>name</CODE> 這個參數是必須的．
SGML-Tools 使用的 groff 巨集設定目前並未支援交互參考，而且它常常以名稱取代數字參照某一節．
<P>例如，本節是
<A HREF="#cross-ref">交互參考</A>．
<P>在全球資訊網上使用的通用資源定位器，即 URL 也有組成元素 <CODE>url</CODE>．
這個元素應該用來參照其它文件，FTP 上的檔案等等．例如：
<BLOCKQUOTE><CODE>
<PRE>
你可從此取得 Linux HOWTO 文件
&lt;url url="http://sunsite.unc.edu/mdw/HOWTO/" 
   name="The Linux HOWTO INDEX">．
</PRE>
</CODE></BLOCKQUOTE>

<CODE>url</CODE> 這個參數指定這個 URL 本身．連結會自動加入到 HTML 文件中．
可選用的 <CODE>name</CODE> 參數指定應該加上連結的文字(HTML 轉換)或是為 URL 描述命名(LaTeX 或 groff)．如果沒有給 <CODE>name</CODE> 參數，會使用這個 URL 本身．
<P>例如，你可以從這裡取得 SGML-Tools 套件<BR>
<CODE>
<A HREF="ftp://sunsite.unc.edu/pub/Linux/utils/text/sgml-tools-0.99.0.tar.gz">ftp://sunsite.unc.edu/pub/Linux/utils/text/sgml-tools-0.99.0.tar.gz</A></CODE>.
<P>一個有用的變形是 <CODE>htmlurl</CODE>，除了 HTML 文件在其它每種文件中這個 URL 部份將不會出現．
它用在像是個人的電子郵件位址；你可以寫
<BLOCKQUOTE><CODE>
<PRE>
&lt;htmlurl url="mailto:esr@snark.thyrsus.com"
      name="esr@snark.thyrsus.com">
</PRE>
</CODE></BLOCKQUOTE>

而在純文字輸出中獲得「esr@snark.thyrsus.com」
而不是重複的「esr@snark.thyrsus.com &lt;mailto:esr@snark.thyrsus.com&gt;」
但是在 HTML 文件中仍然保有適當的 URL 部份．
<P>
<H2><A NAME="ss3.6">3.6 字型</A>
</H2>

<P>基本上，SGML-Tools 支援與 LaTeX 相同的字型．
注意，無論如何，純文字的轉換(經由 <CODE>groff</CODE>)不理會有關字型的資訊．
所以，你可以盡可能的使用多種字型，這對 LaTeX 的轉換會有好處．
但是在純文字的版本中不要指望能用字型點出重點．
<P>特別是，前面描述過的 <CODE>tt</CODE> 這個標籤可以用來獲致寬度固定的「打字機」字型，
這應該用在所有的電子郵遞位址，機器名稱，檔案名稱等等．
例如：
<BLOCKQUOTE><CODE>
<PRE>
Here is some &lt;tt>typewriter text&lt;/tt> to be included in the document.
</PRE>
</CODE></BLOCKQUOTE>

相當於：
<BLOCKQUOTE><CODE>
<PRE>
Here is some &lt;tt/typewriter text/ to be included in the document.
</PRE>
</CODE></BLOCKQUOTE>

記得如果被包含的文字不含有斜線你可以使用簡略形式．
<P>其它的字型有 <B>粗體字</B> 用的 <CODE>bf</CODE> 以及 <EM>斜體字</EM> 用的 <CODE>em</CODE>．
另外還支援數種字型，但是我不建議你使用它們，因為它們會被轉換成像 HTML 不支援的字型．
粗體，打字機體，以及斜體應該能滿足你的需要．
<P>
<H2><A NAME="ss3.7">3.7 列表</A>
</H2>

<P>此系統支援數種不同的列表．它們是：
<UL>
<LI><CODE>itemize</CODE> 像這樣的告示列表</LI>
<LI><CODE>enum</CODE> 數字列表</LI>
<LI><CODE>descrip</CODE> 描述列表</LI>
</UL>

在 <CODE>itemize</CODE> 或是 <CODE>enum</CODE> 裡的項目必須以 <CODE>item</CODE> 標籤加以標示．
在 <CODE>descrip</CODE> 裡的項目必須以 <CODE>tag</CODE> 標示．
例如，
<BLOCKQUOTE><CODE>
<PRE>
&lt;itemize>
&lt;item>這是一個項目．
&lt;item>這是第二個項目．
&lt;/itemize>
</PRE>
</CODE></BLOCKQUOTE>

看起來像是這樣：
<UL>
<LI>這是一個項目．</LI>
<LI>這是第二個項目．</LI>
</UL>

在 <CODE>enum</CODE> 中
<BLOCKQUOTE><CODE>
<PRE>
&lt;enum>
&lt;item>這是第一個項目．
&lt;item>這是第二個項目．
&lt;/enum>
</PRE>
</CODE></BLOCKQUOTE>

你應看得出來，列表可以是巢狀的．細節請參閱範例文件．
<P><CODE>descrip</CODE> 列表稍有不同，而且有點難看，但是在某些情況下你可能會想使用它：
<BLOCKQUOTE><CODE>
<PRE>
&lt;descrip>
&lt;tag/Gnats./ Annoying little bugs that fly into your cooling fan.
&lt;tag/Gnus./ Annoying little bugs that run on your CPU.
&lt;/descrip>
</PRE>
</CODE></BLOCKQUOTE>

最後看起來像：
<DL>
<DT><B>Gnats.</B><DD><P>Annoying little bugs that fly into your cooling fan.
<DT><B>Gnus.</B><DD><P>Annoying little bugs that run on your CPU.
</DL>
<P>
<H2><A NAME="ss3.8">3.8 更進一步的資訊</A>
</H2>

<P>
<OL>
<LI>QWERTZ 使用者指引可以從這裡取得
<CODE>
<A HREF="ftp://ftp.cs.cornell.edu/pub/mdw/SGML">ftp://ftp.cs.cornell.edu/pub/mdw/SGML</A></CODE>.
QWERTZ (以及 SGML-Tools) 還支援像是數學公式，表格，圖形等許多特性．
如果你想用 SGML 寫一般的文件，我建議你用原來的 QWERTZ DTD 而不要用修改過的 linuxdoc DTD，
因為這是我特別用來寫 Linux HOWTOs 及其它類似文件用的．
</LI>
<LI>Tom Gordon 的 QWERTZ tools 可在此找到：
<CODE>
<A HREF="ftp://ftp.gmd.de/GMD/sgml">ftp://ftp.gmd.de/GMD/sgml</A></CODE>.
</LI>
<LI>更多關於 SGML 的資訊可以在下面這些網頁找到：
<UL>
<LI><CODE>
<A HREF="http://www.w3.org/hypertext/WWW/MarkUp/SGML/">SGML and the Web</A></CODE></LI>
<LI><CODE>
<A HREF="http://www.sil.org/sgml/sgml.html">SGML Web Page</A></CODE></LI>
<LI><CODE>
<A HREF="http://www.yahoo.com/Computers_and_Internet/Information_and_Documentation/Data_Formats/SGML/">Yahoo's SGML Page</A></CODE></LI>
</UL>

</LI>
<LI>James Clark 的 <CODE>sgmls</CODE> 解析器，及後來的 <CODE>nsgmls</CODE> 還有其它工具可在這找到：
<CODE>
<A HREF="ftp://ftp.jclark.com">ftp://ftp.jclark.com</A></CODE> 以及 <CODE>
<A HREF="http://www.jclark.com">James Clark's WWW Page</A></CODE>.
</LI>
<LI><CODE>emacs psgml</CODE> 可在此找到：
<CODE>
<A HREF="ftp://ftp.lysator.liu.se/pub/sgml">ftp://ftp.lysator.liu.se/pub/sgml</A></CODE>．這個工具提供許多 SGML 的功能．
</LI>
<LI>你可以寄電子郵件到
<CODE>
<A HREF="mailto:majordomo@via.ecp.fr">majordomo@via.ecp.fr</A></CODE> 
以參與 SGML-Tools mailing list，內容寫 <CODE>subscribe sgml-tools</CODE>．
Mailing list 的地址是
<CODE>
<A HREF="mailto:sgml-tools@via.ecp.fr">sgml-tools@via.ecp.fr</A></CODE>．
</LI>
<LI>關於 <CODE>LyX</CODE> 的更多資訊可以在此找到：
<CODE>
<A HREF="http://wsiserv.informatik.uni-tuebingen.de/~ettrich/">LyX WWW Page</A></CODE>.  <CODE>LyX</CODE> 是一個給 LaTeX 用的高階文字處理器前端．
具半所見即所得界面，會自動產生許多 LaTeX 的樣式及格局．
可以增快 LaTeX 的學習而且使複雜的格局變簡單且直接．
</LI>
</OL>
<HR>
<IMG SRC="img/next.gif" ALT="Next">
<A HREF="SGML-Guide-2.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="SGML-Guide.html#toc3"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
