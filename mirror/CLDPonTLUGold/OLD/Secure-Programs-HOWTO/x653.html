<HTML
><HEAD
><TITLE
>安全地失敗</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"><LINK
REL="HOME"
TITLE="Linux和Unix安全編程HOWTO"
HREF="book1.html"><LINK
REL="UP"
TITLE="程序內部結構與解決方案"
HREF="c579.html"><LINK
REL="PREVIOUS"
TITLE="安全地配置并使用安全的缺省值"
HREF="x646.html"><LINK
REL="NEXT"
TITLE="避免競爭狀態"
HREF="x658.html"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux和Unix安全編程HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x646.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 6. 程序內部結構與解決方案</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x658.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN653"
>安全地失敗</A
></H1
><P
>安全程序應該總是“安全地失敗”，也就是說，它應該設計為一旦失敗，出現的是最安全的結果。對于關鍵性安全程序，這一般意味著在檢測到某些錯誤行為（格式不正確的輸入、到達某個“不可能到達”的狀態，等等）時，程序應該立刻拒絕服務并停止處理該請求。不要試圖“指出用戶想做什么”：只是拒絕服務。有時這會降低可靠性或可用性（從用戶的角度來看），但它會提高安全性。在若干場合這可能不是所期望的結果（例如拒絕服務比喪失秘密或完整要壞得多的場合），但這樣的情況是相當少見的。</P
><P
>注意，我推荐的是“停止處理該請求”，而不是“一起失敗”。特別是大多數服務器不應該在得到格式不正確的輸入時完全暫停，因為這會給拒絕服務攻擊創造一個平常的機會（攻擊者只要發送垃圾比特就可以阻止他人使用服務了）。有時讓整個系統宕機是必需的，特別是到達某個“不可能到達”的狀態可能表明一個問題的嚴重程度使得繼續運行變得不理智。</P
><P
>要仔細考慮檢測到失效時發回的錯誤信息。如果什么都不發回，可能很難診斷問題，但發回太多的信息，可能無意中幫助了攻擊者。通常最好的方法是回答“拒絕訪問”或“遇到多種錯誤”，然后把更詳細的信息寫入一個審計日志文件（在這里就可以更好地控制哪些人可以看到這些信息）。</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x646.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x658.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>安全地配置并使用安全的缺省值</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c579.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>避免競爭狀態</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>