<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>好的開發習慣</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.59"><LINK
REL="HOME"
HREF="t1.html"><LINK
REL="PREVIOUS"
TITLE="選擇好的許可証和版權︰實踐篇"
HREF="licensepractice.html"><LINK
REL="NEXT"
TITLE="制作項目發布包的好經驗"
HREF="distpractice.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="licensepractice.html"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="distpractice.html"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="DEVELPRACTICE"
>好的開發習慣</A
></H1
><P
>本章節主要內容側重于確保程序的可移植性，這不僅限于各種Linux系統，而
且也針對各種UNIX系統。對其他UNIX系統保持可移植性并非是故意賣弄技朮或
者是遵守黑客的禮節，而是一種保持未來Linux自身發展不分裂的保障手段。</P
><P
>另外，如果其他人<I
CLASS="EMPHASIS"
>正在</I
>試圖將您的項目移植到其他非Linux系統上，一個可移植性好
的項目可以讓您最大限度的避開各種煩人的Email質詢。</P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="LANGUAGE"
>寫標准的ANSI C程序或者可移植的腳本程序</A
></H2
><P
>要有可移植性和穩定性，您最好只用ANSI C寫程序，要不就用某種腳本語言，這
樣能夠保持可移植性的原因是他們底層的實現對于不同平台是一致的。</P
><P
>有資格被成為跨平台的腳本語言包括 Python、Perl、Tcl、Emacs Lisp 和 PHP。
普通的老式Shell則<I
CLASS="EMPHASIS"
>不具有</I
>好的可移植性﹔因為他們在不同平台上的實現有許多
細微的語法差別，而且Shell的外殼環境極易受到用戶個性化設置（如alias設置）
的干擾。</P
><P
>Java總是聲稱自己是跨平台的語言，但是Java在Linux上的實現還非常少而且與
Linux系統的集成度還比較差。雖然Java以后成熟了將會變得非常流行，不過時
下還是不要選她的好。</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="CPORT"
>遵守C程序的可移植慣例</A
></H2
><P
>如果您用C寫程序，請記住一定要完全遵從ANSI標准──包括函數原型，這樣可
以幫助您去掉跨平台模塊的不一致性。老的K&#38;R編譯器已經成為了歷史。</P
><P
>另外，<I
CLASS="EMPHASIS"
>不要</I
>認為一些GCC特有的特征，比如“-pipe”編譯選項以及嵌套函數等，
在所有平台上都有效。因為這樣的選項會在其他人試圖將項目移植到非Linux、
非GCC系統上時起作用并被“咬”一口。</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AUTOCONF"
>使用autoconf/automake/autoheader工具</A
></H2
><P
>如果用C寫程序，記住一定要用autoconf/automake/autoheader工具來處理各種
移植性的問題，用這些工具完成系統配置信息的收集，創建makefile文件。現在
許多人在打算編譯源碼時只希望通過“configure; make”這樣簡單的命令就可
以得到干淨利落的編譯，事實上大家就是這么干的。</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="SANITYCODE"
>發布前要仔細地檢查代碼</A
></H2
><P
>如果是用C寫程序，至少在每次發布之前要記得用 -Wall 編譯選項重新編譯一遍并
去除編譯中遇到的任何錯誤。這么做可以幫助您發現不少沒有想到的錯誤。
要是想更徹底的檢查，那就用 -pedantic 選項再編譯一遍。</P
><P
>如果是用Perl，請使用perl -c(如果可行，有可能還有-T)來檢查您的代碼。
請堅定不移地使用perl -w和"use strict"。（請詳見Perl文檔。）</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="SANITYDOCS"
>發布前要仔細地檢查文檔和README等文件</A
></H2
><P
>文檔發布前最好用拼寫檢查工具查一遍。如果您看起來沒有能力拼寫正確，
而且也不關心文檔的錯別字，那么其他人很自然地聯想到您的代碼是否
也同樣是亂七八糟和粗心大意呢？</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="licensepractice.html"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="t1.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="distpractice.html"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>選擇好的許可証和版權︰實踐篇</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>制作項目發布包的好經驗</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>