<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=big5">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>Linux 2.4 Packet Filtering HOWTO: 真正的 Rusty 封包過濾快速指南</TITLE>
 <LINK HREF="Packet-Filtering-HOWTO-6.html" REL=next>
 <LINK HREF="Packet-Filtering-HOWTO-4.html" REL=previous>
 <LINK HREF="Packet-Filtering-HOWTO.html#toc5" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<A HREF="Packet-Filtering-HOWTO-6.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="Packet-Filtering-HOWTO-4.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="Packet-Filtering-HOWTO.html#toc5"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s5">5. 真正的 Rusty 封包過濾快速指南</A></H2>

<P>大部分人都僅用單一的 PPP 撥接上網﹐同時並不想任何人進入他們的網路､或防火牆﹕
<P>
<BLOCKQUOTE><CODE>
<PRE>
## Insert connection-tracking modules (not needed if built into kernel).
# insmod ip_conntrack
# insmod ip_conntrack_ftp

## Create chain which blocks new connections, except if coming from inside.
# iptables -N block
# iptables -A block -m state --state ESTABLISHED,RELATED -j ACCEPT
# iptables -A block -m state --state NEW -i ! ppp0 -j ACCEPT
# iptables -A block -j DROP

## Jump to that chain from INPUT and FORWARD chains.
# iptables -A INPUT -j block
# iptables -A FORWARD -j block
</PRE>
</CODE></BLOCKQUOTE>
<P>
<HR>
<A HREF="Packet-Filtering-HOWTO-6.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="Packet-Filtering-HOWTO-4.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="Packet-Filtering-HOWTO.html#toc5"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
