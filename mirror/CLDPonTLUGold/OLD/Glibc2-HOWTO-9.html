<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=big5">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>Glibc 2 HOWTO 中文版: Specs 檔範例</TITLE>
 <LINK HREF="Glibc2-HOWTO-10.html" REL=next>
 <LINK HREF="Glibc2-HOWTO-8.html" REL=previous>
 <LINK HREF="Glibc2-HOWTO.html#toc9" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<A HREF="Glibc2-HOWTO-10.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="Glibc2-HOWTO-8.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="Glibc2-HOWTO.html#toc9"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="specs"></A> <A NAME="s9">9. Specs 檔範例</A></H2>

<P>
<P>這裡是一份 <CODE>specs</CODE> 的範例。這將使 gcc 用 glibc2 來編譯與連結。
它應該位於
<CODE>/usr/lib/gcc-lib/&lt;新系統目錄&gt;/&lt;gcc 版本&gt;</CODE>.
假如你用的是 x86 的系統，那你也許可以直接將這一段複製到檔案裡去。
<BLOCKQUOTE><CODE>
<PRE>
 *asm:
 %{V} %{v:%{!V:-V}} %{Qy:} %{!Qn:-Qy} %{n} %{T} %{Ym,*} %{Yd,*} %{Wa,*:%*}

 *asm_final:
 %{pipe:-}

 *cpp:
 %{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} %{!m386:-D__i486__} %{posix:-D_POSIX_SOURCE} %{pthread:-D_REENTRANT}

 *cc1:
 %{profile:-p}

 *cc1plus:

 *endfile:
 %{!shared:crtend.o%s} %{shared:crtendS.o%s} crtn.o%s

 *link:
 -m elf_i386 %{shared:-shared}   %{!shared:     %{!ibcs:       %{!static:       %{rdynamic:-export-dynamic}     %{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.2}}  %{static:-static}}}

 *lib:
 %{!shared: %{pthread:-lpthread}        %{profile:-lc_p} %{!profile: -lc}}

 *libgcc:
 -lgcc

 *startfile:
 %{!shared:      %{pg:gcrt1.o%s} %{!pg:%{p:gcrt1.o%s}                  %{!p:%{profile:gcrt1.o%s}                         %{!profile:crt1.o%s}}}}    crti.o%s %{!shared:crtbegin.o%s} %{shared:crtbeginS.o%s}

 *switches_need_spaces:

 *signed_char:
 %{funsigned-char:-D__CHAR_UNSIGNED__}

 *predefines:
 -D__ELF__ -Dunix -Di386 -Dlinux -Asystem(unix) -Asystem(posix) -Acpu(i386) -Amachine(i386)

 *cross_compile:
 0

 *multilib:
 . ;
 
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>
<HR>
<A HREF="Glibc2-HOWTO-10.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="Glibc2-HOWTO-8.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="Glibc2-HOWTO.html#toc9"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
