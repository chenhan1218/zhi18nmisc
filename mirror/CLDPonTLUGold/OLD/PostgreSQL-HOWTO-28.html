<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=big5">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE> Linux 的 Database-SQL-RDBMS HOWTO 文件 (PostgreSQL 物件關聯資料庫系統): 文件和參考書</TITLE>
 <LINK HREF="PostgreSQL-HOWTO-29.html" REL=next>
 <LINK HREF="PostgreSQL-HOWTO-27.html" REL=previous>
 <LINK HREF="PostgreSQL-HOWTO.html#toc28" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<A HREF="PostgreSQL-HOWTO-29.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="PostgreSQL-HOWTO-27.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="PostgreSQL-HOWTO.html#toc28"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s28">28. 文件和參考書</A></H2>

<P>
<H2><A NAME="ss28.1">28.1 用戶指引和說明書</A>
</H2>

<P>PostgreSQL 發行版本中已包括以下各項的 postscript、HTML 格式 和 unix 
man-pages。它們在 /usr/doc/postgresql* 目錄中。如果你能上網，
你可在以下地方找到下列文件︰ 
<A HREF="http://www.postgresql.org/docs">http://www.postgresql.org/docs</A><P>
<UL>
<LI> "Installation Guide"</LI>
<LI> "User Guide" for PostgreSQL</LI>
<LI> "Implementation Guide" 詳細說明 PostgreSQL 資料庫的內部運作</LI>
<LI> 線上說明書</LI>
<LI> HTML 格式的線上說明書</LI>
<LI> Postscript 格式的線上說明書，用以列印</LI>
</UL>
<H2><A NAME="ss28.2">28.2 線上文件</A>
</H2>

<P>
<UL>
<LI> 內建資料型態和運算元的名單和解說
<BLOCKQUOTE><CODE>
<PRE>
A 是否 PSQL 指令的一部分
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> 支援的 SQL 關鍵字名單
<BLOCKQUOTE><CODE>
<PRE>
在源程式 /tools 目錄中有一個命令稿 (script)
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> 支援的句語名單
<BLOCKQUOTE><CODE>
<PRE>
使用 psql \h 指令
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> PostgreSQL 的基本的關聯式資料庫概念（實施方法）和數個線上例子（查詢）
<BLOCKQUOTE><CODE>
<PRE>
看 src/test 中的 regression 測試，請參閱 &lt;ref name="例子 RPM" 
id="Examples RPM">。你會找到 regress/sql 和 suite/*.sql 目錄。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> PostgreSQL 指導
<BLOCKQUOTE><CODE>
<PRE>
SQL 指導稿件在 src/tutorial 目錄中
</PRE>
</CODE></BLOCKQUOTE>

也請參閱本文件附錄乙 
<A HREF="PostgreSQL-HOWTO-38.html#Appendix B">附錄乙</A> 的“初學者 SQL 指導”。</LI>
</UL>
<H2><A NAME="ss28.3">28.3 有用的參考書</A>
</H2>

<P>
<UL>
<LI> "Understanding the New SQL: A Complete Guide" - Jim Melton 和 
Alan R.Simon 著
<BLOCKQUOTE><CODE>
<PRE>
Morgan Kaufman Publisher 是其中一本最好的 SQL 書。這本書以 SQL92 為準。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> "A Guide to THE SQL STANDARD" - C.J.Date 著
<BLOCKQUOTE><CODE>
<PRE>

Addison-Wesley Publishing company 也是一本好書。有關 SQL 的名作。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI>SQL - The Standard Handbook,  一九九二年十一月
<BLOCKQUOTE><CODE>
<PRE>
Stephen Cannan 和 Gerard Otten
McGraw-Hill Book Company Europe , Berkshire, SL6 2QL, England
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI>SQL Instant Reference, 1993
<BLOCKQUOTE><CODE>
<PRE>
Martin Gruber, Technical Editor: Joe Celko
SYBEX Inc.  2021 Challenger Drive Alameda, CA 94501
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> C.J.Date, "An introduction to Database Systems"
(第六版), Addison-Wesley, 1995, ISBN 0-201-82458-2
<BLOCKQUOTE><CODE>
<PRE>
這本是資料庫管理系統的聖經。這本書詳細說明正規化 (normalization)、SQL、恢復 
(recovery)、並行性 (concurrency)、保安、整合性 (integrity)、
對原本的關聯模式的延伸、現今的話題如主從系統和物件導向模式。
也包括大量參考資料以供深入研究。向大部分用戶推薦。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> Stefan Stanczyk, "Theory and Practice of Relational Databases",
UCL Press Ltd, 1990, ISBN 1-857-28232-9
<BLOCKQUOTE><CODE>
<PRE>
這本書詳細說明關聯式資料庫、關係代數 (relational algebra)、關係演算 (calculus)
和正規化的理論。但它不包含現實世界的問題和較複雜的例子。向大部分用戶推薦。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI>"The Practical SQL Handbook" 第三版，
Addison Wesley Developers Press
ISBN 0-201-44787-8
<BLOCKQUOTE><CODE>
<PRE>
向大部分用戶推薦。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> Michael Stonebraker, "Readings in Database Systems",
Morgan Kaufmann, 1988, ISBN 0-934613-65-6
<BLOCKQUOTE><CODE>
<PRE>
這是過去數年有關資料庫的論文集。它不是給一般用者看，而是進階的學生（研究生）
或資料庫開發人員。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> C.J.Date, "Relational Database - Selected Readings",
Addison-Wesley, 1986, ISBN 0-201-14196-5
<BLOCKQUOTE><CODE>
<PRE>
這是過去數年有關資料庫的論文集。它不是給一般用者看，而是進階的學生（研究生）
或資料庫開發人員。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> Nick Ryan 和 Dan Smith, "Database Systems Engineering",
International Thomson Computer Press, 1995, ISBN 1-85032-115-9
<BLOCKQUOTE><CODE>
<PRE>
這本書深入說明存取方法和儲存技考。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> Bipin C. Desai, "An introduction to Database Systems",
West Publishing Co., 1990, ISBN 0-314-66771-7
<BLOCKQUOTE><CODE>
<PRE>
它不是給一般用者看，而是進階的學生（研究生）或資料庫開發人員。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> Joe Celko "INSTANT SQL Programming"
<BLOCKQUOTE><CODE>
<PRE>
Wrox Press Ltd.
Unit 16, 20 James Road, Tyseley
Birmingham, B11 2BA, England
1995
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> Michael Gorman "Database Management Systems: Understanding and 
Applying Database"
<BLOCKQUOTE><CODE>
<PRE>
Technology
QED and John Wiley
1991
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> Michael Gorman "Enterprise Database for a Client/Server Environment"
QED and John Wiley
<BLOCKQUOTE><CODE>
<PRE>
說明建立經由 repository metamodels 的主從資料庫應用程式的要求和 ANSI
標準 SQL 1993 的應用。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
</UL>
<P>還有數以百計有關 SQL 的書！到書店看看吧。
<H2><A NAME="ss28.4">28.4 ANSI/ISO SQL 規格文件—SQL 1992, SQL 1998</A>
</H2>

<P>ANSI/ISO SQL 規格文件可在下列網站找到︰
<UL>
<LI> 
<A HREF="http://www.naiua.org/std-orgs.html">http://www.naiua.org/std-orgs.html</A>
</LI>
<LI> 
<A HREF="http://www.ansi.org/docs">http://www.ansi.org/docs</A> 掣動檔案 cat_c.html 
及尋找“Database SQL”。
</LI>
<LI> SQL92 標準 
<A HREF="http://www.jcc.com">http://www.jcc.com</A> 掣動檔案 sql_stnd.html。
</LI>
<LI> ANSI/ISO SQL 規格 
<A HREF="http://www.contrib.andrew.cmu.edu/~shadow/sql.html">http://www.contrib.andrew.cmu.edu/~shadow/sql.html</A> 
你會在此找到 SQL 的參考資料。</LI>
</UL>
<H2><A NAME="ss28.5">28.5 ANSI/ISO SQL 1992 的語法</A>
</H2>

<P>請參閱本文件的附錄甲 
<A HREF="PostgreSQL-HOWTO-37.html#Appendix A">附錄甲</A><H2><A NAME="ss28.6">28.6 ANSI/ISO SQL 1998 的語法</A>
</H2>

<P>SQL 1998 (SQL 3) 規格仍在開發中。參看本文件的“電子途徑取得 SQL3 草案”
<A HREF="#SQL 1998">SQL 1998</A>
<H2><A NAME="ss28.7">28.7 初學者 SQL 導引</A>
</H2>

<P>參看本文附錄乙 
<A HREF="PostgreSQL-HOWTO-38.html#Appendix B">Appendix B</A>
<H2><A NAME="ss28.8">28.8 SQL92 的時態延伸 (Temporal Extension)</A>
</H2>

<P>
<UL>
<LI>SQL92 的時態延伸的文件
<A HREF="ftp://FTP.cs.arizona.edu/tsql/tsql2/">ftp://FTP.cs.arizona.edu/tsql/tsql2/</A>
</LI>
<LI>Temporal SQL-3 規格
<A HREF="ftp://FTP.cs.arizona.edu/tsql/tsql2/sql3/">ftp://FTP.cs.arizona.edu/tsql/tsql2/sql3/</A></LI>
</UL>
<P>這目錄中包括一個 SQL-92 語言規格的時態延伸。這種新語言被名為 TSQL2。
<P>這裡的語言規格是這語言的最終版本。
<P>可直接聯絡 TSQL2 設計委員會的主席︰Richard T.Snodgrass, 
Department of Computer Science, University of Arizona, Tucson, AZ 85721,
<UL>
<LI>       
<A HREF="mailto:rts@cs.arizona.edu">rts@cs.arizona.edu</A></LI>
</UL>

TSQL2 Language Design Committee 的電郵地址和入會詳情可在語言規格最後的
一章找到。
<P>這目錄中的內容如下。
<P>spec.dvi,.ps TSQL2 語言規格，一九九四年九月出版
<P>bookspec.ps  TSQL2 語言規格，內容如在 TSQL2 的書般，一九九五年十月
出版（請參閱下文）
<P>sql3         提交給 ANSI 和 ISO SQL3 籌委會的修訂建議
<P>和語言規格一起，這裡還收集了一些有關設計上的決定的評論、提供例子、
和研究如何實踐這語言。這些評論原本是給 TSQL2 Language Design Committee 
的建議。它們現在有另一個用處︰提供有關 TSQL2 構造的例子、
推動設計時作出的大量決定、比較 TSQL2 和過去十五年有人提議過的大量語言。
必須強調，請些評論目前不是 TSQL2 語言規格的一部分，而是對它的補充和發展。
這語言規格已是 TSQL2 的最終決定。
<P>這些評論，加上語言規格、數個索引和其他支援材料，已經集結成書︰
<P>Snodgrass, R.T., editor, The TSQL2 Temporal Query Language, Kluwer
Academic Publishers, 1995, 674+xxiv 頁。
<P>書中有一個節錄了的評價，完整的評價在此目錄中的 eval.ps 提供。
<P>tl2tsql2.pl 檔是一個把獲接受的時態邏輯 (temporal logic) 翻譯為 TSQL2 的 
prolog 程式。這程式由 Michael Boehlen 寫成。
<UL>
<LI>       
<A HREF="mailto:boehlen@iesd.auc.dk">boehlen@iesd.auc.dk</A></LI>
</UL>

各位可接觸他以取得一份解釋這翻譯過程的論文。這是這程式的舊版本。新版本在
<UL>
<LI> 
<A HREF="http://www.cs.auc.dk/general/DBS/tdb/TimeCenter/Software">http://www.cs.auc.dk/general/DBS/tdb/TimeCenter/Software</A></LI>
</UL>

(the TimeDB and Tiger systems).
<H2><A NAME="SQL 1998"></A> <A NAME="ss28.9">28.9 第零部分—取得 ISO/ANSI SQL 文件 </A>
</H2>

<P>這文章說明如何（合法地）取得一份 SQL-92 標準和怎樣取得一份“現時的”SQL3 草案。
<P>這標準版權所有， ANSI 標準的持有人為 ANSI，ISO 標準的持有人為 ISO。
<P>現時有兩（2）個 SQL 標準，分別由 ANSI 和 ISO 出版。這兩份標準每個字都一模一樣，
除了一些小節，如文件標題、頁首、短句“International Standard”和“American 
Standard”之類。
<P>
<P>購買 SQL-92 標準
<P>The ISO standard, ISO/IEC 9075:1992, Information Technology - Database
Languages - SQL，目前（一九九三年三月）在 ANSI 有存貨及可得到︰
<BLOCKQUOTE><CODE>
<PRE>
     American National Standards Institute
     1430 Broadway
     New York, NY 10018 (USA)
     Phone (sales): +1.212.642.4900
</PRE>
</CODE></BLOCKQUOTE>

價錢 US$230.00。ANSI 版，ANSI X3.135-1992, American National Standard for 
Information Systems - Database Language SQL，目前並無存貨，
但應該可在一九九三年三月下旬至五月上旬間得到。估計它的價錢是 US$225.00。
<P>如果你從 ANSI 購買任何一份文件，你需要給 7% 的手續費（即大約 
US$9.10）。海外郵寄肯定會更貴。ANSI 要求所有單據都伴隨一份公司訂單的複印本，
或者你可以美元寄一張美國的銀行的支票，他們會在結了賬後寄給你。
（例外情況︰如果你的組織是 ANSI 的公司會員 (corporate member)，ANSI 
會把文件寄給你而向公司收錢。）
<P>在美國國外，ISO 標準也可從作為 ISO (International Organization for 
Standardization) 或 IEC (International Electrotechnical Commission) 
會員的本土國營機構（國家的標準組織）購買。國營機構及其地址的名單可從 ANSI 
或其他國營機構取得。它們也可從 ISO 得到︰
<BLOCKQUOTE><CODE>
<PRE>
     International Organization for Standardization
     Central Secretariat
     1, rue de Varembi
     CH-1211 Genhve 20
     Switzerland
</PRE>
</CODE></BLOCKQUOTE>

如果你想以更方便快捷的方法訂購這標準，你需要附出代價。你可從以下組織以 
US$308.00 訂購 ISO/IEC 9075:1992, Information Technology - 
Database Languages - SQL︰
<BLOCKQUOTE><CODE>
<PRE>
     Global Engineering Documents
     2805 McGaw Ave
     Irvine, CA 92714 (USA)
     USA
     Phone (works from anywhere): +1.714.261.1455
     Phone (only in the USA): (800)854-7179
</PRE>
</CODE></BLOCKQUOTE>

我不知道這是否包括貨運費，但我估計（起碼）國際貨運會額外收費。
他們會頗為快捷地把文件寄給你，甚至會接受“主要的信用卡”。Global 還沒有 ANSI 
版，或他們沒有價錢或估計時間（但我預計它會在 ANSI 出版後數週之內出現，價錢接近 
US$300.00）。
<P>
<P>購買一份 SQL3 草案 (Working Draft)
<P>你可從 ANSI X3 Secretariat, CBEMA (Computer and Business Equipment Manufacturers
Association) 購買一份 SQL3 草案的複印本。他們意圖確保能提供“最近”版本的 
SQL3 草案，並以 US$60.00 至 US$65.00 出售。你可以以下途徑接觸 CBEMA。
<BLOCKQUOTE><CODE>
<PRE>
     CBEMA, X3 Secretariat
     Attn: Lynn Barra
     1250 Eye St.
     Suite 200
     Washington, DC 20005 (USA)
</PRE>
</CODE></BLOCKQUOTE>

Lynn Barra 也可以電話號碼 +1.202.626.5738 接觸以要求一份，不過郵寄似乎較有禮貌。
<P>電子徑取得 SQL3 草案
<P>最新版本（以寫本文時為準）的 SQL3（ANSI 和 ISO）草案（和所有附件）
可在以下站台以“anonymous ftp”或“ftpmail”得到︰
<BLOCKQUOTE><CODE>
<PRE>
     gatekeeper.dec.com

  在

     /pub/standards/sql/
</PRE>
</CODE></BLOCKQUOTE>

這目錄中有多個檔案，包括 PostScript 檔和純文字檔（格式不很美觀，
但可在螢幕上無須特別軟件閱讀）。
<P>一般來說，你可找到類似名稱的檔案︰
<BLOCKQUOTE><CODE>
<PRE>
     sql-bindings-mar94.ps
     sql-bindings-mar94.txt
     sql-cli-mar94.ps
     sql-cli-mar94.txt
     sql-foundation-mar94.ps
     sql-foundation-mar94.txt
     sql-framework-mar94.ps
     sql-framework-mar94.txt
     sql-psm-mar94.ps
     sql-psm-mar94.txt
</PRE>
</CODE></BLOCKQUOTE>

完成新版本的文件後，“mar94”會改變來說明新的出版日期（例如“aug94”是估計在
“mar94”之後的版本）。
<P>另外，為照顧不能從 FTP 取得檔案名單的讀者，我們在目錄中放置了一個名為
<BLOCKQUOTE><CODE>
<PRE>
     ls
</PRE>
</CODE></BLOCKQUOTE>

的檔案。這檔案（神奇！）包括了目錄內的檔案名單。
<P>
<P>從 Ftp 直接獲得檔案
<P>這是使用 FTP 的例子。它特別說明如何連接到 gatekeeper.dec.com，
到達放置這些檔案的目錄，及把檔案傳送到你的電腦。要注意的的電腦要有上網功能。
簽入名稱是‘ftp’，密碼則是你的電郵地址（即所謂‘anonymous ftp’）。指令‘type 
binary’是用來確保收到的檔案中沒有位元被截去。‘get’一次取得一個檔案。
在命令稿 (script) 中的注解會在角括號內 &lt; 即是如此 &gt;。
<BLOCKQUOTE><CODE>
<PRE>
  % ftp gatekeeper.dec.com
  Connected to gatekeeper.dec.com.
  220- *** /etc/motd.ftp ***
       Gatekeeper.DEC.COM is an unsupported service of DEC Corporate Research.
       &lt;…等一會…>
  220 gatekeeper.dec.com FTP server (Version 5.83 Sat ... 1992) ready.
  Name (gatekeeper.dec.com:&lt;你的登入名稱>): ftp  &lt;anonymous 也可>
  331 Guest login ok, send ident as password.
  Password: &lt;鍵入你的電郵地址>
  230 Guest login ok, access restrictions apply.
  Remote system type is UNIX.  &lt;什麼也沒所謂>
  Using binary mode to transfer files.
  ftp> cd pub/standards/sql
  250 CWD command successful.
  ftp> dir
  200 PORT command successful.
  150 Opening ASCII mode data connection for /bin/ls.
  total 9529
  -r--r--r--  1 root     system     357782 Feb 25 10:18 x3h2-93-081.ps
  -r--r--r--  1 root     system     158782 Feb 25 10:19 x3h2-93-081.txt
  -r--r--r--  1 root     system     195202 Feb 25 10:20 x3h2-93-082.ps
  -r--r--r--  1 root     system      90900 Feb 25 10:20 x3h2-93-082.txt
  -r--r--r--  1 root     system    5856284 Feb 25 09:55 x3h2-93-091.ps
  -r--r--r--  1 root     system    3043687 Feb 25 09:57 x3h2-93-091.txt
  226 Transfer complete.
  ftp> type binary
  200 Type set to I.
  ftp> get x3h2-93-082.txt
  200 PORT command successful.
  150 Opening BINARY mode data connection for x3h2-93-082.txt (90900 bytes).
  226 Transfer complete.
  90900 bytes received in 0.53 seconds (166.11 Kbytes/s)
  ftp> quit
  % &lt;這檔案已成為你的電腦中的 x3h2-93-082.txt>
</PRE>
</CODE></BLOCKQUOTE>

沒有 ftp 支援的情況下取得檔案
<P>Digital Equipment Corporation 和數間其他公司相似，提供 ftp email 
服務。它可能需要數天才有回應，但它為不能直接上網的人提供了等同 ftp 
的服務。伺服器的地址為︰
<P>ftpmail@decwrl.dec.com
<P>以下命令稿會取得最新版本的 SQL3 文件的 PostScript 版︰
<BLOCKQUOTE><CODE>
<PRE>
     reply joe.programmer@imaginary-corp.com
     connect gatekeeper.dec.com anonymous
     binary
     compress
     uuencode
     chdir /pub/standards/sql
     get x3h2-93-091.ps
     quit
</PRE>
</CODE></BLOCKQUOTE>

第一句指令告訴伺服器要把檔案傳給你，你需要把
“joe.programmer@imaginary-corp.com”換為你的電郵地址。這例子中的檔案 
x3h2-93-091.ps 會以 uuencode 了的 compress 檔格式，分成三十四封電郵回覆。
如果你的環境沒有提供重組檔案的工具，你需要用下列命令稿以純文字模式取得檔案︰
<BLOCKQUOTE><CODE>
<PRE>
     reply joe.programmer@imaginary-corp.com
     connect gatekeeper.dec.com anonymous
     chdir /pub/standards/sql
     get x3h2-93-091.ps
     quit
</PRE>
</CODE></BLOCKQUOTE>

但請注意，這 .ps 檔大概會被分為超過七十份來回覆！
<P>要取得任何不是 x3h2-93-091.ps 的檔案，只需把“x3h2-93-091.ps”
換為你想要的檔案的名稱。要取得所有檔案的名單，把“x3h2-93-091.ps”換為
“dir”。
<H2><A NAME="ss28.10">28.10 第一部分—ISO/ANSI SQL 當前情況</A>
</H2>

<P>這章是有關 SQL 標準和其當前情況的資料來源。
<P>當前情況︰
<P>目前正在進行開發工作，以改進 SQL 為為計算上完整的語言 (computationally 
complete language)，以可用於持久、複雜的物件。這包括︰一般化和專門化等級 
(generalization and specialization hierarchies)、多級繼承 (multiple 
inheritance)、自訂資料形態、激發 (triggers) 和判斷 
(assertions)、知識庫系統支援 (support for knowledge based systems)、迴遞查詢式 
(recursive query expression) 和附加資料管理工具。它也包括抽象資料型態 
(ADTs)、物件識別字 (object identifiers)、方法 (methods)、繼承 
(inheritance)、多型 (polymorphism)、包裝 (encapsulation)、
和所有其他與物件資料管理有關的功能的規格。
<P>一九九六年秋季，SQL3 數個部分進行了一次 ISO CD 不記名投票。這數部分是 
SQL/Framework、SQL/Foundation 和 SQL/Bindings。一如所料，
投票結果是在收到約九百個評論下遭否決。一月下旬舉行了一次 ISO DBL 編輯會議 
(editing meeting)，處理了大量在評論中提及或另外提交的問題解決方法。
由於該次會議未能處理所有評論，會議將會延長。
編輯會議定於一九九七年七月在倫敦完成。
<P>據估計，在七月的編輯會議之後，會再提出對有關那些部分的 SQL 進行最後的 CD 
投票。最後 CD 過程會花大約六個月，之後會有 DBL 編輯會議、DIS 投票和快捷的 
IS 投票。
<P>ISO 的程序在 SQL/92 之後改變了，所以 SQL 委員會仍在摸索這過程的詳情。
<P>如果事事順利，SQL3 的這些部分會在 1998 年後期成為官方 ISO/IEC 
標準，不過時間非常緊迫。
<P>在一九九三年，ANSI 和 ISO 開發委員會決定把之後的 SQL 
發展分為多部分的標準。這些部分包括︰
<P>
<UL>
<LI>   Part 1: Framework A non-technical description of how the document is
structured.</LI>
<LI>   Part 2: Foundation The core specification, including all of the new ADT
features.</LI>
<LI>   Part 3: SQL/CLI The Call Level Interface.</LI>
<LI>   Part 4: SQL/PSM The stored procedures specification, including
computational completeness.</LI>
<LI>   Part 5: SQL/Bindings The Dynamic SQL and Embedded SQL bindings taken
from SQL-92.</LI>
<LI>   Part 6: SQL/XA An SQL specialization of the popular XA Interface
developed by X/Open</LI>
<LI>   Part 7:SQL/TemporalAdds time related capabilities to the SQL standards.</LI>
</UL>
<P>在美國，SQL3 的整體同時當作 ANSI 本土 (Domestic, "D") 專案和 ISO 
專案處理。目前估計完成時間是一九九九年。
<P>SQL/CLI 和 SQL/PSM 現正以最高速度處理，以作為 SQL-92 的修訂。在美國，
它們只被當作國際 (International, "I") 專案處理。 SQL/CLI 
在一九九五年完成了。SQL/PSM 應該會在 1996 年未段完成。
<P>除了 SQL3 外，還有一些附加的計劃︰
<P>
<UL>
<LI>   SQL/MM An ongoing effort to define standard multi-media packages using
the SQL3 ADT capabilities.</LI>
<LI>   Remote Data Access (RDA)</LI>
</UL>
<P>標準委員會和過程 (Standards Committee and Process)
<P>事實上，世上有多個 SQL 標準委員會。ISO 有一部分是一個國際 SQL 
標準小組。多個國家都有以 SQL 為重點的委員會。這些國家（通常）派出代表參與 
ISO/IEC JTC1/SC 21/WG3 DBL 會議。主動參與 ISO SQL 標準制定的國家是︰
<P>
<UL>
<LI>   澳洲</LI>
<LI>   巴西</LI>
<LI>   加拿大</LI>
<LI>   法國</LI>
<LI>   德國</LI>
<LI>   日本</LI>
<LI>   韓國</LI>
<LI>   荷蘭</LI>
<LI>   英國</LI>
<LI>   美國</LI>
</UL>
<P>NIST 確認 (NIST Validation)
<P>在美國，SQL 實踐的確認工作由 National Institute of Standards and Training 
(NIST) 進行。NIST 目前有一套入門級 (entry level) SQL-92 的測試套件。NIST 
確認要求的詳情被定義為一項 Federal Information Processing Standard 
(FIPS)。目前對 SQL 的要求定義於 FIPS 127-2。本文件的 Postscript 和文字模式可從 
NIST 取得。目前通過 SQL 確認的產品名單也可在 NIST 取得。
<P>標準 SQL 刊物和文件 (Standard SQL Publications and Articles)
<P>SQL 標準有兩個版本。兩個都可從 ANSI 取得︰
<P>
<UL>
<LI>   ISO/IEC 9075:1992, "Information Technology --- Database Languages ---
SQL"</LI>
<LI>   ANSI X3.135-1992, "Database Language SQL"</LI>
</UL>
<P>除封面和對其他標準的參考外，SQL 標準的兩個版本完全一樣。
兩個版本都可從以下地方取得︰
<BLOCKQUOTE><CODE>
<PRE>
     American National Standards Institute
     1430 Broadway
     New York, NY 10018
     USA
     Phone (sales): +1.212.642.4900
</PRE>
</CODE></BLOCKQUOTE>

除 SQL-92 標準外，現在還有一份技術正誤表 (Technical Corrigendum) （除錯）︰
<BLOCKQUOTE><CODE>
<PRE>
   * Technical Corrigendum 1:1994 to ISO/IEC 9075:1992
</PRE>
</CODE></BLOCKQUOTE>

TC 1 應該可從 ANSI 取得。TC 1 只有 ISO 版本——它適用於 ISO 和 ANSI 版本的 
SQL-92。
<P>除標準外，也有關於 1992 SQL 標準的書。這些書提供一個比實際標準易理解的描述。
<P>有關的標準
<P>SQL 社群也對多個其他標準有興趣。這節包括一些有關這些努力的指針。
當更多資料在網上出現後，這個名單也會更長。
<P>
<UL>
<LI>  SQL Environments (FIPS 193)</LI>
<LI>   Next Generation Repository Systems (X3H4) - 一份呼籲參與 "Developing 
Standards for the Next Generation Repository Systems" 的新聞稿。</LI>
</UL>
<H2><A NAME="ss28.11">28.11 第二部分—ISO/ANSI SQL 基金 (ISO/ANSI SQL Foundation)</A>
</H2>

<P>SQL3 努力的一個重要部分在 SQL 基金文件中︰
<P>
<UL>
<LI>   基本的 SQL/PSM 能力（來自 SQL/PSM-92）</LI>
<LI>   新的資料型態</LI>
<LI>   激發 (Triggers)</LI>
<LI>   子表格 (Subtables)</LI>
<LI>   抽像資料型態 (Abstract Data Types, ADT)</LI>
<LI>   物件導向能力</LI>
</UL>
<P>對物件導向能力有數個先決要求︰
<P>
<UL>
<LI>   定義複雜運作的能力</LI>
<LI>   把複雜的運作儲存在資料庫中</LI>
<LI>   呼叫外部程序，有些不能用 SQL 做到的運作，或需要和外面溝通</LI>
</UL>
<P>這些能力已定義為 SQL/PSM 的一部分
<P>現在有大量工作於煉製 SQL-3 物件模型，使它和 ODMG 提出的物件模型看齊。這努力在 
X3H2 和 ISO DBL 文章中描述過︰容納 SQL3 和 ODMG。在 SQL3/OQL Merger 
最近的更新版也可得到。
<P>SQL3 時間表
<P>有關 SQL3 的工作正在進行，但最終標準還有待數年後才出現。
<P>
<UL>
<LI>  國際性投票把 SQL3 基礎從草案提升為委員草案 (Committee Draft, CD)
在一九九六日秋季進行。</LI>
<LI>  估計投票會帶來大量評論</LI>
<LI>  將會需要第二次 CD 投票</LI>
<LI>  Draft International Standard 投票多半會在 1998 年中進行</LI>
<LI>  國際標準可在一九九九年中完成</LI>
</UL>
<P>ANSI 版的標準的編排也差不多。
<H2><A NAME="ss28.12">28.12 第三部分—ISO/ANSI SQL 呼叫級介面 (Call Level Interface)</A>
</H2>

<P>SQL/CLI 是一種對 SQL 資料庫的呼叫級介面。它設計為支援包裹 (shrink-wrapped) 
的應用程式。CLI 原本由 SQL Access Group (SAG) 的一個小組委員會創造。 SAG/CLI 
規格在 1992 年以微軟 Open DataBase Connectivity (ODBC) 規格公佈。一九九三年，
SAG 把 CLI 提交到 ANSI 和 ISO SQL 委員會中。(SQL Access Group 現已結合到 
X/Open consortium 中。)
<P>SQL/CLI 提供了以下事項的國際標準︰
<P>
<P>
<UL>
<LI>   獨立於實踐方法的 CLI 來存取 SQL 資料庫</LI>
<LI>   主從工具 (Client-server tools) 可輕易籍動態鏈結函式庫存取資料庫</LI>
<LI>   支援及鼓勵豐富的主從工具</LI>
</UL>
<P>SQL/CLI 時間表
<P>對標準的開發過程，SQL/CLI 正以驚人的速度處理中。
<P>
<UL>
<LI>   SQL/CLI 是對 1992 SQL 標準（SQL-92）的補遺</LI>
<LI>   一九九五年完成，成為 ISO 標準</LI>
<LI>   ISO/IEC 9075-3:1995 Information technology -- Database languages -- SQL
-- Part 3: Call-Level Interface (SQL/CLI)</LI>
<LI>   目前 SQL/CLI 正努力加上 SQL3 功能</LI>
</UL>
<H2><A NAME="ss28.13">28.13 第四部分— ISO/ANSI SQL 持久儲存模組 (Persistent Stored Modules)</A>
</H2>

<P>SQL/PSM 籍以下功能擴充 SQL︰
<P>
<UL>
<LI>   程序語言 (Procedural language) 延伸</LI>
<LI>   複句 (Multi-statement) 和儲存程序</LI>
<LI>   外部函數與程序呼叫 (External function and procedure calls)</LI>
</UL>
<P>除作為有價值的應用程式開發工具，SQL/PSM 為 SQL3 提供了物件導向能力的基礎支援。
<P>複句和內存程序
<P>複句和內存程序為主從環境提供多種好處︰
<P>
<UL>
<LI>   表現—由於內存程序可執行多句 SQL 語句，與客戶經網絡的溝通可減少。</LI>
<LI>   保安—用者可以有權利經內存程序更新一個或多個表格，但沒權直接更新。</LI>
<LI>   分享程式碼—不需每個存取資料庫客戶工具都重寫和重試內存程序的程式碼。</LI>
<LI>   控制—為應用程式的執行提供單一的定義和控制。</LI>
</UL>
<P>程序語言延伸
<P>程序語言籍流向控制和其他編程技巧為 SQL 加上傳統程式語言的功能。
<P>流向控制語句
<P>
<UL>
<LI>   If-then-else</LI>
<LI>   迴圈結構 (Looping constructs)</LI>
<LI>   例外處理 (Exception handling)</LI>
<LI>   Case 語句</LI>
<LI>   Begin-End 區塊</LI>
</UL>
<P>程序語言延伸還包括其他編程技巧︰
<P>
<UL>
<LI>   變數宣告</LI>
<LI>   Set 語句，用於賦值 (assignment)</LI>
<LI>   取得行程 (process) 和狀態的資料</LI>
</UL>
<P>此外，所有傳統 SQL 語言都可包含在多句的程序中。
<P>外部函數與程序呼叫
<P>一個經常在大量資料庫產品的 wish lists 中出現，而有部分實踐到的特色，
是呼叫用者所寫，在資料庫軟件外的程序。
<P>
<UL>
<LI>   容許某個電腦或應用程式加上自己的資料庫函數</LI>
<LI>   可在整個資料庫應用程式使用</LI>
</UL>
<P>這功能的好處是它讓資料庫（因此包括資料庫應用程式）使用豐富的程序和函數，
豐富得不能由一個標準組織定出。
<P>SQL/PSM 時間表
<P>SQL/PSM 發展迅速︰
<P>
<UL>
<LI>   SQL/PSM 是 SQL-92 的補遺</LI>
<LI>   有關把 SQL/PSM 
從國際標準的草案變為國際標準的國際投票在一九九六年一月完成。</LI>
<LI>   一九九六年五月的編輯會議未能解決所有評論</LI>
<LI>   PSM 編輯會議安排於一九九六年九月三十日至十月四日期間重開</LI>
<LI>   安排緊迫，但 PSM 有可能在一九九六年間出版</LI>
<LI>   官方任命為︰
ISO/IEC DIS 9075-4:199? Information technology -- Database languages --
SQL -- Part 4: SQL Persistent Stored Modules (SQL/PSM)</LI>
<LI>   現正為 SQL3 加上 SQL/PSM 支援工作。</LI>
</UL>
<H2><A NAME="ss28.14">28.14 第五部分— ISO/ANSI SQL/結合 (Bindings)</A>
</H2>

<P>為方便參考，程式語言的結合被抽出成獨立的文件。目前的版本即是 SQL-92 
的動態和嵌入結合 (dynamic and embedded bindings) 的節錄。
<P>程式語言結合仍有不同的問題有待解決。
<P>對傳統程式語言來說，資料型態和 SQL-92 的可以互相對應。不過， SQL 
物件和程式語言變數之間的對應必須定義。
<P>對物件導向語言來說，目前的 SQL 資料型態、SQL 
物件模型和物件導向程式語言之間的對應關係必須定義。
<P>物件模型需在公開這些之前穩定下來。
<P>語言結合完成時會成為 SQL3 的一部分。
<H2><A NAME="ss28.15">28.15 第六部分—ISO/ANSI SQL XA 介面專門化 （SQL/XA）</A>
</H2>

<P>這規格會為總交易管理員 (global Transaction Manager) 和 SQL 資源管理員 
(SQL Resource Manager) 之間應用程式介面 (API) 提供標準。它會根據 ISO/IEC 
10026 的內容，“分散交易處理 (Distributed Transaction Processing）”
標準化函數呼叫，SQL 資源管理員會用以支援分二階段的確定 (two-phase 
commit)。基礎的文件是自經 X/Open 批準而來自一份 X/Open 出版物，它清楚的指明 
xa_close, xa_commit, xa_complete, xa_end, xa_forget, xa_open, xa_prepare, 
xa_recover, xa_rollback 和 xa_start 等多個函數，以 SQL 
資料型態的輸入和輸出參數的語法。
<P>ISO 目前正嘗試盡快追上 (fast-tract) X/Open XA 規格。
這個過程原封不動採用一個目前的業界規格。以 ISO SC21，JTC 1 等級的 XA 
盡快追上投票在一九九五年四月二十七日開始，一九九五年十月二十七日結束。如果 XA 
規格經 75% 票數和 2/3 的 JTC 1 p-members 批準，它會成為一個國際標準。
如果經盡快追上投票批準，SQL/XA 可在 1996 年成為標準。
<H2><A NAME="ss28.16">28.16 第七部分—時態 ISO/ANSI SQL </A>
</H2>

<P>時態 SQL 處理和時間有關的資料。其概念是在查詢資料時利用它在一個特定時間的情況。
時態 SQL 是一份由 Rick Snodgrass 在一九九四年十二月所寫，描述這概念的文件。
<P>X3 宣佈確認一個新計劃，ISO/IEC 9075 Part 7:
SQL/Temporal 是一份關於 SQL/Temporal 的新聞稿
<BLOCKQUOTE><CODE>
<PRE>
----------------------------------------------------------------------------
                                Temporal SQL
                                ************
Rick Snodgrass（TSQL2 委員會主席）
31-Dec-1994
</PRE>
</CODE></BLOCKQUOTE>

有人質疑過 SQL 3 對附加時間支援的問題（如在 DBL R10-75 提議，要求 SQL 
有新的部分來處理時間性的資料庫）。其論點是抽象資料形態 (ADT's) 足以支援時態。
在這資訊性的項目，我使用具體例子來論證擁有抽象資料形態的欄位不能處理時態查詢。
特別來說，很多時間性的查詢不是很難用 SQL 模擬，就是需在過程語言中使用嵌入式 
SQL。其他選擇在 TSQL2，一個對 SQL-92 的時態延伸中提出了。
<H3>導言</H3>

<P>有效時間 (Valid-time) 的支援超出一個時態 ADT 的能力。使用後者，
一個欄位被指定為時態領域，如 DATE 或 INTERVAL（稍後會有例子）。籍著有效時間，
表格的每行隨著時間改變，因為現實改變了。聯繫到一個有效時間表格的某行的時間戳記 
(timestamp)，會被查詢語言理解為該行中各欄數值的組合有效的時間。
這個無須言明的時間戳記使得查詢可以簡單易明地表達出來。
<H3>個案研究—儲存現時資料</H3>

<P>The University of Arizona 的 Office of Appointed Personnel 
在資料庫中有些資料，包括僱員名字、目前薪金和目前職位。
這些可用一個簡單的表格表達出來。
<BLOCKQUOTE><CODE>
<PRE>
        Employee(Name, Salary, Title)
</PRE>
</CODE></BLOCKQUOTE>

使用這個表格尋找一個僱員的薪金十分簡單。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT Salary
        FROM Employee
        WHERE Name = 'Bob'
</PRE>
</CODE></BLOCKQUOTE>

現在 OAP 想再記錄出生日期。為些，在表格中加了一欄，產生以下綱目 (schema)︰
<BLOCKQUOTE><CODE>
<PRE>
        Employee(Name, Salary, Title, DateofBirth DATE)
</PRE>
</CODE></BLOCKQUOTE>

找尋一名僱員的出生日期個尋找薪金類似。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT DateofBirth
        FROM Employee
        WHERE Name = 'Bob'
</PRE>
</CODE></BLOCKQUOTE>
<H3>個案研究—儲存歷史資料</H3>

<P>OAP 想把受僱歷史電腦化。為此，他們加上兩欄，
一欄指出表示此行的資料何時開始有效，另一指出資料何時失效。
<P>Employee (Name, Salary, Title, DateofBirth, Start DATE, Stop DATE)
<P>以資料模型 (data model) 說，這些新欄位和 DateofBirth 毫無分別。不過，
它們的存在產生多種結果。
<H3>個案研究—投映 (Projection)</H3>

<P>要找出僱員目前的薪金會較為困難。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT Salary
        FROM Employee
        WHERE Name = 'Bob' AND Start &lt;= CURRENT_DATE AND CURRENT_DATE &lt;= Stop
</PRE>
</CODE></BLOCKQUOTE>

這句查詢比之前的複雜。元凶很明顯是新增的兩欄。OAP 想發出薪金歷史給各員工。
特別地，有需要找出每一名僱員在收受一個薪酬的最長時間。不幸地，用 SQL 
不能做到。一名僱員在薪酬調整期間職銜可有多次變更。
<BLOCKQUOTE><CODE>
<PRE>
Name    Salary  Title             DateofBirth   Start           Stop
----    ------  -----             -----------   -----           ----
Bob     60000   Assistant Provost 1945-04-09    1993-01-01      1993-05-30
Bob     70000   Assistant Provost 1945-04-09    1993-06-01      1993-09-30
Bob     70000   Provost           1945-04-09    1993-10-01      1994-01-31
Bob     70000   Professor         1945-04-09    1994-02-01      1994-12-31

                               圖 1
</PRE>
</CODE></BLOCKQUOTE>

要注意有三行 Bob 的薪金停留在 $70,000。所以，結果應該是 Bob 有兩行。
<BLOCKQUOTE><CODE>
<PRE>
Name    Salary  Start           Stop
----    ------  -----           ----
Bob     60000   1993-01-01      1993-05-30
Bob     70000   1993-06-01      1994-12-31
</PRE>
</CODE></BLOCKQUOTE>

另一方法是把薪金和職級資料印給用者，而由用者找出他的薪酬何時變更。
這方法既不吸引，亦不實際。另一方法是盡量使用 SQL。
<BLOCKQUOTE><CODE>
<PRE>
CREATE TABLE Temp(Salary, Start, Stop)
AS      SELECT Salary, Start, Stop
        FROM Employee;
</PRE>
</CODE></BLOCKQUOTE>

repeat
<BLOCKQUOTE><CODE>
<PRE>
        UPDATE Temp T1
        SET (T1.Stop) = (SELECT MAX(T2.Stop)
                         FROM Temp AS T2
                         WHERE T1.Salary = T2.Salary AND T1.Start &lt; T2.Start
                                AND T1.Stop >= T2.Start AND T1.Stop &lt; T2.Stop)
        WHERE EXISTS (SELECT *
                      FROM Temp AS T2
                      WHERE T1.Salary = T2.Salary AND T1.Start &lt; T2.Start
                                AND T1.Stop >= T2.Start AND T1.Stop &lt; T2.Stop)
        until no rows updated;

DELETE FROM Temp T1

WHERE EXISTS (SELECT *
              FROM Temp AS T2
              WHERE T1.Salary = T2.Salary
                        AND ((T1.Start > T2.Start AND T1.Stop &lt;= T2.Stop)
                        OR (T1.Start >= T2.Start AND T1.Stop &lt; T2.Stop))
</PRE>
</CODE></BLOCKQUOTE>

迴圈中找出重疊或相鄰而需要合併的時段。在最壞的情況，迴圈會執行 log N 次，N 
指一連串重疊或相鄰的同薪金紀錄的數量。讀者可自行模擬查詢在以上例子的執行，
以驗證它的正確性。
<P>第三種方法是使用 SQL 為表格開啟一個游標 
(cursor)。為每個薪金管理一個各段落的鏈表 (linked list)。這鏈表開始時需為空白。
<BLOCKQUOTE><CODE>
<PRE>
DECLARE emp_cursor CURSOR FOR
        SELECT Salary, Title, Start, Stop
        FROM Employee;
OPEN emp_cursor;
loop:
        FETCH emp_cursor INTO :salary, :start, :stop;
        if no-data returned then goto finished;
        find position in linked list to insert this information;
        goto loop;
finished:
CLOSE emp_cursor;
</PRE>
</CODE></BLOCKQUOTE>

重覆至鏈表結束，印出日期和薪金。
<P>如果游標是 ORDER BY Start，鏈表並非必要。
<P>無論如何，一句簡單的查詢是不易用 SQL-92 的功能表達出這目的。使用 TSQL2 
的話這查詢會很簡單。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT Salary
        FROM Employee
</PRE>
</CODE></BLOCKQUOTE>
<H3>案例研究—連結 (JOIN)</H3>

<P>一個更激進的方法是把綱目重整，把薪金、職級、出生日期資料分開，
從而避開抽取薪酬歷史時遇到的問題。（為方便計，我們以後的討論中不再考慮出生日期。）
<BLOCKQUOTE><CODE>
<PRE>
        Employee1 (Name, Salary, Start DATE, Stop DATE)
        Employee2 (Name, Title, Start DATE, Stop DATE)
</PRE>
</CODE></BLOCKQUOTE>

Employee1 表格如下︰
<BLOCKQUOTE><CODE>
<PRE>
Name    Salary  Start           Stop
----    ------  -----           ----
Bob     60000   1993-01-01      1993-05-30
Bob     70000   1993-06-01      1993-12-31
</PRE>
</CODE></BLOCKQUOTE>

這是 Employee2 表格。
<BLOCKQUOTE><CODE>
<PRE>
Name    Title                   Start           Stop
----    ------                  -----           ----
Bob     Assistant Provost       1993-01-01      1993-09-30
Bob     Provost                 1993-10-01      1994-01-31
Bob     Professor               1994-02-01      1994-12-31
</PRE>
</CODE></BLOCKQUOTE>
<P>改變之後，取得僱員薪金資料變得簡單。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT Salary, Start, Stop
        FROM Employee1
        WHERE Name = 'Bob'
</PRE>
</CODE></BLOCKQUOTE>

但如果 OAP 想一個表格中包括薪金、職位的時段（即 OAP 想一個像圖 1 
形式的表格）？一個方法是印出兩個表格，而讓用者找出有關組合。另一方法是完全使用 
SQL。不幸地，這查詢要分析 Employee1 每行和 Employee2 
的重疊情況，有四種可能出現。
<BLOCKQUOTE><CODE>
<PRE>
SELECT Employee1.Name, Salary, Dept, Employee1.Start, Employee1.Stop
FROM Employee1, Employee2
WHERE Employee1.Name = Employee2.Name
     AND Employee2.Start &lt;= Employee1.Start AND Employee1.Stop &lt; Employee2.Stop
UNION
SELECT Employee1.Name, Salary, Dept, Employee1.Start, Employee2.Stop
FROM Employee1, Employee2
WHERE Employee1.Name = Employee2.Name
     AND Employee1.Start >= Employee2.Start AND Employee2.Stop &lt; Employee1.Stop
        AND Employee1.Start &lt; Employee2.Stop
UNION
SELECT Employee1.Name, Salary, Dept, Employee2.Start, Employee1.Stop
FROM Employee1, Employee2
WHERE Employee1.Name = Employee2.Name
     AND Employee2.Start > Employee1.Start AND Employee1.Stop &lt; Employee2.Stop
        AND Employee2.Start &lt; Employee1.Stop
UNION
SELECT Employee1.Name, Salary, Dept, Employee2.Start, Employee2.Stop
FROM Employee1, Employee2
WHERE Employee1.Name = Employee2.Name
     AND Employee2.Start > Employee1.Start AND Employee2.Stop &lt; Employee1.Stop
</PRE>
</CODE></BLOCKQUOTE>

正確找出所有情形是一件具挑戰性的工作。使用 
TSQL2，進行一個具時態的連結就如人們所期望。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT Employee1.Name, Salary, Dept
        FROM Employee1, Employee2
        WHERE Employee1.Name = Employee2.Name
</PRE>
</CODE></BLOCKQUOTE>
<H3>個案研究—聚集 (AGGREGATES)</H3>

<P>現在 OAP 被問及最高薪酬是什麼？加上時間前，這很簡單。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT MAX(Salary)
        FROM Employee
</PRE>
</CODE></BLOCKQUOTE>

現在加上了薪金歷史，我們要找出不同時間最高薪金的歷史。問題當然是 SQL 
並不提供具時態的聚集。簡單的方法是印出有關資料，用人手找出最大值。
另一個方法是取巧，把一個當時的 (snapshot) 聚集查詢轉化為不使用聚集的查詢，
再轉化為時態聚集。那個不使用聚集的查詢用於找出不大於它本身數值的薪金。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT Salary
        FROM Employee AS E1
        WHERE NOT EXISTS (SELECT *
                          FROM Employee AS E2
                          WHERE E2.Salary > E1.Salary)
</PRE>
</CODE></BLOCKQUOTE>

把這個查詢變為時態查詢並不顯淺。以下是一種方法。
<BLOCKQUOTE><CODE>
<PRE>
CREATE TABLE Temp (Salary, Start, Stop)
AS      SELECT Salary, Start, Stop
        FROM Employee;
INSERT INTO Temp
        SELECT T.Salary, T.Start, E.Start
        FROM Temp AS T, Employee AS E
        WHERE E.Start >= T.Start AND E.Start &lt; T.Stop AND E.Salary > T.Salary;

INSERT INTO Temp
        SELECT T.Salary, T.Stop, E.Stop
        FROM Temp AS T, Employee AS E
        WHERE E.Stop > T.Start AND E.Stop &lt;= T.Stop AND E.Salary > T.Salary;
DELETE FROM Temp T
WHERE EXISTS (SELECT *
              FROM Employee AS E
              WHERE ((T.Start => E.Start AND T.Start &lt; E.Stop)
                        OR (E.Start >= T.Start AND E.Start &lt; T.Stop))
                    AND E.Salary > T.Salary;
</PRE>
</CODE></BLOCKQUOTE>

這方法建立輔助表格。我們在這個表格中加上兩個時段中重疊部分的上、下部分。
之後我們把所有子查詢中找出的紀錄刪除，因此影響到 NOT 
EXISTS。最後我們從輔助表格中找出最長的時段，像之前我們找出薪金資訊般。
如大家所料，這樣的 SQL 句子執行時效率非常低，因為那些複雜的巢狀不等查詢。
<P>第三個方法是盡量少用 SQL，而在主機上所用的語言中用游標找出最長的歷史。
<P>使用 TSQL2 再次簡單直接。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT MAX(Salary)
        FROM Employee
</PRE>
</CODE></BLOCKQUOTE>
<H3>摘要</H3>

<P>大部分資料庫應用程式都需要處理隨時間改變的資料。有效時間在 SQL 
並不支援。很多時態查詢不是很難以 SQL 模擬，就是需要把 SQL 
嵌入到程序語言中，因為 SQL 在資料模型和查詢語言結構中缺乏對有效時間的支援。
<P>另一方面，我們示範出加上有效時間支援需要對 DBMS 施行作出一些改變，
但能戲劇性地簡化一些查詢，並使其他查詢變得有可能。將來也可於儲存結構、
索引方法的最佳化 (optimization)。而最佳化的策略可導致表現大幅提升。
<P>隨著 SQL3 的一個新部分支援隨時間改變的資料，我們可以開紿處理這類應用，改良 
SQL3 處理時態資料的能力。
<BLOCKQUOTE><CODE>
<PRE>
----------------------------------------------------------------------------
           Accredited Standards Committee* X3, Information Technology
NEWS RELEASE

文件編號︰       PR/96-0002

回覆︰       Barbara Bennett at bbennett@itic.nw.dc.us

             X3 宣佈認可一個這專案, ISO/IEC 9075 Part 7:  SQL/Temporal

Washington D.C., 1996 年一月
----------------------------------------------------------------------------
</PRE>
</CODE></BLOCKQUOTE>

-- Accredited Standards Committee X3, Information Technology 宣佈認可一個有關 
SQL/Temporal 支援的新專案，ISO/IEC 9075 Part 7，並把有關工作交予 Technical 
Committee X3H2, Database。這個建議中的標準訂明將出現的 SQL3 
標準的一個新部分，如第七部分 Temporal SQL 為 SQL 的一個延伸，在 SQL 
資料庫環境支援存取和處理具時態的資料。下次 X3H2 
會議定於一九九六年三月十一至十四日在堪薩斯 (Kansas) 舉行。
<P>如有查詢，可郵寄往︰
<BLOCKQUOTE><CODE>
<PRE>
        Chairman of X3H2,
        Dr. Donald R. Deutsch,
        Sybase, Inc., Suite 800,
        6550 Rock Spring
        Drive, Bethesda, MD  20817.
        Email: deutsch@sybase.com.
</PRE>
</CODE></BLOCKQUOTE>

現正尋求可能的專利和其他恰當的事項（版權、商標）。這把有關資料寄交︰
<BLOCKQUOTE><CODE>
<PRE>
        X3 Secretariat at
        1250 Eye Street
        NW, Suite 200,
        Washington DC  20005.
        Email: x3sec@itic.nw.dc.us
        FAX:  (202)638-4922.
</PRE>
</CODE></BLOCKQUOTE>
<H2><A NAME="ss28.17">28.17 第八部分—ISO/ANSI SQL 多媒體 (SQL/MM)</A>
</H2>

<P>一個為建立用於多媒體應用程式的 SQL 物件函式庫的新 ISO/IEC 
國際標準化計劃在一九九三年初期獲批準進行。這個新標準化行動名為 SQL Multimedia 
(SQL/MM)，它會用草擬中的 SQL3 規格中的抽象資料型態（ADT）規格和目標指定 SQL 
ADT 定義套件。
<P>SQL/MM 目標為標準化科學和工程、全文和文件處理、管理多媒體物件，如影像、聲音、
動畫、音樂和錄像的物件函數庫。它多數會提出一種用於其他 JTC1 
標準組織（如有關文件的 SC18、影像的 SC24、照片和動作圖像的 SC29）定義的物件的 
SQL 語言結合 (binding)。
<P>SQL/MM 的專案計劃指出它會成為一份多部分標準，包含不定數量的部分。
第一部分會是其他部分如何建成的框架。其他每個部分會專注於一個特定的 SQL 
應用程式套件。以下為一九九四年八月存在的 SQL/MM 部分︰
<P>
<UL>
<LI>   Part 1: Framework A non-technical description of how the document is
structured.</LI>
<LI>   Part 2: Full Text Methods and ADTs for text data processing. About 45
pages.</LI>
<LI>   Part 3: Spatial Methods and ADTs for spatial data management. About 200
pages with active contributions from Spatial Data experts from 3
national bodies.</LI>
<LI>   Part 4: General Purpose Methods and ADTs for complex numbers,
Facilities include trig and exponential functions, vectors, sets, etc.
Currently about 90 pages.</LI>
</UL>
<P>有多個有關空間和地理資料的標準化的工作在進行中︰
<P>
<UL>
<LI>   ANSI X3L1 - Geographic Information Systems.
Unisys 的 Mark Ashworth of Unisys 是 X3L1 和 ANSI X3H2 間的聯絡人。
他也是 SQL/MM 草稿第一、三和四部分的編輯。</LI>
<LI>   ISO TC 211 - Geographic information/Geomatics</LI>
</UL>
<HR>
<A HREF="PostgreSQL-HOWTO-29.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="PostgreSQL-HOWTO-27.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="PostgreSQL-HOWTO.html#toc28"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
