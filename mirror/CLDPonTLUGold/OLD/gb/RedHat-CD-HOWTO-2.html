<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>烧制一个RedHat的CD之mini-HOWTO: Anatomy of the Red Hat FTP site</TITLE>
 <LINK HREF="RedHat-CD-HOWTO-3.html" REL=next>
 <LINK HREF="RedHat-CD-HOWTO-1.html" REL=previous>
 <LINK HREF="RedHat-CD-HOWTO.html#toc2" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<A HREF="RedHat-CD-HOWTO-3.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="RedHat-CD-HOWTO-1.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="RedHat-CD-HOWTO.html#toc2"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s2">2. Anatomy of the Red Hat FTP site</A></H2>

<P>
<P>以Linux社区的精神，Red Hat Software将其应用于不同平台上的Linux发行版本放在其FTP站点上提供下载，这都可以从顶级发行目录中获得。
<P>
<H2><A NAME="sec-top-level"></A> <A NAME="ss2.1">2.1 顶级目录</A>
</H2>

<P>
<P>RedHat Linux 6.0的顶级目录(
<A HREF="ftp://ftp.redhat.com/pub/redhat/redhat-6.0/">pub/redhat/redhat-6.0</A>) 包括了不同平台的发行版本，而其中一个目录包括了自从发行之后的更新以及程序包的更正。
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
SRPMS/     alpha/     i386/      sparc/
</PRE>
</CODE></BLOCKQUOTE>
 
<P>
<P>在这个文件中，我们以i386版本为例。在本文中所给出的程序几乎可以在所有Red Hat支持的平台上工作， (Alpha, SPARC, ppc等)，但是我们仅在i386平台上进行了测试。（作者愿意听取一些额外的意见），i386目录的根目录如下：
<BLOCKQUOTE><CODE>
<PRE>
 
-rw-r--r--   1 root     root        18391 Mar 19  1999 COPYING
-rw-r--r--   1 root     root         3187 Apr 19 19:56 README
-rw-r--r--   1 root     root         2751 Sep 19  1997 RPM-PGP-KEY
drwxr-xr-x   5 root     root         1024 Sep 12 08:03 RedHat/
-rwxr--r--   1 root     root         2048 Apr 20 14:33 boot.cat
drwxr-xr-x   7 root     root         1024 Sep 17 08:04 doc/
drwxr-xr-x   6 root     root         1024 Aug  3 16:17 dosutils/
drwxr-xr-x   2 root     root         1024 Aug  3 16:02 images/
-rw-r--r--   1 root     root       222789 Sep 17 08:04 ls-lR
-rw-r--r--   1 root     root        32371 Sep 17 08:04 ls-lR.gz
drwxr-xr-x   4 root     root         1024 Sep 17 08:04 misc/
</PRE>
</CODE></BLOCKQUOTE>
 
<P><CODE>doc</CODE> 目录包括了丰富的文档信息。更重要的事是，RedHat安装指南的HTML版本可以在
<A HREF="http://www.redhat.com/corp/support/manuals/RHL-6.0-Manual/install-guide/manual">doc/rhmanual/manual/</A>找到。另外，还有一些FAQ以及整个HOWTO和mini-HOWTO的全集。
<P>
<P><CODE>images</CODE> 目录包括了必须要拷贝到软盘中启动软盘的映像文件。在大多数最新的发行版本中（6.0)，有两个磁盘映像。启动映像被称之为<CODE>boot.img</CODE>，这是在从CD-ROM中直接安装时所必需的。如果从一个本地硬盘安装，NFS装载磁盘或者FTP是必须的，这个时候就需要补充磁盘映像<CODE>supp.img</CODE> 。请看 
<A HREF="RedHat-CD-HOWTO-7.html#sec-install">从CD安装</A> 参照详细信息。
<P><CODE>misc</CODE> 目录包括了源代码，以及一些为安装所需要的可执行文件。
<P>
<H2><A NAME="ss2.2">2.2 "RedHat" 目录 -- 发行版本的核心</A>
</H2>

<P>
<P>目录树种最为重要的部分就是<CODE>RedHat</CODE>目录。
<P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
drwxr-xr-x   2 root     root        23552 Aug  3 16:02 RPMS/
drwxr-xr-x   2 root     root         1024 Aug  3 16:02 base/
-rw-r--r--   1 root     root            0 Jan 19  1999 i386
drwxr-xr-x   5 root     root         1024 Sep 11 08:03 instimage/
</PRE>
</CODE></BLOCKQUOTE>
 
<P><CODE>RPMS</CODE> 目录包括了Red Hat发行版本的主要部分，其中包括了一个RPM（Redhat Package Manager）文件的集合。一个RPM包典型地包括了可执行文件以及相关的配置文件和文档。请看
<A HREF="RedHat-CD-HOWTO-3.html#sec-rpm">RPM包</A> 参照详细信息。
<P>
<P><CODE>base</CODE> 目录包括了不同的在安装过程中所需要的文件。例如， <CODE>comps</CODE> 文件，定义了在"Choose packages to
install" 阶段中定义的的<EM>components</EM> (包组).请看 
<A HREF="RedHat-CD-HOWTO-5.html#sec-comps">组件文件</A>得到更多的信息以及使用信息。另外一个在<CODE>base</CODE> 目录的重要的文件是<CODE>hdlist</CODE> 文件，其中包括了全部在 <CODE>RPMS</CODE> 目录的的头部区域。
<P>这意味著所有在RPM包的相互关联性可以通过阅读 <CODE>hdlist</CODE> 文件获得，而并不必要阅读所有的的RPM包，这对FTP方式的安装来说是非常便利的。
<P><CODE>hdlist</CODE> 的另外一个用途就是映像包名到文件名，例如 以<CODE>perl</CODE> 代替 <CODE>perl-5.004-6.i386.rpm</CODE>。这意味著如果你想从RedHat进行混合式更新的话（请看
<A HREF="RedHat-CD-HOWTO-5.html#sec-updates">混合更新</A>)或者假如你自己的报到<CODE>RPMS</CODE>目录的话  ，你需要更新<CODE>hdlist</CODE>，这在稍候的 
<A HREF="RedHat-CD-HOWTO-5.html#sec-new-hdlist">产生hdlist文件</A>部分中将要介绍。
<P><CODE>instimage</CODE> 目录包含了一个基本的文件系统，其中包括了安装过程中所需要的一些程序和共享库。
<P>
<H2><A NAME="ss2.3">2.3 "更新"目录</A>
</H2>

<P>
<P><CODE>/pub/redhat/updates</CODE> 目录包括了自从版本3.0.3之后所有的RedHat发行办的更新。这是用来找到因为各种原因被更新的软件包的所在。你应当特别注意安全方面的更新。无论何时有了一个补丁，在RedHat's errata页中总可以找到。在<CODE>updates</CODE> 目录中最重要的文件有：
<P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
drwxrwxr-x   8 ftpuser  ftpusers      8192 Aug 18 08:05 5.1/
drwxrwxr-x   9 ftpuser  ftpusers      8192 Sep 18 08:07 5.2/
drwxrwxr-x   9 ftpuser  ftpusers      8192 Sep 18 08:07 6.0/
lrwxrwxrwx   1 ftpuser  ftpusers         3 Aug 25 13:14 current -> 6.0/
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>每一个目录的结构都类似于在
<A HREF="#sec-top-level">顶级目录</A>所描述的一样。
<P>
<HR>
<A HREF="RedHat-CD-HOWTO-3.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="RedHat-CD-HOWTO-1.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="RedHat-CD-HOWTO.html#toc2"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
