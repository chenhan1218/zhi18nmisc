<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>从源代码打造一个最小化的Linux系统实作篇: 内核</TITLE>
 <LINK HREF="BuildMin-5.html" REL=next>
 <LINK HREF="BuildMin-3.html" REL=previous>
 <LINK HREF="BuildMin.html#toc4" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 2, 6);</SCRIPT>
<A HREF="BuildMin-5.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="BuildMin-3.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="BuildMin.html#toc4"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s4">4. 内核</A></H2>

<P>下一步就是生成内核了．我假设您以前是做过编译内核这种事的，所以我就长话短说
了．如果要启动的内核已经准备好的话，那么要安装lilo就会更容易．请返回到
目标系统的<CODE>usr/src</CODE>目录，然后在那儿解开Linux内核源码．进入Linux
源码树(<CODE>cd linux</CODE>)然后使用您最喜欢的方式配置内核，比如<CODE>make
menuconfig</CODE>．如果您想让自己的轻松一些，那么您可以为自己配置一个没有
模块的内核．如果您已经配置了模块，那么您就得编辑<CODE>Makefile</CODE>文件，
找出<CODE>INSTALL_MOD_PATH</CODE>并将其设置为<CODE>/mnt/target</CODE>．
<P>
<P>现在您可以执行<CODE>make dep</CODE>，<CODE>make bzImage</CODE>了．如果您设置了模块
项，可以再执行<CODE>make modules</CODE>，<CODE>make modules_install</CODE>．把内核
映象文件<CODE>arch/i386/boot/bzImage</CODE>和系统函数映象文件<CODE>System.map</CODE>
复制到目标系统的boot启动目录<CODE>/mnt/target/boot</CODE>下面，然后准备安装
系统引导器lilo了．
<P>
<HR>
<A HREF="BuildMin-5.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="BuildMin-3.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="BuildMin.html#toc4"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
