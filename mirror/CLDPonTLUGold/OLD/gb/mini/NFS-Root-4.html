<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>NFS-Root Mini-Howto: 启动工作站</TITLE>
 <LINK HREF="NFS-Root-5.html" REL=next>
 <LINK HREF="NFS-Root-3.html" REL=previous>
 <LINK HREF="NFS-Root.html#toc4" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 2, 6);</SCRIPT>
<A HREF="NFS-Root-5.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="NFS-Root-3.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="NFS-Root.html#toc4"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s4">4. 启动工作站</A></H2>

<P>
<H2><A NAME="ss4.1">4.1 使用开机唯读记忆体</A>
</H2>

<P>由於我没有用过这个恶劣的方法, 我只能提供你下面的方向
(Christian Leutloff <CODE>&lt;leutloff@sundancer.tng.oche.de&gt;</CODE> 提供): 
<UL>
<LI>你不能使用 "一般的" 开机唯读记忆体.</LI>
<LI>Gero Kuhlmann 提供一个 <CODE>netboot</CODE> 套件, 制作给 Linux 用的开机唯读记忆体与相关资讯.
你可以在你当地的 Linux 映射站台找到 <CODE>netboot</CODE> 套件; 或是从 Debian 套件中取得 (<CODE>netboot-0.4</CODE>).</LI>
<LI>仔细阅读你的开机唯读记忆体所附的手册.</LI>
<LI>你可能必须启动伺服器上的 tftpd, 但这依据你的开机唯读记忆体载入核心的方式而定.</LI>
<LI> <I>找寻你所使用的开机唯读记忆体公司提供的 Linux 修补, 但大多数的人没有可程式化唯读记忆体烧录机:(<BR>
(特别是我住的欧洲)欢迎找我, 我这边有烧录器.</I> </LI>
</UL>
<H2><A NAME="ss4.2">4.2 使用原始的核心磁片</A>
</H2>

<P>如果你的根目录档案系统已经用预设的名称正确的分享出去, 而且你的 <EM>NFS</EM> 伺服器同时也是 <EM>RARP</EM> 伺服器
(这些机器也都在同一个子网路区段中), 你可以直接把核心复制到磁片上, 并以那片磁片开机.
(你必须在核心中把根目录设备设成 0:255)
这个方法假设你的根目录档案系统存放於伺服器的 <CODE>/tftpboot/</CODE><I>IP 位置</I> 路径之下.
(这个路径可以经由修改编译核心时的设定而改变.)
<H2><A NAME="ss4.3">4.3 使用 bootloader 与 <EM>RARP</EM></A>
</H2>

<P>在开机时给核心所有必要的参数, 并且增加
<CODE>nfsroot=&lt;<EM>伺服器 IP 位置</EM>&gt;:&lt;<EM>挂载路径</EM>&gt;</CODE> 这组参数.
其中 <EM>伺服器 IP 位置</EM> 是 NFS 伺服器的 IP 位置, 而
<EM>挂载路径</EM> 是根目录档案系统存放的路径.
<P>技巧:
<UL>
<LI>当使用 <B>LILO</B> 时, 考虑使用 "<CODE>锁定</CODE>" 功能:
只要在第一次输入完整的参数, 并加上 "<CODE>lock</CODE>" 这个参数, 下一次开机时让 LILO 逾时.</LI>
<LI>要制作工作站的专用开机磁片时, 你可以在 <CODE>lilo.cong</CODE> 中使用 <CODE>append=</CODE> 功能.</LI>
</UL>
<H2><A NAME="ss4.4">4.4 使用 bootloader 但不使用 <EM>RARP</EM></A>
</H2>

<P>另一种使用 <CODE>nfsroot</CODE> 的方法是给核心下面的参数:
<CODE>nfsaddrs=&lt;<EM>wst-IP</EM>&gt;:&lt;<EM>srv-IP</EM>&gt;:&lt;<EM>gw-IP</EM>&gt;:&lt;<EM>netmask</EM>&gt;:&lt;<EM>hostname</EM>&gt;</CODE>
核心将会依据所给的参数来设定 <CODE>eth0</CODE>.
<DL>
<DT><B>wst-IP</B><DD><P>工作站的 IP 位置
<DT><B>srv-IP</B><DD><P>NFS 伺服器的 IP 位置
<DT><B>gw-IP</B><DD><P>闸道器的 IP 位置
<DT><B>netmask</B><DD><P>子网路遮罩
<DT><B>hostname</B><DD><P>工作站的名称
</DL>
<HR>
<A HREF="NFS-Root-5.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="NFS-Root-3.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="NFS-Root.html#toc4"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
