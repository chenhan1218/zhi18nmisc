<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312">
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.16">
 <TITLE>Linux Chinese HOWTO 中文版: 显示及输入中文</TITLE>
 <LINK HREF="Chinese-HOWTO-5.html" REL=next>
 <LINK HREF="Chinese-HOWTO-3.html" REL=previous>
 <LINK HREF="Chinese-HOWTO.html#toc4" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<A HREF="Chinese-HOWTO-5.html"><IMG SRC="img/next.png" ALT="Next"></A>
<A HREF="Chinese-HOWTO-3.html"><IMG SRC="img/prev.png" ALT="Previous"></A>
<A HREF="Chinese-HOWTO.html#toc4"><IMG SRC="img/toc.png" ALT="Contents"></A>
<HR>
<H2><A NAME="view"></A> <A NAME="s4">4.</A> <A HREF="Chinese-HOWTO.html#toc4">显示及输入中文</A></H2>

<P>如果你总是从 DOS 的中文系统或是中文 Windows 95 之类的环境下透过 <CODE>telnet</CODE> 来利用 Linux 主机的话，你是不需要看本节的。
只有当你直接在一部 Linux 主机萤幕前操作时你才需要在 Linux 上安装中文系统。</P>

<H2><A NAME="ss4.1">4.1</A> <A HREF="Chinese-HOWTO.html#toc4.1">xcin+crxvt</A>
</H2>

<P>如果你常使用 X Window ，我们十分建议你采用 xcin 与 crxvt 组合的方式，来解决中文输入的问题。</P>
<P>XCIN 是 Xwindow Chinese INput 的缩写，是一个在 X Window 模式下执行的中文输入系统，因为 xcin 是利用 X Window 的 Server/Client方式执行的，所以你只要启动一个 xcin 输入视窗，便可以对应许多的 crxvt 显示虚拟终端机，占用系统资源比较小。
也提供类似 DOS 环境下的忘形或自然输入法的智慧型输入选字环境。
在早期，若你要安装 xcin, 你必须准备倚天中文系统，以供 xcin 安装程式来转换字形与输入法；在居士先生 &lt;
<A HREF="mailto:thhsieh@twclx.phys.ntu.edu.tw">thhsieh@twclx.phys.ntu.edu.tw</A>&gt; 接手 XCIN 的维护工作后，已经解决这个麻烦的问题了。</P>
<P>目前 xcin 的最新版本为 2.3.02. 但这目前还只是个 beta 版本。如果你想要取得较稳定的版本，还是建议你去抓取 xcin-2.1d 来使用吧。</P>

<H3>软体取得</H3>

<P>你可从下面地点取得 xcin 的原始程式
<BLOCKQUOTE>
<A HREF="ftp://linux.cis.nctu.edu.tw/packages/chinese/xcin/xcin-2.1d.tar.gz">ftp://linux.cis.nctu.edu.tw/packages/chinese/xcin/xcin-2.1d.tar.gz</A><BR>
<A HREF="ftp://linux.cis.nctu.edu.tw/packages/chinese/xcin/xcin-2.3.02.tar.gz">ftp://linux.cis.nctu.edu.tw/packages/chinese/xcin/xcin-2.3.02.tar.gz</A></BLOCKQUOTE>
</P>

<H3>软体安装</H3>

<P>这边我们以 xcin-2.3.02 为例。请先取得 xcin-2.3.02.tar.gz 这个档案，并请在任何一个目录下解开。</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
# tar xzvf xcin-2.3.02.tar.gz
....
# cd xcin-2.3.02
# ./configure    (请依照画面上的指示讯息，依序修改你的安装选项)
# make
# make install
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>这样就完成 xcin-2.3.02 的安装了。</P>
<P>你也可以取得由 Cd Chen 所维护的 xcin-2.3.02.i386.rpm 来安装 xcin。
<BLOCKQUOTE>
<A HREF="ftp://linux.ntcic.edu.tw/personal/cdchen/Chinese-RedHat-Packages/XCIN/RPMS/xcin-2.3.02-1.i386.rpm">ftp://linux.ntcic.edu.tw/personal/cdchen/Chinese-RedHat-Packages/XCIN/RPMS/xcin-2.3.02-1.i386.rpm</A></BLOCKQUOTE>
</P>
<P>其方法如下:
<BLOCKQUOTE><CODE>
<PRE>
# rpm -Uvv xcin-2.3.02-3.i386.rpm
</PRE>
</CODE></BLOCKQUOTE>
</P>


<H2><A NAME="ss4.2">4.2</A> <A HREF="Chinese-HOWTO.html#toc4.2">yact</A>
</H2>

<P>yact 是在终端机模式下执行的中文显示、输入系统。与 chdrv 最大不同的地方是: yact 是透过 svgalib 程式函式库使用你的显示卡，如果你的 svgalib 没有包含你所使用的显示卡资料，可能无法使用这个系统。</P>
<P>yact 让人称赞的，就是其显示的字形为 24x24, 比起其他的终端机中文输入系统而言，比较漂亮许多。另外，它在处理卷页功能时，也比较流畅许多。目前 yact 最新的版本是 yact-p4。</P>
<P>你可在此取得 yact:
<BLOCKQUOTE>
<A HREF="ftp://linux.cis.nctu.edu.tw/packages/chinese/yact/yactp4.tar.gz">ftp://linux.cis.nctu.edu.tw/packages/chinese/yact/yactp4.tar.gz</A></BLOCKQUOTE>
</P>
<P>安装 yact 的方法也很简单，在你取得 yact 的原始程式档后，解开并且检查 Makefile 是否正确，接下来，直接打 make all install 就完成了执行档的安装工作。
如果需要更详细的资料，请阅读 README 档。</P>
<P>接下来要安装字型。yact 使用 HBF 字型，但在 yact 的程式码中并未附字型档，你必须另外安装。如果你有倚天中文系统，yact 的作者建议使用它的字型。将 yact 原始程式码下
的 fonts 目录中的 HBF 字型描述档 <CODE>et24.hbf</CODE> 复制到 <CODE>/usr/local/lib/yact</CODE> 目录下并改名为 <CODE>hzfont.hbf</CODE>。接下来将倚天中文的 STDFONT.24 SPCFSUPP.24 SPCFONT.24 及 ASCFONT.24 字型档也复制到 <CODE>/usr/local/lib/yact</CODE>, 并将 ASCFONT.24 改名为 <CODE>12x24</CODE> 即可。</P>
<P>如果你想使用免费的 HBF 字型亦可。将 256 字的 ASCII 字型改名为 <CODE>12x24</CODE>, 并将中文 HBF 字型的描述档改名为 <CODE>hzfont.hbf</CODE>, 连同字型图档一起放入 <CODE>/usr/local/lib/yact</CODE> 即可。</P>


<H2><A NAME="ss4.3">4.3</A> <A HREF="Chinese-HOWTO.html#toc4.3">bcs16</A>
</H2>

<P>由于 yact 需要使用 svgalib 1024x768 模式，而此模式在除 ET4000 系列之外的显示卡支援并不十分良好，使得许多朋友对于这个优良的中文系统不得其门而入。
bcs16 就是针对此缺点而由 yact 修改而来的。它仅需 640x480  解析度，因而能在大部份的显示卡上执行。 </P>
<P>在此可取得 bcs16
<BLOCKQUOTE>
<A HREF="ftp://linux.cis.nctu.edu.tw/packages/chinese/bcs/bcs007a.tgz">ftp://linux.cis.nctu.edu.tw/packages/chinese/bcs/bcs007a.tgz</A></BLOCKQUOTE>
</P>
<P>安装
<UL>
<LI>解开并编译安装
<PRE>
# tar zxvf bcs007a.tgz 
# cd bcs16
# make
# cp bcs16 /usr/local/bin
</PRE>
</LI>
<LI>bcs16 采用 yact 的输入法表格，因此你可能要先按照上节安装 yact.
但是 bcs16 v0.05 以后已增加了独立的呒虾米输入法的支援，所以如果不需要其他 yact 的输入法，就不必先安装 yact. 
你只要取得 DOS 版的呒虾米输入法表格 <CODE>liubig5.tab</CODE> 放入 <CODE>/usr/local/lib/yact</CODE> 即可。</LI>
<LI>将 <CODE>data</CODE>  目录下的档案放入 <CODE>/usr/local/lib/yact</CODE> 中，并取得合法的倚天字型 <CODE>spcfont.15</CODE>, <CODE>spcfsupp.15</CODE>, <CODE>stdfont.15</CODE> 放到同一目录里。</LI>
<LI>如果你还想看 GB 码或日文，韩文，到这里取回字型 <CODE>cclib.16.gz cclib.16a.gz</CODE>, <CODE>jis.16.gz</CODE>, <CODE>ksc.16.gz</CODE> 解压缩后放入 <CODE>/usr/local/lib/yact</CODE>
<BLOCKQUOTE>
<A HREF="ftp://nctuccca.edu.tw/Chinese/ifcss/software/fonts/">ftp://nctuccca.edu.tw/Chinese/ifcss/software/fonts/</A></BLOCKQUOTE>
</LI>
<LI>如果你有倚天的造字档或中国海字集也可将它拷贝到 <CODE>/usr/local/lib/yact/usrfont.15m</CODE>.</LI>
<LI>执行 <CODE>bcs16</CODE>. 按 <CODE>Alt-H</CODE> 可以得到进一步的指令说明。</LI>
</UL>
 </P>
<P>bcs16 的作者是 
<A HREF="mailto:cnoize.bbs@bbs.cis.nctu.edu.tw">cnoize.bbs@bbs.cis.nctu.edu.tw</A>.</P>


<H2><A NAME="ss4.4">4.4</A> <A HREF="Chinese-HOWTO.html#toc4.4">chdrv</A>
</H2>

<P>一种在主控台(console)上提供显示，输入的中文文字显示程式。chdrv 因为直接读写 tty 装置，所以必须由 root 来启动。目前 chdrv 是由
<A HREF="http://formosa.iis.sinica.edu.tw/~wycc/">王佑中</A> &lt;
<A HREF="mailto:wycc@iis.sinica.edu.tw">wycc@iis.sinica.edu.tw</A>&gt;
先生所维护，最新的版本为 chdrv-1.0.10。</P>

<H3>取得 chdrv</H3>

<P>你可在
<BLOCKQUOTE>
<A HREF="ftp://linux.cis.nctu.edu.tw/packages/chinese/chdrv/">ftp://linux.cis.nctu.edu.tw/packages/chinese/chdrv/</A></BLOCKQUOTE>

分别取得 chdrv 的原始程式码 chdrv-1.0.10.tar.gz, 已编译的二进位执行档 chdrvbin-1.0.10.tar.gz, 以及字型档 chdrvfont.tar.gz.</P>

<H3>安装 chdrv</H3>

<P>解开二进位压缩档
<BLOCKQUOTE><CODE>
<PRE>
# tar xvzf chdrvbin-1.0.10.tar.gz
# mv chdrvfont.tar.gz chdrv-1.0.10/
# cd chdrv-1.0.10
</PRE>
</CODE></BLOCKQUOTE>

请阅读 <CODE>INSTALL.1.0</CODE> 的安装说明修改 <CODE>installbin</CODE>。如果你使用
shadow password，你还必须更改 <CODE>chinese.conf</CODE>，将下面这行的注解去掉
<PRE>
LOGINPROGRAM /bin/telnet
</PRE>

再将这行变成注解
<PRE>
LOGINPROGRAM /bin/login
</PRE>

现在你可以执行安装程式
<BLOCKQUOTE><CODE>
<PRE>
# ./installbin
</PRE>
</CODE></BLOCKQUOTE>
</P>


<H2><A NAME="ss4.5">4.5</A> <A HREF="Chinese-HOWTO.html#toc4.5">cxterm</A>
</H2>

<P>在 X Window 模式下执行的中文虚拟终端机，为最古老的中文显示/输入环境，提供各种中文内码模式，包含 BIG5，HZ，GB 等等。
因为每一个 cxterm 虚拟终端机都必须载入中文资料，耗用的系统资源相当大。</P>

<H3>取得 cxterm</H3>

<P>CXterm 的最新版本是 <CODE>cxterm5.0.p3.tar.gz</CODE> (5.0 版)。
这个压缩档里已经包含了 CXterm 与中文字型。你可以在这里取得:
<BLOCKQUOTE>
<A HREF="ftp://ftp.ifcss.org/pub/software/x-win/cxterm/">ftp://ftp.ifcss.org/pub/software/x-win/cxterm/</A></BLOCKQUOTE>

或在 <CODE>ftp.redhat.com</CODE> 的 RPM 包装格式 <CODE>cxterm-color-5.0p3-1.i386.rpm</CODE>, <CODE>cxterm-color-big5-5.0p3-1.i386.rpm</CODE>, <CODE>cxterm-color-gb-5.0p3-1.i386.rpm</CODE>.
<BLOCKQUOTE>
<A HREF="ftp://ftp.redhat.com/pub/contrib/hurricane/i386/">ftp://ftp.redhat.com/pub/contrib/hurricane/i386/</A></BLOCKQUOTE>
</P>

<H3>安装 cxterm</H3>

<P>解开压缩档:
<BLOCKQUOTE><CODE>
<PRE>
# tar -xvzf cxterm5.0.p3.tar.gz
</PRE>
</CODE></BLOCKQUOTE>

这将会产生一个新目录 <CODE>cxterm-5.0</CODE>，然后:
<BLOCKQUOTE><CODE>
<PRE>
# cd cxterm-5.0
# ./config.sh
</PRE>
</CODE></BLOCKQUOTE>

如果想让系统上所有的使用者都能使用 CXterm，你必须使用
root 的权限来执行 ``<CODE>./config.sh</CODE>''。
然后你就可以按照下面的过程完成安装:
<PRE>
  0. Read COPYRIGHT Notice
  1. Compile, Install, and Configure "CXTERM 5.0" in One Step

  2. Compile cxterm (not to install)
  3. Install cxterm (after successful compilation in 2)
  4. Install additional Chinese font(s) for your X window
  5. Configure your account for using cxterm (after installation in 3)

  x. Exit
Please choose (0/1/2/3/4/5/x) :
</PRE>
</P>
<P>如果你想让一切自动完成，请选 <CODE>1</CODE>。然后，输入安装的目录。像我是使用
<CODE>/usr/local/chinese</CODE>。
在这压缩档里还附有两个中文字型，选 <CODE>1</CODE> 和 <CODE>3</CODE> 都会自动安装这些字型。
你还可以选 <CODE>4</CODE> 安装额外的字型。安装完之后，你还要将 <CODE>cxterm</CODE> 与 <CODE>CXterm</CODE> 放在搜寻目录之中。
<BLOCKQUOTE><CODE>
<PRE>
# export PATH=$PATH:/usr/local/chinese/bin
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P><CODE>CXterm</CODE> 是一个 shell script，用来载入 X Window 资源与 cxterm。
如果要使用 GB 编码，请下:
<BLOCKQUOTE><CODE>
<PRE>
# CXterm -gb
</PRE>
</CODE></BLOCKQUOTE>

或是使用 BIG5 编码:
<BLOCKQUOTE><CODE>
<PRE>
# CXterm -big5
</PRE>
</CODE></BLOCKQUOTE>
</P>

<H3>CXterm 的 Color patch</H3>

<P>在 <CODE>
<A HREF="ftp://ftp.ifcss.org/pub/software/x-win/cxterm">ftp://ftp.ifcss.org/pub/software/x-win/cxterm</A></CODE>
下还有 cxterm 的 color patch。使用此修补档可使 cxterm 能显示 ANSI 的颜色。
假设你将 cxterm 的原始档放在 <CODE>/tmp/cxterm-5.0</CODE>
<BLOCKQUOTE><CODE>
<PRE>
# cp cxterm-5.0.p3-color.patch.gz /tmp
# gzip -d cxterm-5.0.p3-color.patch.gz
# patch &lt; cxterm-5.0.p3-color.patch
# cd cxterm-5.0
# ./config.sh
</PRE>
</CODE></BLOCKQUOTE>
</P>

<H2><A NAME="xa"></A> <A NAME="ss4.6">4.6</A> <A HREF="Chinese-HOWTO.html#toc4.6">XA (Xcin Anywhere)</A>
</H2>

<P>XA 是 Xcin Anywhere 的缩写。它是一个让你在一般的 X Window 软体中利用 xcin 来输入中文的小工具。
若配合 CXWin 或 XA+CV 则可让原本不支援中文的软体可显示并输入中文，这样 xterm 就自动变成 cxterm 了，酷吧?
不过 XA 目前仍不十分稳定，使用它你必须自行承担风险。要使用 XA, 你必须先安装好 xcin. 你可在此取得 XA:
<BLOCKQUOTE>
<A HREF="ftp://linux.cis.nctu.edu.tw/packages/chinese/xcin/XA/">ftp://linux.cis.nctu.edu.tw/packages/chinese/xcin/XA/</A></BLOCKQUOTE>
</P>
<P>解开压缩档，然后执行 <CODE>./configure</CODE>, 如此会产生 <CODE>mk</CODE>, <CODE>config.h</CODE>. 再来执行 <CODE>./mk</CODE> 编译。
若成功的话打入 <CODE>./mk test xterm</CODE>, 试试可否在 xterm 里叫出 xcin 并输入中文。
如果没问题的话可以将 <CODE>wrap.so</CODE> 复制到 <CODE>/usr/local/lib/</CODE>. 
使用方法为:
<BLOCKQUOTE><CODE>
<PRE>
# LD_PRELOAD=/usr/local/lib/wrap.so netscape &amp;
</PRE>
</CODE></BLOCKQUOTE>

再来按照一般使用 xcin 的方法使用即可。</P>
<P>XA 的作者是 
<A HREF="mailto:weijr.bbs@bbs.ntu.edu.tw">weijr.bbs@bbs.ntu.edu.tw</A>.</P>


<H2><A NAME="ss4.7">4.7</A> <A HREF="Chinese-HOWTO.html#toc4.7">新增输入法</A>
</H2>

<P>目前常见的输入法表格有两种格式: <CODE>tit</CODE> 及 <CODE>cin</CODE>. 这两种都是纯文字格式(换句话说你可以直接用文书编辑器来观看)。
但各个中文系统为了加快搜寻速度，多半提供工具程式将纯文字格式转为特殊的二进位档。
如果你要安装某种输入法，必须取得它的 <CODE>tit</CODE> 或 <CODE>cin</CODE> 表格，或是转换后的格式。</P>
<P>以下呒虾米输入法为例，分别说明如何在各中文系统中加入呒虾米输入法:
下面所提到的输入法表格都可在 <CODE>
<A HREF="ftp://ftp.cis.nctu.edu.tw/UNIX/Chinese/Boshiamy/">ftp://ftp.cis.nctu.edu.tw/UNIX/Chinese/Boshiamy/</A></CODE> 取得。</P>
<P>其它的一些输入法 <CODE>tit</CODE> 档也可在 <CODE>
<A HREF="ftp://ftp.ifcss.org/pub/software/x-win/cxterm/dict/">ftp://ftp.ifcss.org/pub/software/x-win/cxterm/dict/</A></CODE> 取得。</P>

<H3>xcin</H3>

<P>利用 xcin 的工具程式 <CODE>cin2tab</CODE> 将 <CODE>cin</CODE> 表格转换为 <CODE>tab</CODE> 档:
<BLOCKQUOTE><CODE>
<PRE>
# cin2tab boshiamy.cin
</PRE>
</CODE></BLOCKQUOTE>

它会产生 <CODE>boshiamy.tab</CODE> 及 <CODE>boshiamy.tab.rev</CODE> 两个档案。将它放到 xcin 的目录中。启动 xcin:
<BLOCKQUOTE><CODE>
<PRE>
# xcin -in9 boshiamy.tab
</PRE>
</CODE></BLOCKQUOTE>

然后用 <CODE>CTRL-ALT-9</CODE> 即可叫出呒虾米输入法。</P>

<H3>yact &amp; bcs16</H3>

<P>yact 使用与 cxterm 相同的 cit version 2 输入法表格。你可以使用 yact 附的 <CODE>tit2cit</CODE> 工具将 <CODE>boshiamy.tit</CODE> 转换为 <CODE>cit</CODE> 表格。</P>
<P>再来将 <CODE>boshiamy.cit</CODE> 放入 <CODE>/usr/local/lib/yact</CODE> 并为其建立一符号连结:
<BLOCKQUOTE><CODE>
<PRE>
# ln -s boshiamy.cit 9
</PRE>
</CODE></BLOCKQUOTE>
 
然后用 <CODE>CTRL-ALT-9</CODE> 即可叫出呒虾米输入法。</P>

<H3>chdrv</H3>

<P>首先将 <CODE>boshiamy.tbl</CODE> 放到 <CODE>/usr/local/lib/chinese</CODE>. 
再来修改 <CODE>/etc/chinese.conf</CODE>, 将 <CODE>INPUT</CODE> 一节加入呒虾米输入法的设定:
<HR>
<PRE>
BEGIN INPUT
PHONETIC /usr/local/lib/chinese/phone.def
MULTI /usr/local/lib/chinese/boshiamy.tbl
END INPUT
</PRE>
<HR>

最后利用 chdrv 的工具程式 <CODE>chconfig</CODE> 使 <CODE>/etc/chinese.conf</CODE> 的内容生效。</P>

<H3>cxterm</H3>

<P>用 cxterm 的工具 <CODE>tit2cit</CODE> 将 <CODE>boshiamy.tit</CODE> 转为 <CODE>cit</CODE> 档或 <CODE>citnf</CODE> 档，然后修改 <CODE>.Xdefaults</CODE>，设定一个启动呒虾米的组合键。详细的安装与使用，请参阅 cxterm 的技术文件。 </P>


<H2><A NAME="input"></A> <A NAME="ss4.8">4.8</A> <A HREF="Chinese-HOWTO.html#toc4.8">中文输入问题</A>
</H2>

<P>在我们完成中文系统建立的工作，你已经可以在你的 Linux 机器上面显示中文了。
但如果你使用中文化的文书编辑软体，你会发现，你的 Linux 只能显示中文，却无法接受中文的输入工作。
如果你想要改进这个问题，你必须自己修改两个地方，使 Linux 系统可以接受中文的输出与输入工作。
首先你必须要在你使用的 Shell 起始档增加 locale 的设定 (关于 locale 详情请看 locale mini-HOWTO)；
另外也得在自己家目录中 (Home directory) 的 <CODE>.inputrc</CODE> 档 (如果你的家目录中并未有这样的档案, 请自行建立) 增加关于输入的设定。
以下把 Shell 起始档与 <CODE>.inputrc</CODE> 相关设定公开如下，你可以参考使用：</P>
<P>Bash Shell:
请在 <CODE>/etc/profile</CODE> 增加下面的内容：
<HR>
<PRE>
stty cs8 -istrip
stty pass8
export LANG=C
export LC_CTYPE=iso-8859-1
</PRE>
<HR>
</P>
<P>Tcsh Shell:
请在 <CODE>/etc/csh.login</CODE> 或 <CODE>/etc/csh.cshrc</CODE> 增加设定如下:
<HR>
<PRE>
stty cs8 -istrip
stty pass8
setenv LANG C
setenv LC_CTYPE iso-8859-1
</PRE>
<HR>
</P>
<P><CODE>$HOME/.inputrc</CODE> 档增加设定如下:
<HR>
<PRE>
set convert-meta off
set output-meta on
</PRE>
<HR>
</P>
<P>最后，请你自己准备一个已经包含中文字的档案，利用 <CODE>grep</CODE> 工具程式来搜寻其中的文字。
如果可以找得到，表示你的 Linux 系统已经可以处理中文字了。</P>


<HR>
<A HREF="Chinese-HOWTO-5.html"><IMG SRC="img/next.png" ALT="Next"></A>
<A HREF="Chinese-HOWTO-3.html"><IMG SRC="img/prev.png" ALT="Previous"></A>
<A HREF="Chinese-HOWTO.html#toc4"><IMG SRC="img/toc.png" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
