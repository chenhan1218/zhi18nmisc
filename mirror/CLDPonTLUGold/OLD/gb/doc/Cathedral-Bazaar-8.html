<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE> 教堂与市集 (The Cathedral and the Bazaar) : 由 Fetchmail 学到的一些经验 (A Few More Lessons From Fetchmail)</TITLE>
 <LINK HREF="Cathedral-Bazaar-9.html" REL=next>
 <LINK HREF="Cathedral-Bazaar-7.html" REL=previous>
 <LINK HREF="Cathedral-Bazaar.html#toc8" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 4, 1);</SCRIPT>
<A HREF="Cathedral-Bazaar-9.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="Cathedral-Bazaar-7.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="Cathedral-Bazaar.html#toc8"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s8">8. 由 Fetchmail 学到的一些经验 (A Few More Lessons From Fetchmail)</A></H2>

<P>在我们回头讨论一般软体工程的议题前, 由 fetchmail 得来的一些特殊教训值得
深思.
<P>Fetchmail 设定档 (rc file) 的语法包括可要可不要的关键字, 这些如 ``噪音''
般的字眼会被语法分析程式忽略, 这些字的加入, 使得设定档的语法和英文很
接近, 和传统中简洁的 ``关键字 -- 设定值'' 配对表示法 (把噪音字去掉就可以
得到) 比较起来, 要来得容易阅读.
<P>这个教训开始於某一个夜晚的实验, 我注意到设定档中的宣告语法可以组成一个
迷你的祈使语言. (这也是为什麽我把原来 popclient 中的关键字 ``伺服器''
(server) 改成 ``询问'' (poll)).
<P>对我而言, 如果把这个祈使语言弄得更像英文, 那会让 fetchmail 更易於使用,
虽然我现在信服如 Emacs, HTML, 及许多资料库引擎制定出来的模□语言, 在 
正常情况下我也不那麽迷英文的语法.
<P>传统的程式师喜欢非常精确而简洁的设定语法, 不希望有任何冗馀在其中, 这是
因为早期的电脑计算资源昂贵而遗留下来的观念, 他们认为语法分析的过程要
节约计算资源, 并要尽可能的简单. 英文的语句大约有百分之五十的冗馀, 所以
不利於做为设定语法.
<P>但这并非我在正常的情况下不用英文语法的原因, 我在此提及是为了推翻像英文
的语法不适合作设定语法的论点, 当中央处理器和记忆体都变得便宜时, 设定语法
的简洁已不再是我们的目标, 现在的情况是: 一个电脑语言中符合人性易於使用
的重要性已超过节约电脑的计算资源.
<P>然而还是有好几个地方要小心, 其中之一是语法分析过程变得比较复杂的代价
-- 你不会想把这个特点 (使用像英文的设定语法) 变成程式错误的来源及
使用者的疑惑处. 另一个是当我们要订出一个像英文的语言时, 通常需要做些
修改, 表面上看起来修改过後的语法可重组出自然语言, 但可能也会因修改过
以致於和传统的设定语法一样, 令人感到疑惑. (我们可以在许多所谓的第四代
程式语言和商业用的资料库查询语言看到这个现象.)
<P>Fetchmail 的控制语法看起来免除了这个问题, 因为我严格地限制控制语法的
□围, 它不是一个以通用为目的的语言, 它简单并不很复杂, 所以在极小的英文
子集和真正的控制语言之间的相混处很少, 我认为这里还有一个更广义的教训:
<P><B>[格言 16] 当你设计的语言不是严谨到 ``完全 Turing'', 你可以采用比较平易的语法.</B>
<P><EM>16. When your language is nowhere near Turing-complete, syntactic
sugar can be your friend.</EM>
<P>另有一个教训是关於含糊的保密性, 有一些 fetchmail 的使用者要我修改程式,
以把经保密处理的通行码储存於设定档内, 这样子一来, 偷窥者就没办法看到
真正的密码了.
<P>我并没有这麽做, 因为这个做法并不能达到真正的安全, 能拿到读取你设定档
权限的人, 也能以你的身份执行 fetchmail -- 如果你的通行密码经保密处理
存在设定档中, 他们可以由 fetchmail 中取得解码程式来得到你真正的通行密码.
<P>如果我把程式改成可以在 fetchmail 的设定档中储存保密的通行密码, 那会给
认为这并不难的人们对保密性的错误观念. 一般的守则应该是:
<P><B>[格言 17] 一个保密系统是否安全依存於它隐藏的秘密, 注意不要有``虚拟秘密''.</B>
<P><EM>17. A security system is only as secure as its secret.  Beware of
pseudo-secrets.</EM>
<P><EM>[译注] 以 fetchmail 为例, 隐藏的秘密是指 ``通行密码'', ``虚拟秘密'' 是指把通行密码编码後存於设定档中 .</EM> 
<P>
<HR>
<A HREF="Cathedral-Bazaar-9.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="Cathedral-Bazaar-7.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="Cathedral-Bazaar.html#toc8"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
