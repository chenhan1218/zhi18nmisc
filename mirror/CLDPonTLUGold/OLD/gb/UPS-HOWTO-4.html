<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>中文 UPS Howto: 软体</TITLE>
 <LINK HREF="UPS-HOWTO-5.html" REL=next>
 <LINK HREF="UPS-HOWTO-3.html" REL=previous>
 <LINK HREF="UPS-HOWTO.html#toc4" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<A HREF="UPS-HOWTO-5.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="UPS-HOWTO-3.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="UPS-HOWTO.html#toc4"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="software"></A> <A NAME="s4">4. 软体</A></H2>

<P>基本上，您所需的就是一个可以工作 <CODE>powerd</CODE> 程式档，通常您可以在
<CODE>/sbin/powerd</CODE> 下找到它。它通常是属於 <CODE>SysVinit</CODE> 系统的一部分。
就我所知，所有近期版本的 Linux 系统都包含了一个较新版的 <CODE>SysVinit</CODE> 。
但在非常旧的版本则不包含 <CODE>powerd</CODE>。
<P>唯一的问题是您的讯号缆线可能不能与您的 <CODE>powerd</CODE> 设定相配合，
在这情况下您必须重新做一条讯号缆线，或者是找来一份 <CODE>powerd.c</CODE> 
档并修改它使得它能配合您的讯号缆线工作。或者是，
您可以使用以下所列的软体，大部分的软体允许您做适当的设定以配合您的讯号缆线。
<P>就像刚刚所提到的，除了使用 <CODE>SysVinit</CODE> 的 <CODE>powerd</CODE> 
之外您也可以拿现有的任何一种 UPS 软体来用。目前有许多软体可以帮助您建立电脑与
UPS 之间的连线。在我第一次写这篇 HOWTO 时都还没有这些软体，
而这也是为什麽我要写这篇 HOWTO 。事实上，您也可以从中选一个软体来用，
而完全忽略这篇 HOWTO 的内容。
<P>在 1997 年 3 月 15 日左右， 
<A HREF="http://sunsite.unc.edu:/pub/Linux/system/ups">Sunsite 的 UPS 目录</A> 
下可以找到一大堆的软体可用。而在其他的网站似乎也有 UPS 控制软体可以找到。
以下是我目前所找到的 (除了其中两个以外，其他都是在 sunsite 找到的):
<P>
<DL>
<DT><B>
<A HREF="http://sunsite.unc.edu:/pub/Linux/system/ups/Enhanced_APC_BackUPS.tar.gz">Enhanced_APC_BackUPS.tar.gz</A></B><DD><P>这是一个可以控制 APC 聪明模式的 UPS 。看起来基本上是依据 BUPS Howto
(包含了这一篇) ，但也好像有一些低电力警告的支援。
<P>
<DT><B>
<A HREF="http://sunsite.unc.edu:/pub/Linux/system/ups/Enhanced_APC_UPSD-v1.4.tar.gz">Enhanced_APC_UPSD-v1.4.tar.gz</A></B><DD><P>在 <CODE>.lsm</CODE> 档中提到它从前就是上一个所提到的软体，
但事实上它正是将上一个软体的 <CODE>.tar.gz</CODE> 档包装在它的 <CODE>tar.gz</CODE> 
档之内。那篇文件说明有问题，看起来它似乎同时支援 APC UPS 
的聪明与单调模式，但我不敢确定。
<P>
<DT><B>
<A HREF="http://sunsite.unc.edu:/pub/Linux/system/ups/apcd-0.5.tar.gz">apcd-0.5.tar.gz</A></B><DD><P>这是另一个可以控制 APC UPS 於聪明模式下运作的软体。
看起来似乎可以支援主/从模式
(也就是说，当停电时可以由一台机器送讯号给另一台机器叫它关机) 。
看起来似乎是使用了 UPS 的聪明模式，不像是经由 modem 的讯号线来控制。
<P>
<DT><B>
<A HREF="ftp://cms180.cmsnet.com/pub/smupsd/">smupsd directory</A></B><DD><P>又是另一个控制 APC UPS 的软体。看起来可以在非常聪明 (tm) 模式下操作
UPS 。举例来说，它包含了一个 Java 图形介面的 UPS 监控工具程式。
该目录下包含了已编译好的 RPM 形式的软体 (
<A HREF="ftp://cms180.cmsnet.com/pub/smupsd/smupsd-0.7-1.i386.rpm">ftp://cms180.cmsnet.com/pub/smupsd/smupsd-0.7-1.i386.rpm</A>) ，
一个原始码 RPM 格式档 (
<A HREF="ftp://cms180.cmsnet.com/pub/smupsd/smupsd-0.7-1.src.rpm">ftp://cms180.cmsnet.com/pub/smupsd/smupsd-0.7-1.src.rpm</A>) ，
以及一个□我档案 (
<A HREF="ftp://cms180.cmsnet.com/pub/smupsd/smupsd-0.7-1.README">ftp://cms180.cmsnet.com/pub/smupsd/smupsd-0.7-1.README</A>) 。
<P>
<DT><B>
<A HREF="http://sunsite.unc.edu:/pub/Linux/system/ups/genpower-1.0.1.tgz">genpower-1.0.1.tgz</A></B><DD><P>一个一般化的 UPS 控制软体。它包含了很多种 UPS 的设定 --- 两种 TrippLite
的设定，以及三种 APC 的设定。同时也包含了很好的说明文件。物超所值。
<P>
<DT><B>
<A HREF="http://sunsite.unc.edu:/pub/Linux/system/ups/powerd-2.0.tar.gz">powerd-2.0.tar.gz</A></B><DD><P>一个 <CODE>SysVinit</CODE> 的 <CODE>powerd</CODE> 程式的替代品。
与它的说明文件所提到的相反，它似乎没有整合到 <CODE>SysVinit</CODE> 2.62 
版中。它的优点在於它可以做为在其他机器上执行的 <CODE>powerd</CODE> 的伺服端
(假如您的机器有连上网路且只有一个 UPS 的话) ，而且它可以用设定档来进行设定
---- 故其原始码不需修改及重新编译。
<P>
<DT><B>
<A HREF="http://sunsite.unc.edu:/pub/Linux/system/ups/upsd-1.0.tgz">upsd-1.0.tgz</A></B><DD><P>另一个 <CODE>powerd</CODE> 的替代品。看起来似乎与 powerd-2.0.tar.gz 
有许多相似的特色。
<P>
<DT><B>
<A HREF="http://www.bestpower.com/section/software/checkups.tar">checkups.tar</A></B><DD><P>这个软体是用来控制 Best UPS 的。它是直接来自 Best 公司的网页的。
它包含了多种 <CODE>unix</CODE> 的可执行档，但更重要的是，它还包含了原始码，
故您可以在 Linux 下测试它，而且假如它无法工作，您也可以试著修改它。
此原始码同时包含了在单调模式下控制 UPS 的 "基本检测" 指令，
以及一些更精巧的 "先进检测" 指令 --- 当 UPS 回报说它只剩 X 
分钟的电力时即发出关机的讯号，而不是等到 X 分钟後电力都用光了才开始关机。
此先进检测程式也会在 UPS 发出像是周围环境温度过高、接近低电力、
低交流电输出、或者是使用者测试等警告时关闭机器。
<P>
<DT><B>
<A HREF="http://sunsite.unc.edu:/pub/Linux/system/ups/bestups-0.9.tar.gz">bestups-0.9.tar.gz</A></B><DD><P>可能在您读到这篇文章时，此在 sunsite 可以找得到的软体已发展得很好了。
它是一对可以相互通讯的模组，用以控制 Best Ferrups UPS。它可以在聪明模式下
控制 UPS 。它可以与 powerd-2.0 合作操控 --- 这一点在当您有一个大型的
Best Ferrups UPS 支援连接在网路上机器的电力时格外有用。
<P>
</DL>
<P>
<P>请注意我只是快速地浏览过这些软体。我并没有用它们，除了那个我们才开始使用的
<A HREF="http://sunsite.unc.edu:/pub/Linux/system/ups/bestups-0.9.tar.gz">bestups-0.9.tar.gz</A>
以及 
<A HREF="http://sunsite.unc.edu:/pub/Linux/system/ups/powerd-2.0.tar.gz">powerd-2.0.tar.gz</A> ，
其中 ``才开始'' 意思是说我们才在上个星期四开使做测试。
<P>
<HR>
<A HREF="UPS-HOWTO-5.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="UPS-HOWTO-3.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="UPS-HOWTO.html#toc4"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
