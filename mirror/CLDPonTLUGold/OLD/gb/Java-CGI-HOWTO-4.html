<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>Java CGI HOWTO 中译版: 执行一个 Java CGI 程式</TITLE>
 <LINK HREF="Java-CGI-HOWTO-5.html" REL=next>
 <LINK HREF="Java-CGI-HOWTO-3.html" REL=previous>
 <LINK HREF="Java-CGI-HOWTO.html#toc4" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<A HREF="Java-CGI-HOWTO-5.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="Java-CGI-HOWTO-3.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="Java-CGI-HOWTO.html#toc4"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s4">4. 执行一个 Java CGI 程式</A></H2>

<P>
<H2><A NAME="ss4.1">4.1 以 CGI 模式执行 Java 程式的障碍</A>
</H2>

<P>从 web 伺服器执行 Java 程式有两个主要的问题:
<P>
<H3>你不能像一般执行档一样执行 Java 程式</H3>

<P>你必需执行 Java 的执行时刻(run-time)解译器并且以命令列的方式提供初始类别(程式执行所需)．
在一个 HTML form 里面没有办法提供命令列给 web 伺服器．
<P>
<H3>Java 程式没有一般的方法可以取得环境变数</H3>

<P>Java 程式所需的每个环境变数都必需被传入．
(在 Java 程式中)没有类似 <B>C</B> 语言的 <CODE>getenv()</CODE> 函数．
<P>
<H2><A NAME="ss4.2">4.2 执行 Java CGI 解决问题</A>
</H2>

<P>为了处理这些困难，我写了一个 CGI 指令稿程式，提供 Java 解译器所需的资讯．
<P>
<H3>java.cgi 指令稿</H3>

<P>这个指令稿管理 HTTP 伺服器与你希望使用的 Java CGI 程式之间的互动．
它从 server 端提供的资料中取出你想要执行程式的名称．
它将所有的环境变数资料将髹到一个暂存档里．然後，它将这个档案以及程式名称加命令列中，
执行 Java 的执行时刻解译器．
<P><CODE>java.cgi</CODE> 指令稿的设定与安装在
<A HREF="Java-CGI-HOWTO-2.html#make-programs">决定你的本地目录策略</A>
一节说明．
<P>
<H3>从 HTML form 中引发 java.cgi</H3>

<P>使用 Java CGI 程式的 HTML form 以下面的方式指定其行为:
<PRE>
&lt;form action="/cgi-bin/java.cgi/CGI_Test" method="POST">
</PRE>

其中 <CODE>/cgi-bin/</CODE> 是你本地端的 CGI 二进位执行档目录，
<CODE>java.cgi</CODE> 是允许我们从 web 上执行 Java 程式的前端，
而 <CODE>CGI_Test</CODE> 是一个欲执行的 Java 程式名称的例子．
<P>
<HR>
<A HREF="Java-CGI-HOWTO-5.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="Java-CGI-HOWTO-3.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="Java-CGI-HOWTO.html#toc4"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
