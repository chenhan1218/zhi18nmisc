<HTML
><HEAD
><TITLE
>安全地失败</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"><LINK
REL="HOME"
TITLE="Linux和Unix安全编程HOWTO"
HREF="book1.html"><LINK
REL="UP"
TITLE="程序内部结构与解决方案"
HREF="c579.html"><LINK
REL="PREVIOUS"
TITLE="安全地配置并使用安全的缺省值"
HREF="x646.html"><LINK
REL="NEXT"
TITLE="避免竞争状态"
HREF="x658.html"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux和Unix安全编程HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x646.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 6. 程序内部结构与解决方案</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x658.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN653"
>安全地失败</A
></H1
><P
>安全程序应该总是“安全地失败”，也就是说，它应该设计为一旦失败，出现的是最安全的结果。对于关键性安全程序，这一般意味着在检测到某些错误行为（格式不正确的输入、到达某个“不可能到达”的状态，等等）时，程序应该立刻拒绝服务并停止处理该请求。不要试图“指出用户想做什么”：只是拒绝服务。有时这会降低可靠性或可用性（从用户的角度来看），但它会提高安全性。在若干场合这可能不是所期望的结果（例如拒绝服务比丧失秘密或完整要坏得多的场合），但这样的情况是相当少见的。</P
><P
>注意，我推荐的是“停止处理该请求”，而不是“一起失败”。特别是大多数服务器不应该在得到格式不正确的输入时完全暂停，因为这会给拒绝服务攻击创造一个平常的机会（攻击者只要发送垃圾比特就可以阻止他人使用服务了）。有时让整个系统宕机是必需的，特别是到达某个“不可能到达”的状态可能表明一个问题的严重程度使得继续运行变得不理智。</P
><P
>要仔细考虑检测到失效时发回的错误信息。如果什么都不发回，可能很难诊断问题，但发回太多的信息，可能无意中帮助了攻击者。通常最好的方法是回答“拒绝访问”或“遇到多种错误”，然后把更详细的信息写入一个审计日志文件（在这里就可以更好地控制哪些人可以看到这些信息）。</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x646.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x658.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>安全地配置并使用安全的缺省值</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c579.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>避免竞争状态</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>