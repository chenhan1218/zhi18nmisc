<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE> Linux 的 Database-SQL-RDBMS HOWTO 文件 (PostgreSQL 物件关联资料库系统): 文件和参考书</TITLE>
 <LINK HREF="PostgreSQL-HOWTO-29.html" REL=next>
 <LINK HREF="PostgreSQL-HOWTO-27.html" REL=previous>
 <LINK HREF="PostgreSQL-HOWTO.html#toc28" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<A HREF="PostgreSQL-HOWTO-29.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="PostgreSQL-HOWTO-27.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="PostgreSQL-HOWTO.html#toc28"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s28">28. 文件和参考书</A></H2>

<P>
<H2><A NAME="ss28.1">28.1 用户指引和说明书</A>
</H2>

<P>PostgreSQL 发行版本中已包括以下各项的 postscript、HTML 格式 和 unix 
man-pages。它们在 /usr/doc/postgresql* 目录中。如果你能上网，
你可在以下地方找到下列文件∶ 
<A HREF="http://www.postgresql.org/docs">http://www.postgresql.org/docs</A><P>
<UL>
<LI> "Installation Guide"</LI>
<LI> "User Guide" for PostgreSQL</LI>
<LI> "Implementation Guide" 详细说明 PostgreSQL 资料库的内部运作</LI>
<LI> 线上说明书</LI>
<LI> HTML 格式的线上说明书</LI>
<LI> Postscript 格式的线上说明书，用以列印</LI>
</UL>
<H2><A NAME="ss28.2">28.2 线上文件</A>
</H2>

<P>
<UL>
<LI> 内建资料型态和运算元的名单和解说
<BLOCKQUOTE><CODE>
<PRE>
A 是否 PSQL 指令的一部分
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> 支援的 SQL 关键字名单
<BLOCKQUOTE><CODE>
<PRE>
在源程式 /tools 目录中有一个命令稿 (script)
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> 支援的句语名单
<BLOCKQUOTE><CODE>
<PRE>
使用 psql \h 指令
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> PostgreSQL 的基本的关联式资料库概念（实施方法）和数个线上例子（查询）
<BLOCKQUOTE><CODE>
<PRE>
看 src/test 中的 regression 测试，请参阅 &lt;ref name="例子 RPM" 
id="Examples RPM">。你会找到 regress/sql 和 suite/*.sql 目录。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> PostgreSQL 指导
<BLOCKQUOTE><CODE>
<PRE>
SQL 指导稿件在 src/tutorial 目录中
</PRE>
</CODE></BLOCKQUOTE>

也请参阅本文件附录乙 
<A HREF="PostgreSQL-HOWTO-38.html#Appendix B">附录乙</A> 的“初学者 SQL 指导”。</LI>
</UL>
<H2><A NAME="ss28.3">28.3 有用的参考书</A>
</H2>

<P>
<UL>
<LI> "Understanding the New SQL: A Complete Guide" - Jim Melton 和 
Alan R.Simon 著
<BLOCKQUOTE><CODE>
<PRE>
Morgan Kaufman Publisher 是其中一本最好的 SQL 书。这本书以 SQL92 为准。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> "A Guide to THE SQL STANDARD" - C.J.Date 著
<BLOCKQUOTE><CODE>
<PRE>

Addison-Wesley Publishing company 也是一本好书。有关 SQL 的名作。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI>SQL - The Standard Handbook,  一九九二年十一月
<BLOCKQUOTE><CODE>
<PRE>
Stephen Cannan 和 Gerard Otten
McGraw-Hill Book Company Europe , Berkshire, SL6 2QL, England
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI>SQL Instant Reference, 1993
<BLOCKQUOTE><CODE>
<PRE>
Martin Gruber, Technical Editor: Joe Celko
SYBEX Inc.  2021 Challenger Drive Alameda, CA 94501
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> C.J.Date, "An introduction to Database Systems"
(第六版), Addison-Wesley, 1995, ISBN 0-201-82458-2
<BLOCKQUOTE><CODE>
<PRE>
这本是资料库管理系统的圣经。这本书详细说明正规化 (normalization)、SQL、恢复 
(recovery)、并行性 (concurrency)、保安、整合性 (integrity)、
对原本的关联模式的延伸、现今的话题如主从系统和物件导向模式。
也包括大量参考资料以供深入研究。向大部分用户推荐。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> Stefan Stanczyk, "Theory and Practice of Relational Databases",
UCL Press Ltd, 1990, ISBN 1-857-28232-9
<BLOCKQUOTE><CODE>
<PRE>
这本书详细说明关联式资料库、关系代数 (relational algebra)、关系演算 (calculus)
和正规化的理论。但它不包含现实世界的问题和较复杂的例子。向大部分用户推荐。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI>"The Practical SQL Handbook" 第三版，
Addison Wesley Developers Press
ISBN 0-201-44787-8
<BLOCKQUOTE><CODE>
<PRE>
向大部分用户推荐。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> Michael Stonebraker, "Readings in Database Systems",
Morgan Kaufmann, 1988, ISBN 0-934613-65-6
<BLOCKQUOTE><CODE>
<PRE>
这是过去数年有关资料库的论文集。它不是给一般用者看，而是进阶的学生（研究生）
或资料库开发人员。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> C.J.Date, "Relational Database - Selected Readings",
Addison-Wesley, 1986, ISBN 0-201-14196-5
<BLOCKQUOTE><CODE>
<PRE>
这是过去数年有关资料库的论文集。它不是给一般用者看，而是进阶的学生（研究生）
或资料库开发人员。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> Nick Ryan 和 Dan Smith, "Database Systems Engineering",
International Thomson Computer Press, 1995, ISBN 1-85032-115-9
<BLOCKQUOTE><CODE>
<PRE>
这本书深入说明存取方法和储存技考。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> Bipin C. Desai, "An introduction to Database Systems",
West Publishing Co., 1990, ISBN 0-314-66771-7
<BLOCKQUOTE><CODE>
<PRE>
它不是给一般用者看，而是进阶的学生（研究生）或资料库开发人员。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> Joe Celko "INSTANT SQL Programming"
<BLOCKQUOTE><CODE>
<PRE>
Wrox Press Ltd.
Unit 16, 20 James Road, Tyseley
Birmingham, B11 2BA, England
1995
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> Michael Gorman "Database Management Systems: Understanding and 
Applying Database"
<BLOCKQUOTE><CODE>
<PRE>
Technology
QED and John Wiley
1991
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI> Michael Gorman "Enterprise Database for a Client/Server Environment"
QED and John Wiley
<BLOCKQUOTE><CODE>
<PRE>
说明建立经由 repository metamodels 的主从资料库应用程式的要求和 ANSI
标准 SQL 1993 的应用。
</PRE>
</CODE></BLOCKQUOTE>
</LI>
</UL>
<P>还有数以百计有关 SQL 的书！到书店看看吧。
<H2><A NAME="ss28.4">28.4 ANSI/ISO SQL 规格文件□SQL 1992, SQL 1998</A>
</H2>

<P>ANSI/ISO SQL 规格文件可在下列网站找到∶
<UL>
<LI> 
<A HREF="http://www.naiua.org/std-orgs.html">http://www.naiua.org/std-orgs.html</A>
</LI>
<LI> 
<A HREF="http://www.ansi.org/docs">http://www.ansi.org/docs</A> 掣动档案 cat_c.html 
及寻找“Database SQL”。
</LI>
<LI> SQL92 标准 
<A HREF="http://www.jcc.com">http://www.jcc.com</A> 掣动档案 sql_stnd.html。
</LI>
<LI> ANSI/ISO SQL 规格 
<A HREF="http://www.contrib.andrew.cmu.edu/~shadow/sql.html">http://www.contrib.andrew.cmu.edu/~shadow/sql.html</A> 
你会在此找到 SQL 的参考资料。</LI>
</UL>
<H2><A NAME="ss28.5">28.5 ANSI/ISO SQL 1992 的语法</A>
</H2>

<P>请参阅本文件的附录甲 
<A HREF="PostgreSQL-HOWTO-37.html#Appendix A">附录甲</A><H2><A NAME="ss28.6">28.6 ANSI/ISO SQL 1998 的语法</A>
</H2>

<P>SQL 1998 (SQL 3) 规格仍在开发中。参看本文件的“电子途径取得 SQL3 草案”
<A HREF="#SQL 1998">SQL 1998</A>
<H2><A NAME="ss28.7">28.7 初学者 SQL 导引</A>
</H2>

<P>参看本文附录乙 
<A HREF="PostgreSQL-HOWTO-38.html#Appendix B">Appendix B</A>
<H2><A NAME="ss28.8">28.8 SQL92 的时态延伸 (Temporal Extension)</A>
</H2>

<P>
<UL>
<LI>SQL92 的时态延伸的文件
<A HREF="ftp://FTP.cs.arizona.edu/tsql/tsql2/">ftp://FTP.cs.arizona.edu/tsql/tsql2/</A>
</LI>
<LI>Temporal SQL-3 规格
<A HREF="ftp://FTP.cs.arizona.edu/tsql/tsql2/sql3/">ftp://FTP.cs.arizona.edu/tsql/tsql2/sql3/</A></LI>
</UL>
<P>这目录中包括一个 SQL-92 语言规格的时态延伸。这种新语言被名为 TSQL2。
<P>这里的语言规格是这语言的最终版本。
<P>可直接联络 TSQL2 设计委员会的主席∶Richard T.Snodgrass, 
Department of Computer Science, University of Arizona, Tucson, AZ 85721,
<UL>
<LI>       
<A HREF="mailto:rts@cs.arizona.edu">rts@cs.arizona.edu</A></LI>
</UL>

TSQL2 Language Design Committee 的电邮地址和入会详情可在语言规格最後的
一章找到。
<P>这目录中的内容如下。
<P>spec.dvi,.ps TSQL2 语言规格，一九九四年九月出版
<P>bookspec.ps  TSQL2 语言规格，内容如在 TSQL2 的书般，一九九五年十月
出版（请参阅下文）
<P>sql3         提交给 ANSI 和 ISO SQL3 筹委会的修订建议
<P>和语言规格一起，这里还收集了一些有关设计上的决定的评论、提供例子、
和研究如何实践这语言。这些评论原本是给 TSQL2 Language Design Committee 
的建议。它们现在有另一个用处∶提供有关 TSQL2 构造的例子、
推动设计时作出的大量决定、比较 TSQL2 和过去十五年有人提议过的大量语言。
必须强调，请些评论目前不是 TSQL2 语言规格的一部分，而是对它的补充和发展。
这语言规格已是 TSQL2 的最终决定。
<P>这些评论，加上语言规格、数个索引和其他支援材料，已经集结成书∶
<P>Snodgrass, R.T., editor, The TSQL2 Temporal Query Language, Kluwer
Academic Publishers, 1995, 674+xxiv 页。
<P>书中有一个节录了的评价，完整的评价在此目录中的 eval.ps 提供。
<P>tl2tsql2.pl 档是一个把获接受的时态逻辑 (temporal logic) 翻译为 TSQL2 的 
prolog 程式。这程式由 Michael Boehlen 写成。
<UL>
<LI>       
<A HREF="mailto:boehlen@iesd.auc.dk">boehlen@iesd.auc.dk</A></LI>
</UL>

各位可接触他以取得一份解释这翻译过程的论文。这是这程式的旧版本。新版本在
<UL>
<LI> 
<A HREF="http://www.cs.auc.dk/general/DBS/tdb/TimeCenter/Software">http://www.cs.auc.dk/general/DBS/tdb/TimeCenter/Software</A></LI>
</UL>

(the TimeDB and Tiger systems).
<H2><A NAME="SQL 1998"></A> <A NAME="ss28.9">28.9 第零部分□取得 ISO/ANSI SQL 文件 </A>
</H2>

<P>这文章说明如何（合法地）取得一份 SQL-92 标准和怎样取得一份“现时的”SQL3 草案。
<P>这标准版权所有， ANSI 标准的持有人为 ANSI，ISO 标准的持有人为 ISO。
<P>现时有两（2）个 SQL 标准，分别由 ANSI 和 ISO 出版。这两份标准每个字都一模一样，
除了一些小节，如文件标题、页首、短句“International Standard”和“American 
Standard”之类。
<P>
<P>购买 SQL-92 标准
<P>The ISO standard, ISO/IEC 9075:1992, Information Technology - Database
Languages - SQL，目前（一九九三年三月）在 ANSI 有存货及可得到∶
<BLOCKQUOTE><CODE>
<PRE>
     American National Standards Institute
     1430 Broadway
     New York, NY 10018 (USA)
     Phone (sales): +1.212.642.4900
</PRE>
</CODE></BLOCKQUOTE>

价钱 US$230.00。ANSI 版，ANSI X3.135-1992, American National Standard for 
Information Systems - Database Language SQL，目前并无存货，
但应该可在一九九三年三月下旬至五月上旬间得到。估计它的价钱是 US$225.00。
<P>如果你从 ANSI 购买任何一份文件，你需要给 7% 的手续费（即大约 
US$9.10）。海外邮寄肯定会更贵。ANSI 要求所有单据都伴随一份公司订单的复印本，
或者你可以美元寄一张美国的银行的支票，他们会在结了账後寄给你。
（例外情况∶如果你的组织是 ANSI 的公司会员 (corporate member)，ANSI 
会把文件寄给你而向公司收钱。）
<P>在美国国外，ISO 标准也可从作为 ISO (International Organization for 
Standardization) 或 IEC (International Electrotechnical Commission) 
会员的本土国营机构（国家的标准组织）购买。国营机构及其地址的名单可从 ANSI 
或其他国营机构取得。它们也可从 ISO 得到∶
<BLOCKQUOTE><CODE>
<PRE>
     International Organization for Standardization
     Central Secretariat
     1, rue de Varembi
     CH-1211 Genhve 20
     Switzerland
</PRE>
</CODE></BLOCKQUOTE>

如果你想以更方便快捷的方法订购这标准，你需要附出代价。你可从以下组织以 
US$308.00 订购 ISO/IEC 9075:1992, Information Technology - 
Database Languages - SQL∶
<BLOCKQUOTE><CODE>
<PRE>
     Global Engineering Documents
     2805 McGaw Ave
     Irvine, CA 92714 (USA)
     USA
     Phone (works from anywhere): +1.714.261.1455
     Phone (only in the USA): (800)854-7179
</PRE>
</CODE></BLOCKQUOTE>

我不知道这是否包括货运费，但我估计（起码）国际货运会额外收费。
他们会颇为快捷地把文件寄给你，甚至会接受“主要的信用卡”。Global 还没有 ANSI 
版，或他们没有价钱或估计时间（但我预计它会在 ANSI 出版後数周之内出现，价钱接近 
US$300.00）。
<P>
<P>购买一份 SQL3 草案 (Working Draft)
<P>你可从 ANSI X3 Secretariat, CBEMA (Computer and Business Equipment Manufacturers
Association) 购买一份 SQL3 草案的复印本。他们意图确保能提供“最近”版本的 
SQL3 草案，并以 US$60.00 至 US$65.00 出售。你可以以下途径接触 CBEMA。
<BLOCKQUOTE><CODE>
<PRE>
     CBEMA, X3 Secretariat
     Attn: Lynn Barra
     1250 Eye St.
     Suite 200
     Washington, DC 20005 (USA)
</PRE>
</CODE></BLOCKQUOTE>

Lynn Barra 也可以电话号码 +1.202.626.5738 接触以要求一份，不过邮寄似乎较有礼貌。
<P>电子径取得 SQL3 草案
<P>最新版本（以写本文时为准）的 SQL3（ANSI 和 ISO）草案（和所有附件）
可在以下站台以“anonymous ftp”或“ftpmail”得到∶
<BLOCKQUOTE><CODE>
<PRE>
     gatekeeper.dec.com

  在

     /pub/standards/sql/
</PRE>
</CODE></BLOCKQUOTE>

这目录中有多个档案，包括 PostScript 档和纯文字档（格式不很美观，
但可在萤幕上无须特别软件阅读）。
<P>一般来说，你可找到类似名称的档案∶
<BLOCKQUOTE><CODE>
<PRE>
     sql-bindings-mar94.ps
     sql-bindings-mar94.txt
     sql-cli-mar94.ps
     sql-cli-mar94.txt
     sql-foundation-mar94.ps
     sql-foundation-mar94.txt
     sql-framework-mar94.ps
     sql-framework-mar94.txt
     sql-psm-mar94.ps
     sql-psm-mar94.txt
</PRE>
</CODE></BLOCKQUOTE>

完成新版本的文件後，“mar94”会改变来说明新的出版日期（例如“aug94”是估计在
“mar94”之後的版本）。
<P>另外，为照顾不能从 FTP 取得档案名单的读者，我们在目录中放置了一个名为
<BLOCKQUOTE><CODE>
<PRE>
     ls
</PRE>
</CODE></BLOCKQUOTE>

的档案。这档案（神奇！）包括了目录内的档案名单。
<P>
<P>从 Ftp 直接获得档案
<P>这是使用 FTP 的例子。它特别说明如何连接到 gatekeeper.dec.com，
到达放置这些档案的目录，及把档案传送到你的电脑。要注意的的电脑要有上网功能。
签入名称是‘ftp’，密码则是你的电邮地址（即所谓‘anonymous ftp’）。指令‘type 
binary’是用来确保收到的档案中没有位元被截去。‘get’一次取得一个档案。
在命令稿 (script) 中的注解会在角括号内 &lt; 即是如此 &gt;。
<BLOCKQUOTE><CODE>
<PRE>
  % ftp gatekeeper.dec.com
  Connected to gatekeeper.dec.com.
  220- *** /etc/motd.ftp ***
       Gatekeeper.DEC.COM is an unsupported service of DEC Corporate Research.
       &lt;…等一会…>
  220 gatekeeper.dec.com FTP server (Version 5.83 Sat ... 1992) ready.
  Name (gatekeeper.dec.com:&lt;你的登入名称>): ftp  &lt;anonymous 也可>
  331 Guest login ok, send ident as password.
  Password: &lt;键入你的电邮地址>
  230 Guest login ok, access restrictions apply.
  Remote system type is UNIX.  &lt;什麽也没所谓>
  Using binary mode to transfer files.
  ftp> cd pub/standards/sql
  250 CWD command successful.
  ftp> dir
  200 PORT command successful.
  150 Opening ASCII mode data connection for /bin/ls.
  total 9529
  -r--r--r--  1 root     system     357782 Feb 25 10:18 x3h2-93-081.ps
  -r--r--r--  1 root     system     158782 Feb 25 10:19 x3h2-93-081.txt
  -r--r--r--  1 root     system     195202 Feb 25 10:20 x3h2-93-082.ps
  -r--r--r--  1 root     system      90900 Feb 25 10:20 x3h2-93-082.txt
  -r--r--r--  1 root     system    5856284 Feb 25 09:55 x3h2-93-091.ps
  -r--r--r--  1 root     system    3043687 Feb 25 09:57 x3h2-93-091.txt
  226 Transfer complete.
  ftp> type binary
  200 Type set to I.
  ftp> get x3h2-93-082.txt
  200 PORT command successful.
  150 Opening BINARY mode data connection for x3h2-93-082.txt (90900 bytes).
  226 Transfer complete.
  90900 bytes received in 0.53 seconds (166.11 Kbytes/s)
  ftp> quit
  % &lt;这档案已成为你的电脑中的 x3h2-93-082.txt>
</PRE>
</CODE></BLOCKQUOTE>

没有 ftp 支援的情况下取得档案
<P>Digital Equipment Corporation 和数间其他公司相似，提供 ftp email 
服务。它可能需要数天才有回应，但它为不能直接上网的人提供了等同 ftp 
的服务。伺服器的地址为∶
<P>ftpmail@decwrl.dec.com
<P>以下命令稿会取得最新版本的 SQL3 文件的 PostScript 版∶
<BLOCKQUOTE><CODE>
<PRE>
     reply joe.programmer@imaginary-corp.com
     connect gatekeeper.dec.com anonymous
     binary
     compress
     uuencode
     chdir /pub/standards/sql
     get x3h2-93-091.ps
     quit
</PRE>
</CODE></BLOCKQUOTE>

第一句指令告诉伺服器要把档案传给你，你需要把
“joe.programmer@imaginary-corp.com”换为你的电邮地址。这例子中的档案 
x3h2-93-091.ps 会以 uuencode 了的 compress 档格式，分成三十四封电邮回覆。
如果你的环境没有提供重组档案的工具，你需要用下列命令稿以纯文字模式取得档案∶
<BLOCKQUOTE><CODE>
<PRE>
     reply joe.programmer@imaginary-corp.com
     connect gatekeeper.dec.com anonymous
     chdir /pub/standards/sql
     get x3h2-93-091.ps
     quit
</PRE>
</CODE></BLOCKQUOTE>

但请注意，这 .ps 档大概会被分为超过七十份来回覆！
<P>要取得任何不是 x3h2-93-091.ps 的档案，只需把“x3h2-93-091.ps”
换为你想要的档案的名称。要取得所有档案的名单，把“x3h2-93-091.ps”换为
“dir”。
<H2><A NAME="ss28.10">28.10 第一部分□ISO/ANSI SQL 当前情况</A>
</H2>

<P>这章是有关 SQL 标准和其当前情况的资料来源。
<P>当前情况∶
<P>目前正在进行开发工作，以改进 SQL 为为计算上完整的语言 (computationally 
complete language)，以可用於持久、复杂的物件。这包括∶一般化和专门化等级 
(generalization and specialization hierarchies)、多级继承 (multiple 
inheritance)、自订资料形态、激发 (triggers) 和判断 
(assertions)、知识库系统支援 (support for knowledge based systems)、回递查询式 
(recursive query expression) 和附加资料管理工具。它也包括抽象资料型态 
(ADTs)、物件识别字 (object identifiers)、方法 (methods)、继承 
(inheritance)、多型 (polymorphism)、包装 (encapsulation)、
和所有其他与物件资料管理有关的功能的规格。
<P>一九九六年秋季，SQL3 数个部分进行了一次 ISO CD 不记名投票。这数部分是 
SQL/Framework、SQL/Foundation 和 SQL/Bindings。一如所料，
投票结果是在收到约九百个评论下遭否决。一月下旬举行了一次 ISO DBL 编辑会议 
(editing meeting)，处理了大量在评论中提及或另外提交的问题解决方法。
由於该次会议未能处理所有评论，会议将会延长。
编辑会议定於一九九七年七月在伦敦完成。
<P>据估计，在七月的编辑会议之後，会再提出对有关那些部分的 SQL 进行最後的 CD 
投票。最後 CD 过程会花大约六个月，之後会有 DBL 编辑会议、DIS 投票和快捷的 
IS 投票。
<P>ISO 的程序在 SQL/92 之後改变了，所以 SQL 委员会仍在摸索这过程的详情。
<P>如果事事顺利，SQL3 的这些部分会在 1998 年後期成为官方 ISO/IEC 
标准，不过时间非常紧迫。
<P>在一九九三年，ANSI 和 ISO 开发委员会决定把之後的 SQL 
发展分为多部分的标准。这些部分包括∶
<P>
<UL>
<LI>   Part 1: Framework A non-technical description of how the document is
structured.</LI>
<LI>   Part 2: Foundation The core specification, including all of the new ADT
features.</LI>
<LI>   Part 3: SQL/CLI The Call Level Interface.</LI>
<LI>   Part 4: SQL/PSM The stored procedures specification, including
computational completeness.</LI>
<LI>   Part 5: SQL/Bindings The Dynamic SQL and Embedded SQL bindings taken
from SQL-92.</LI>
<LI>   Part 6: SQL/XA An SQL specialization of the popular XA Interface
developed by X/Open</LI>
<LI>   Part 7:SQL/TemporalAdds time related capabilities to the SQL standards.</LI>
</UL>
<P>在美国，SQL3 的整体同时当作 ANSI 本土 (Domestic, "D") 专案和 ISO 
专案处理。目前估计完成时间是一九九九年。
<P>SQL/CLI 和 SQL/PSM 现正以最高速度处理，以作为 SQL-92 的修订。在美国，
它们只被当作国际 (International, "I") 专案处理。 SQL/CLI 
在一九九五年完成了。SQL/PSM 应该会在 1996 年未段完成。
<P>除了 SQL3 外，还有一些附加的计划∶
<P>
<UL>
<LI>   SQL/MM An ongoing effort to define standard multi-media packages using
the SQL3 ADT capabilities.</LI>
<LI>   Remote Data Access (RDA)</LI>
</UL>
<P>标准委员会和过程 (Standards Committee and Process)
<P>事实上，世上有多个 SQL 标准委员会。ISO 有一部分是一个国际 SQL 
标准小组。多个国家都有以 SQL 为重点的委员会。这些国家（通常）派出代表参与 
ISO/IEC JTC1/SC 21/WG3 DBL 会议。主动参与 ISO SQL 标准制定的国家是∶
<P>
<UL>
<LI>   澳洲</LI>
<LI>   巴西</LI>
<LI>   加拿大</LI>
<LI>   法国</LI>
<LI>   德国</LI>
<LI>   日本</LI>
<LI>   韩国</LI>
<LI>   荷兰</LI>
<LI>   英国</LI>
<LI>   美国</LI>
</UL>
<P>NIST 确认 (NIST Validation)
<P>在美国，SQL 实践的确认工作由 National Institute of Standards and Training 
(NIST) 进行。NIST 目前有一套入门级 (entry level) SQL-92 的测试套件。NIST 
确认要求的详情被定义为一项 Federal Information Processing Standard 
(FIPS)。目前对 SQL 的要求定义於 FIPS 127-2。本文件的 Postscript 和文字模式可从 
NIST 取得。目前通过 SQL 确认的产品名单也可在 NIST 取得。
<P>标准 SQL 刊物和文件 (Standard SQL Publications and Articles)
<P>SQL 标准有两个版本。两个都可从 ANSI 取得∶
<P>
<UL>
<LI>   ISO/IEC 9075:1992, "Information Technology --- Database Languages ---
SQL"</LI>
<LI>   ANSI X3.135-1992, "Database Language SQL"</LI>
</UL>
<P>除封面和对其他标准的参考外，SQL 标准的两个版本完全一样。
两个版本都可从以下地方取得∶
<BLOCKQUOTE><CODE>
<PRE>
     American National Standards Institute
     1430 Broadway
     New York, NY 10018
     USA
     Phone (sales): +1.212.642.4900
</PRE>
</CODE></BLOCKQUOTE>

除 SQL-92 标准外，现在还有一份技术正误表 (Technical Corrigendum) （除错）∶
<BLOCKQUOTE><CODE>
<PRE>
   * Technical Corrigendum 1:1994 to ISO/IEC 9075:1992
</PRE>
</CODE></BLOCKQUOTE>

TC 1 应该可从 ANSI 取得。TC 1 只有 ISO 版本□□它适用於 ISO 和 ANSI 版本的 
SQL-92。
<P>除标准外，也有关於 1992 SQL 标准的书。这些书提供一个比实际标准易理解的描述。
<P>有关的标准
<P>SQL 社群也对多个其他标准有兴趣。这节包括一些有关这些努力的指针。
当更多资料在网上出现後，这个名单也会更长。
<P>
<UL>
<LI>  SQL Environments (FIPS 193)</LI>
<LI>   Next Generation Repository Systems (X3H4) - 一份呼吁参与 "Developing 
Standards for the Next Generation Repository Systems" 的新闻稿。</LI>
</UL>
<H2><A NAME="ss28.11">28.11 第二部分□ISO/ANSI SQL 基金 (ISO/ANSI SQL Foundation)</A>
</H2>

<P>SQL3 努力的一个重要部分在 SQL 基金文件中∶
<P>
<UL>
<LI>   基本的 SQL/PSM 能力（来自 SQL/PSM-92）</LI>
<LI>   新的资料型态</LI>
<LI>   激发 (Triggers)</LI>
<LI>   子表格 (Subtables)</LI>
<LI>   抽像资料型态 (Abstract Data Types, ADT)</LI>
<LI>   物件导向能力</LI>
</UL>
<P>对物件导向能力有数个先决要求∶
<P>
<UL>
<LI>   定义复杂运作的能力</LI>
<LI>   把复杂的运作储存在资料库中</LI>
<LI>   呼叫外部程序，有些不能用 SQL 做到的运作，或需要和外面沟通</LI>
</UL>
<P>这些能力已定义为 SQL/PSM 的一部分
<P>现在有大量工作於炼制 SQL-3 物件模型，使它和 ODMG 提出的物件模型看齐。这努力在 
X3H2 和 ISO DBL 文章中描述过∶容纳 SQL3 和 ODMG。在 SQL3/OQL Merger 
最近的更新版也可得到。
<P>SQL3 时间表
<P>有关 SQL3 的工作正在进行，但最终标准还有待数年後才出现。
<P>
<UL>
<LI>  国际性投票把 SQL3 基础从草案提升为委员草案 (Committee Draft, CD)
在一九九六日秋季进行。</LI>
<LI>  估计投票会带来大量评论</LI>
<LI>  将会需要第二次 CD 投票</LI>
<LI>  Draft International Standard 投票多半会在 1998 年中进行</LI>
<LI>  国际标准可在一九九九年中完成</LI>
</UL>
<P>ANSI 版的标准的编排也差不多。
<H2><A NAME="ss28.12">28.12 第三部分□ISO/ANSI SQL 呼叫级介面 (Call Level Interface)</A>
</H2>

<P>SQL/CLI 是一种对 SQL 资料库的呼叫级介面。它设计为支援包裹 (shrink-wrapped) 
的应用程式。CLI 原本由 SQL Access Group (SAG) 的一个小组委员会创造。 SAG/CLI 
规格在 1992 年以微软 Open DataBase Connectivity (ODBC) 规格公布。一九九三年，
SAG 把 CLI 提交到 ANSI 和 ISO SQL 委员会中。(SQL Access Group 现已结合到 
X/Open consortium 中。)
<P>SQL/CLI 提供了以下事项的国际标准∶
<P>
<P>
<UL>
<LI>   独立於实践方法的 CLI 来存取 SQL 资料库</LI>
<LI>   主从工具 (Client-server tools) 可轻易籍动态链结函式库存取资料库</LI>
<LI>   支援及鼓励丰富的主从工具</LI>
</UL>
<P>SQL/CLI 时间表
<P>对标准的开发过程，SQL/CLI 正以惊人的速度处理中。
<P>
<UL>
<LI>   SQL/CLI 是对 1992 SQL 标准（SQL-92）的补遗</LI>
<LI>   一九九五年完成，成为 ISO 标准</LI>
<LI>   ISO/IEC 9075-3:1995 Information technology -- Database languages -- SQL
-- Part 3: Call-Level Interface (SQL/CLI)</LI>
<LI>   目前 SQL/CLI 正努力加上 SQL3 功能</LI>
</UL>
<H2><A NAME="ss28.13">28.13 第四部分□ ISO/ANSI SQL 持久储存模组 (Persistent Stored Modules)</A>
</H2>

<P>SQL/PSM 籍以下功能扩充 SQL∶
<P>
<UL>
<LI>   程序语言 (Procedural language) 延伸</LI>
<LI>   复句 (Multi-statement) 和储存程序</LI>
<LI>   外部函数与程序呼叫 (External function and procedure calls)</LI>
</UL>
<P>除作为有价值的应用程式开发工具，SQL/PSM 为 SQL3 提供了物件导向能力的基础支援。
<P>复句和内存程序
<P>复句和内存程序为主从环境提供多种好处∶
<P>
<UL>
<LI>   表现□由於内存程序可执行多句 SQL 语句，与客户经网络的沟通可减少。</LI>
<LI>   保安□用者可以有权利经内存程序更新一个或多个表格，但没权直接更新。</LI>
<LI>   分享程式码□不需每个存取资料库客户工具都重写和重试内存程序的程式码。</LI>
<LI>   控制□为应用程式的执行提供单一的定义和控制。</LI>
</UL>
<P>程序语言延伸
<P>程序语言籍流向控制和其他编程技巧为 SQL 加上传统程式语言的功能。
<P>流向控制语句
<P>
<UL>
<LI>   If-then-else</LI>
<LI>   回圈结构 (Looping constructs)</LI>
<LI>   例外处理 (Exception handling)</LI>
<LI>   Case 语句</LI>
<LI>   Begin-End 区块</LI>
</UL>
<P>程序语言延伸还包括其他编程技巧∶
<P>
<UL>
<LI>   变数宣告</LI>
<LI>   Set 语句，用於赋值 (assignment)</LI>
<LI>   取得行程 (process) 和状态的资料</LI>
</UL>
<P>此外，所有传统 SQL 语言都可包含在多句的程序中。
<P>外部函数与程序呼叫
<P>一个经常在大量资料库产品的 wish lists 中出现，而有部分实践到的特色，
是呼叫用者所写，在资料库软件外的程序。
<P>
<UL>
<LI>   容许某个电脑或应用程式加上自己的资料库函数</LI>
<LI>   可在整个资料库应用程式使用</LI>
</UL>
<P>这功能的好处是它让资料库（因此包括资料库应用程式）使用丰富的程序和函数，
丰富得不能由一个标准组织定出。
<P>SQL/PSM 时间表
<P>SQL/PSM 发展迅速∶
<P>
<UL>
<LI>   SQL/PSM 是 SQL-92 的补遗</LI>
<LI>   有关把 SQL/PSM 
从国际标准的草案变为国际标准的国际投票在一九九六年一月完成。</LI>
<LI>   一九九六年五月的编辑会议未能解决所有评论</LI>
<LI>   PSM 编辑会议安排於一九九六年九月三十日至十月四日期间重开</LI>
<LI>   安排紧迫，但 PSM 有可能在一九九六年间出版</LI>
<LI>   官方任命为∶
ISO/IEC DIS 9075-4:199? Information technology -- Database languages --
SQL -- Part 4: SQL Persistent Stored Modules (SQL/PSM)</LI>
<LI>   现正为 SQL3 加上 SQL/PSM 支援工作。</LI>
</UL>
<H2><A NAME="ss28.14">28.14 第五部分□ ISO/ANSI SQL/结合 (Bindings)</A>
</H2>

<P>为方便参考，程式语言的结合被抽出成独立的文件。目前的版本即是 SQL-92 
的动态和嵌入结合 (dynamic and embedded bindings) 的节录。
<P>程式语言结合仍有不同的问题有待解决。
<P>对传统程式语言来说，资料型态和 SQL-92 的可以互相对应。不过， SQL 
物件和程式语言变数之间的对应必须定义。
<P>对物件导向语言来说，目前的 SQL 资料型态、SQL 
物件模型和物件导向程式语言之间的对应关系必须定义。
<P>物件模型需在公开这些之前稳定下来。
<P>语言结合完成时会成为 SQL3 的一部分。
<H2><A NAME="ss28.15">28.15 第六部分□ISO/ANSI SQL XA 介面专门化 （SQL/XA）</A>
</H2>

<P>这规格会为总交易管理员 (global Transaction Manager) 和 SQL 资源管理员 
(SQL Resource Manager) 之间应用程式介面 (API) 提供标准。它会根据 ISO/IEC 
10026 的内容，“分散交易处理 (Distributed Transaction Processing）”
标准化函数呼叫，SQL 资源管理员会用以支援分二阶段的确定 (two-phase 
commit)。基础的文件是自经 X/Open 批准而来自一份 X/Open 出版物，它清楚的指明 
xa_close, xa_commit, xa_complete, xa_end, xa_forget, xa_open, xa_prepare, 
xa_recover, xa_rollback 和 xa_start 等多个函数，以 SQL 
资料型态的输入和输出参数的语法。
<P>ISO 目前正尝试尽快追上 (fast-tract) X/Open XA 规格。
这个过程原封不动采用一个目前的业界规格。以 ISO SC21，JTC 1 等级的 XA 
尽快追上投票在一九九五年四月二十七日开始，一九九五年十月二十七日结束。如果 XA 
规格经 75% 票数和 2/3 的 JTC 1 p-members 批准，它会成为一个国际标准。
如果经尽快追上投票批准，SQL/XA 可在 1996 年成为标准。
<H2><A NAME="ss28.16">28.16 第七部分□时态 ISO/ANSI SQL </A>
</H2>

<P>时态 SQL 处理和时间有关的资料。其概念是在查询资料时利用它在一个特定时间的情况。
时态 SQL 是一份由 Rick Snodgrass 在一九九四年十二月所写，描述这概念的文件。
<P>X3 宣布确认一个新计划，ISO/IEC 9075 Part 7:
SQL/Temporal 是一份关於 SQL/Temporal 的新闻稿
<BLOCKQUOTE><CODE>
<PRE>
----------------------------------------------------------------------------
                                Temporal SQL
                                ************
Rick Snodgrass（TSQL2 委员会主席）
31-Dec-1994
</PRE>
</CODE></BLOCKQUOTE>

有人质疑过 SQL 3 对附加时间支援的问题（如在 DBL R10-75 提议，要求 SQL 
有新的部分来处理时间性的资料库）。其论点是抽象资料形态 (ADT's) 足以支援时态。
在这资讯性的项目，我使用具体例子来论证拥有抽象资料形态的栏位不能处理时态查询。
特别来说，很多时间性的查询不是很难用 SQL 模拟，就是需在过程语言中使用嵌入式 
SQL。其他选择在 TSQL2，一个对 SQL-92 的时态延伸中提出了。
<H3>导言</H3>

<P>有效时间 (Valid-time) 的支援超出一个时态 ADT 的能力。使用後者，
一个栏位被指定为时态领域，如 DATE 或 INTERVAL（稍後会有例子）。籍著有效时间，
表格的每行随著时间改变，因为现实改变了。联系到一个有效时间表格的某行的时间戳记 
(timestamp)，会被查询语言理解为该行中各栏数值的组合有效的时间。
这个无须言明的时间戳记使得查询可以简单易明地表达出来。
<H3>个案研究□储存现时资料</H3>

<P>The University of Arizona 的 Office of Appointed Personnel 
在资料库中有些资料，包括雇员名字、目前薪金和目前职位。
这些可用一个简单的表格表达出来。
<BLOCKQUOTE><CODE>
<PRE>
        Employee(Name, Salary, Title)
</PRE>
</CODE></BLOCKQUOTE>

使用这个表格寻找一个雇员的薪金十分简单。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT Salary
        FROM Employee
        WHERE Name = 'Bob'
</PRE>
</CODE></BLOCKQUOTE>

现在 OAP 想再记录出生日期。为些，在表格中加了一栏，产生以下纲目 (schema)∶
<BLOCKQUOTE><CODE>
<PRE>
        Employee(Name, Salary, Title, DateofBirth DATE)
</PRE>
</CODE></BLOCKQUOTE>

找寻一名雇员的出生日期个寻找薪金类似。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT DateofBirth
        FROM Employee
        WHERE Name = 'Bob'
</PRE>
</CODE></BLOCKQUOTE>
<H3>个案研究□储存历史资料</H3>

<P>OAP 想把受雇历史电脑化。为此，他们加上两栏，
一栏指出表示此行的资料何时开始有效，另一指出资料何时失效。
<P>Employee (Name, Salary, Title, DateofBirth, Start DATE, Stop DATE)
<P>以资料模型 (data model) 说，这些新栏位和 DateofBirth 毫无分别。不过，
它们的存在产生多种结果。
<H3>个案研究□投映 (Projection)</H3>

<P>要找出雇员目前的薪金会较为困难。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT Salary
        FROM Employee
        WHERE Name = 'Bob' AND Start &lt;= CURRENT_DATE AND CURRENT_DATE &lt;= Stop
</PRE>
</CODE></BLOCKQUOTE>

这句查询比之前的复杂。元凶很明显是新增的两栏。OAP 想发出薪金历史给各员工。
特别地，有需要找出每一名雇员在收受一个薪酬的最长时间。不幸地，用 SQL 
不能做到。一名雇员在薪酬调整期间职衔可有多次变更。
<BLOCKQUOTE><CODE>
<PRE>
Name    Salary  Title             DateofBirth   Start           Stop
----    ------  -----             -----------   -----           ----
Bob     60000   Assistant Provost 1945-04-09    1993-01-01      1993-05-30
Bob     70000   Assistant Provost 1945-04-09    1993-06-01      1993-09-30
Bob     70000   Provost           1945-04-09    1993-10-01      1994-01-31
Bob     70000   Professor         1945-04-09    1994-02-01      1994-12-31

                               图 1
</PRE>
</CODE></BLOCKQUOTE>

要注意有三行 Bob 的薪金停留在 $70,000。所以，结果应该是 Bob 有两行。
<BLOCKQUOTE><CODE>
<PRE>
Name    Salary  Start           Stop
----    ------  -----           ----
Bob     60000   1993-01-01      1993-05-30
Bob     70000   1993-06-01      1994-12-31
</PRE>
</CODE></BLOCKQUOTE>

另一方法是把薪金和职级资料印给用者，而由用者找出他的薪酬何时变更。
这方法既不吸引，亦不实际。另一方法是尽量使用 SQL。
<BLOCKQUOTE><CODE>
<PRE>
CREATE TABLE Temp(Salary, Start, Stop)
AS      SELECT Salary, Start, Stop
        FROM Employee;
</PRE>
</CODE></BLOCKQUOTE>

repeat
<BLOCKQUOTE><CODE>
<PRE>
        UPDATE Temp T1
        SET (T1.Stop) = (SELECT MAX(T2.Stop)
                         FROM Temp AS T2
                         WHERE T1.Salary = T2.Salary AND T1.Start &lt; T2.Start
                                AND T1.Stop >= T2.Start AND T1.Stop &lt; T2.Stop)
        WHERE EXISTS (SELECT *
                      FROM Temp AS T2
                      WHERE T1.Salary = T2.Salary AND T1.Start &lt; T2.Start
                                AND T1.Stop >= T2.Start AND T1.Stop &lt; T2.Stop)
        until no rows updated;

DELETE FROM Temp T1

WHERE EXISTS (SELECT *
              FROM Temp AS T2
              WHERE T1.Salary = T2.Salary
                        AND ((T1.Start > T2.Start AND T1.Stop &lt;= T2.Stop)
                        OR (T1.Start >= T2.Start AND T1.Stop &lt; T2.Stop))
</PRE>
</CODE></BLOCKQUOTE>

回圈中找出重叠或相邻而需要合并的时段。在最坏的情况，回圈会执行 log N 次，N 
指一连串重叠或相邻的同薪金纪录的数量。读者可自行模拟查询在以上例子的执行，
以验证它的正确性。
<P>第三种方法是使用 SQL 为表格开启一个游标 
(cursor)。为每个薪金管理一个各段落的链表 (linked list)。这链表开始时需为空白。
<BLOCKQUOTE><CODE>
<PRE>
DECLARE emp_cursor CURSOR FOR
        SELECT Salary, Title, Start, Stop
        FROM Employee;
OPEN emp_cursor;
loop:
        FETCH emp_cursor INTO :salary, :start, :stop;
        if no-data returned then goto finished;
        find position in linked list to insert this information;
        goto loop;
finished:
CLOSE emp_cursor;
</PRE>
</CODE></BLOCKQUOTE>

重覆至链表结束，印出日期和薪金。
<P>如果游标是 ORDER BY Start，链表并非必要。
<P>无论如何，一句简单的查询是不易用 SQL-92 的功能表达出这目的。使用 TSQL2 
的话这查询会很简单。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT Salary
        FROM Employee
</PRE>
</CODE></BLOCKQUOTE>
<H3>案例研究□连结 (JOIN)</H3>

<P>一个更激进的方法是把纲目重整，把薪金、职级、出生日期资料分开，
从而避开抽取薪酬历史时遇到的问题。（为方便计，我们以後的讨论中不再考虑出生日期。）
<BLOCKQUOTE><CODE>
<PRE>
        Employee1 (Name, Salary, Start DATE, Stop DATE)
        Employee2 (Name, Title, Start DATE, Stop DATE)
</PRE>
</CODE></BLOCKQUOTE>

Employee1 表格如下∶
<BLOCKQUOTE><CODE>
<PRE>
Name    Salary  Start           Stop
----    ------  -----           ----
Bob     60000   1993-01-01      1993-05-30
Bob     70000   1993-06-01      1993-12-31
</PRE>
</CODE></BLOCKQUOTE>

这是 Employee2 表格。
<BLOCKQUOTE><CODE>
<PRE>
Name    Title                   Start           Stop
----    ------                  -----           ----
Bob     Assistant Provost       1993-01-01      1993-09-30
Bob     Provost                 1993-10-01      1994-01-31
Bob     Professor               1994-02-01      1994-12-31
</PRE>
</CODE></BLOCKQUOTE>
<P>改变之後，取得雇员薪金资料变得简单。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT Salary, Start, Stop
        FROM Employee1
        WHERE Name = 'Bob'
</PRE>
</CODE></BLOCKQUOTE>

但如果 OAP 想一个表格中包括薪金、职位的时段（即 OAP 想一个像图 1 
形式的表格）？一个方法是印出两个表格，而让用者找出有关组合。另一方法是完全使用 
SQL。不幸地，这查询要分析 Employee1 每行和 Employee2 
的重叠情况，有四种可能出现。
<BLOCKQUOTE><CODE>
<PRE>
SELECT Employee1.Name, Salary, Dept, Employee1.Start, Employee1.Stop
FROM Employee1, Employee2
WHERE Employee1.Name = Employee2.Name
     AND Employee2.Start &lt;= Employee1.Start AND Employee1.Stop &lt; Employee2.Stop
UNION
SELECT Employee1.Name, Salary, Dept, Employee1.Start, Employee2.Stop
FROM Employee1, Employee2
WHERE Employee1.Name = Employee2.Name
     AND Employee1.Start >= Employee2.Start AND Employee2.Stop &lt; Employee1.Stop
        AND Employee1.Start &lt; Employee2.Stop
UNION
SELECT Employee1.Name, Salary, Dept, Employee2.Start, Employee1.Stop
FROM Employee1, Employee2
WHERE Employee1.Name = Employee2.Name
     AND Employee2.Start > Employee1.Start AND Employee1.Stop &lt; Employee2.Stop
        AND Employee2.Start &lt; Employee1.Stop
UNION
SELECT Employee1.Name, Salary, Dept, Employee2.Start, Employee2.Stop
FROM Employee1, Employee2
WHERE Employee1.Name = Employee2.Name
     AND Employee2.Start > Employee1.Start AND Employee2.Stop &lt; Employee1.Stop
</PRE>
</CODE></BLOCKQUOTE>

正确找出所有情形是一件具挑战性的工作。使用 
TSQL2，进行一个具时态的连结就如人们所期望。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT Employee1.Name, Salary, Dept
        FROM Employee1, Employee2
        WHERE Employee1.Name = Employee2.Name
</PRE>
</CODE></BLOCKQUOTE>
<H3>个案研究□聚集 (AGGREGATES)</H3>

<P>现在 OAP 被问及最高薪酬是什麽？加上时间前，这很简单。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT MAX(Salary)
        FROM Employee
</PRE>
</CODE></BLOCKQUOTE>

现在加上了薪金历史，我们要找出不同时间最高薪金的历史。问题当然是 SQL 
并不提供具时态的聚集。简单的方法是印出有关资料，用人手找出最大值。
另一个方法是取巧，把一个当时的 (snapshot) 聚集查询转化为不使用聚集的查询，
再转化为时态聚集。那个不使用聚集的查询用於找出不大於它本身数值的薪金。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT Salary
        FROM Employee AS E1
        WHERE NOT EXISTS (SELECT *
                          FROM Employee AS E2
                          WHERE E2.Salary > E1.Salary)
</PRE>
</CODE></BLOCKQUOTE>

把这个查询变为时态查询并不显浅。以下是一种方法。
<BLOCKQUOTE><CODE>
<PRE>
CREATE TABLE Temp (Salary, Start, Stop)
AS      SELECT Salary, Start, Stop
        FROM Employee;
INSERT INTO Temp
        SELECT T.Salary, T.Start, E.Start
        FROM Temp AS T, Employee AS E
        WHERE E.Start >= T.Start AND E.Start &lt; T.Stop AND E.Salary > T.Salary;

INSERT INTO Temp
        SELECT T.Salary, T.Stop, E.Stop
        FROM Temp AS T, Employee AS E
        WHERE E.Stop > T.Start AND E.Stop &lt;= T.Stop AND E.Salary > T.Salary;
DELETE FROM Temp T
WHERE EXISTS (SELECT *
              FROM Employee AS E
              WHERE ((T.Start => E.Start AND T.Start &lt; E.Stop)
                        OR (E.Start >= T.Start AND E.Start &lt; T.Stop))
                    AND E.Salary > T.Salary;
</PRE>
</CODE></BLOCKQUOTE>

这方法建立辅助表格。我们在这个表格中加上两个时段中重叠部分的上、下部分。
之後我们把所有子查询中找出的纪录删除，因此影响到 NOT 
EXISTS。最後我们从辅助表格中找出最长的时段，像之前我们找出薪金资讯般。
如大家所料，这样的 SQL 句子执行时效率非常低，因为那些复杂的巢状不等查询。
<P>第三个方法是尽量少用 SQL，而在主机上所用的语言中用游标找出最长的历史。
<P>使用 TSQL2 再次简单直接。
<BLOCKQUOTE><CODE>
<PRE>
        SELECT MAX(Salary)
        FROM Employee
</PRE>
</CODE></BLOCKQUOTE>
<H3>摘要</H3>

<P>大部分资料库应用程式都需要处理随时间改变的资料。有效时间在 SQL 
并不支援。很多时态查询不是很难以 SQL 模拟，就是需要把 SQL 
嵌入到程序语言中，因为 SQL 在资料模型和查询语言结构中缺乏对有效时间的支援。
<P>另一方面，我们示□出加上有效时间支援需要对 DBMS 施行作出一些改变，
但能戏剧性地简化一些查询，并使其他查询变得有可能。将来也可於储存结构、
索引方法的最佳化 (optimization)。而最佳化的策略可导致表现大幅提升。
<P>随著 SQL3 的一个新部分支援随时间改变的资料，我们可以开□处理这类应用，改良 
SQL3 处理时态资料的能力。
<BLOCKQUOTE><CODE>
<PRE>
----------------------------------------------------------------------------
           Accredited Standards Committee* X3, Information Technology
NEWS RELEASE

文件编号∶       PR/96-0002

回覆∶       Barbara Bennett at bbennett@itic.nw.dc.us

             X3 宣布认可一个这专案, ISO/IEC 9075 Part 7:  SQL/Temporal

Washington D.C., 1996 年一月
----------------------------------------------------------------------------
</PRE>
</CODE></BLOCKQUOTE>

-- Accredited Standards Committee X3, Information Technology 宣布认可一个有关 
SQL/Temporal 支援的新专案，ISO/IEC 9075 Part 7，并把有关工作交予 Technical 
Committee X3H2, Database。这个建议中的标准订明将出现的 SQL3 
标准的一个新部分，如第七部分 Temporal SQL 为 SQL 的一个延伸，在 SQL 
资料库环境支援存取和处理具时态的资料。下次 X3H2 
会议定於一九九六年三月十一至十四日在堪萨斯 (Kansas) 举行。
<P>如有查询，可邮寄往∶
<BLOCKQUOTE><CODE>
<PRE>
        Chairman of X3H2,
        Dr. Donald R. Deutsch,
        Sybase, Inc., Suite 800,
        6550 Rock Spring
        Drive, Bethesda, MD  20817.
        Email: deutsch@sybase.com.
</PRE>
</CODE></BLOCKQUOTE>

现正寻求可能的专利和其他恰当的事项（版权、商标）。这把有关资料寄交∶
<BLOCKQUOTE><CODE>
<PRE>
        X3 Secretariat at
        1250 Eye Street
        NW, Suite 200,
        Washington DC  20005.
        Email: x3sec@itic.nw.dc.us
        FAX:  (202)638-4922.
</PRE>
</CODE></BLOCKQUOTE>
<H2><A NAME="ss28.17">28.17 第八部分□ISO/ANSI SQL 多媒体 (SQL/MM)</A>
</H2>

<P>一个为建立用於多媒体应用程式的 SQL 物件函式库的新 ISO/IEC 
国际标准化计划在一九九三年初期获批准进行。这个新标准化行动名为 SQL Multimedia 
(SQL/MM)，它会用草拟中的 SQL3 规格中的抽象资料型态（ADT）规格和目标指定 SQL 
ADT 定义套件。
<P>SQL/MM 目标为标准化科学和工程、全文和文件处理、管理多媒体物件，如影像、声音、
动画、音乐和录像的物件函数库。它多数会提出一种用於其他 JTC1 
标准组织（如有关文件的 SC18、影像的 SC24、照片和动作图像的 SC29）定义的物件的 
SQL 语言结合 (binding)。
<P>SQL/MM 的专案计划指出它会成为一份多部分标准，包含不定数量的部分。
第一部分会是其他部分如何建成的框架。其他每个部分会专注於一个特定的 SQL 
应用程式套件。以下为一九九四年八月存在的 SQL/MM 部分∶
<P>
<UL>
<LI>   Part 1: Framework A non-technical description of how the document is
structured.</LI>
<LI>   Part 2: Full Text Methods and ADTs for text data processing. About 45
pages.</LI>
<LI>   Part 3: Spatial Methods and ADTs for spatial data management. About 200
pages with active contributions from Spatial Data experts from 3
national bodies.</LI>
<LI>   Part 4: General Purpose Methods and ADTs for complex numbers,
Facilities include trig and exponential functions, vectors, sets, etc.
Currently about 90 pages.</LI>
</UL>
<P>有多个有关空间和地理资料的标准化的工作在进行中∶
<P>
<UL>
<LI>   ANSI X3L1 - Geographic Information Systems.
Unisys 的 Mark Ashworth of Unisys 是 X3L1 和 ANSI X3H2 间的联络人。
他也是 SQL/MM 草稿第一、三和四部分的编辑。</LI>
<LI>   ISO TC 211 - Geographic information/Geomatics</LI>
</UL>
<HR>
<A HREF="PostgreSQL-HOWTO-29.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="PostgreSQL-HOWTO-27.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="PostgreSQL-HOWTO.html#toc28"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
