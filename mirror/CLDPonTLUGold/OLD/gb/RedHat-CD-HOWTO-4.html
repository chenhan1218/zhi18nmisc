<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>烧制一个RedHat的CD之mini-HOWTO: 获取你的发行版本的本地拷贝</TITLE>
 <LINK HREF="RedHat-CD-HOWTO-5.html" REL=next>
 <LINK HREF="RedHat-CD-HOWTO-3.html" REL=previous>
 <LINK HREF="RedHat-CD-HOWTO.html#toc4" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<A HREF="RedHat-CD-HOWTO-5.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="RedHat-CD-HOWTO-3.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="RedHat-CD-HOWTO.html#toc4"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s4">4. 获取你的发行版本的本地拷贝</A></H2>

<P>
<P>
<P>你需要可以通过配有一个CD刻录机的计算机可以读写的的一份存放在可写的磁盘中发行版本的拷贝。如果你想混合最新的更新版本，那么这个目录还需要可以被一个Linux机器上获取，这可以是一个本地磁盘，另外的机器上一个NFS装载的磁盘，或者是JAZ盘。
<P>你可以从一个Redhat CD拷贝发行版本，或者从ftp获取。如果你选择使用ftp的话，那么获取正确的发行版本的拷贝的最好办法是使用<CODE>mirror</CODE> 包
<P>Mirror是一个复杂的用于比较远端站点上和本地目录中的内容。它使用ftp用于获取远端而非本地站点的文件，并且删除那些不在原段站点上的存在于本地站点的文件。mirror包可以以一个RPM包从
<A HREF="http://rufus.w3.org/linux/RPM/mirror.html">rufus.w3.org</A>。获取，或者从其他的一些站点获取。
<P>制作你的mirror配置文件的本地拷贝 <CODE>mirror.redhat</CODE>，同时在文件的顶部编辑相关的一些内容。在default部分之后，定义了这些包：
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
package=updates
        site=ftp.sunsite.auc.dk
        exclude_patt=(alpha/|sparc/|SRPMS/)
        remote_dir=/disk1/ftp.redhat.com/pub/redhat/updates/6.0
        local_dir=/jaz/updates/6.0

package=dist
        site=ftp.sunsite.auc.dk
        exclude_patt=(alpha/|sparc/|SRPMS/)
        remote_dir=/disk1/ftp.redhat.com/pub/redhat/redhat-6.0
        local_dir=/jaz/redhat-6.0
</PRE>
</CODE></BLOCKQUOTE>
<P>以下的命令将要下载整个RedHat目录树到你的本地磁盘之中。<EM>*请慎思！*</EM> ，在你做这个工作之前，你要大概下传大约500MB的数据。
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
mirror -pdist mirror.redhat 
</PRE>
</CODE></BLOCKQUOTE>
<P>这将镜像Red Hat FTP到你的本地磁盘之中。一个Red Hat发行版本的内容不会在发行之中改变。因此你只需要现在这个包： <EM>只有一次！</EM>。所有对发行版本的改变都在 <CODE>updates</CODE>目录中。这样，如果你想要保持一个随时更新的Red Hat发行版本的更新版，你只需要保持 <CODE>updates</CODE> 目录位最新的就可以了。这个工作使用命令：
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
mirror -pupdates mirror.redhat 
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>你可以定期地来做这个工作，比如说，每星期一次，通过一个cron脚本。这个RedHat发行版本在全世界的大多数的FTP服务器上都是可以可以做到的，他们每天从主站点：
<A HREF="ftp://ftp.redhat.com/pub">ftp://ftp.redhat.com/pub</A>进行更新。你应当选择一个靠近你的FTP站点。请参考
<A HREF="http://www.redhat.com/support/docs/rhl/RedHat-FAQ/RedHat-FAQ-12.html#ss12.1">RedHat FAQ</A>。
<P>
<HR>
<A HREF="RedHat-CD-HOWTO-5.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="RedHat-CD-HOWTO-3.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="RedHat-CD-HOWTO.html#toc4"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
