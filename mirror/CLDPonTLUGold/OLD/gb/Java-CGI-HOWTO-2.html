<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>Java CGI HOWTO 中译版: 设定伺服器以执行 Java CGI 程式 (解释篇)</TITLE>
 <LINK HREF="Java-CGI-HOWTO-3.html" REL=next>
 <LINK HREF="Java-CGI-HOWTO-1.html" REL=previous>
 <LINK HREF="Java-CGI-HOWTO.html#toc2" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<A HREF="Java-CGI-HOWTO-3.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="Java-CGI-HOWTO-1.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="Java-CGI-HOWTO.html#toc2"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="install-long"></A> <A NAME="s2">2. 设定伺服器以执行 Java CGI 程式 (解释篇)</A></H2>

<P>这一节教你安装我的 <EM>Java CGI</EM> 套件，以及大量的解释，让你能够了解你的行为会导致什麽结果．
如果你只想安装程式而不想了解为什麽，直接跳到 
<A HREF="Java-CGI-HOWTO-3.html#install-short">设定伺服器以执行 Java CGI 程式 (简略篇)</A>．
<P>
<H2><A NAME="ss2.1">2.1 系统需求</A>
</H2>

<P>本软体应该能在已安装 Java 程式发展工具的任何类 UNIX 的 web 伺服器上安装．
我将它装在执行 <EM>apache</EM> 伺服器的 <EM>Debian Linux</EM> 系统上．
如果你发觉它无法在你的伺服器上运作，请利用通信论坛.
细节请见 
<A HREF="Java-CGI-HOWTO-1.html#mailing-list">The Mailing List</A>.
<P>不幸的是，Java 执行时期解译器似乎是吃记忆体的怪物 -- 
如果你将使用许多 Java CGI 程式的话你可能要再丢数 MB 的 RAM 到你的伺服器里．
<P>
<H2><A NAME="ss2.2">2.2 Java CGI 辅助软体</A>
</H2>

<P>我写的辅助软体就叫做 <EM>Java CGI</EM>．你可从 
<A HREF="ftp://ftp.orbits.com/pub/software/java_cgi-0.5.tgz">ftp://ftp.orbits.com/pub/software/java_cgi-0.5.tgz</A>
取得(版本号码可能会改变)．
<P>
<H2><A NAME="ss2.3">2.3 解开原始档</A>
</H2>

<P>找一个合适的目录将套件解开．
(如果你还没有标准放置软体的地方，我建议你放在 <CODE>/usr/local/src</CODE>．)
用这个指令解开套件:
<PRE>
gzip -dc java_cgi-0.5.tgz | tar -xvf -
</PRE>

这会产生一个叫 <CODE>java_cgi-0.5</CODE> 的目录．
在那里你可以找到本文其它地方提到的档案．
(如果版本号码改变了，就改用那套件里的．)
<P>
<H2><A NAME="make-programs"></A> <A NAME="ss2.4">2.4 决定你的本地目录策略</A>
</H2>

<P>你必须决定让你的 Java CGI 程式住在那里．
一般来说，你会希望放在和你的 <CODE>cgi-bin</CODE> 平行的目录．
我的 <EM>apache</EM> 伺服器设定使用 <CODE>/var/www/cgi-bin</CODE> 为 <CODE>cgi-bin</CODE> 目录，
因此我用 <CODE>/var/www/javacgi</CODE> 作为放置 Java CGI 程式的地方．
你可能不会想让将你的 Java CGI 程式放进某一已存在的 <CODE>CLASSPATH</CODE> 目录．
编辑 Makefile 来反应你的系统配置．确定你用 root 签入然後执行 <CODE>make install</CODE>．
这将编译 Java 程式，修改 <CODE>java.cgi</CODE> 指令稿以符合你的系统，并且将程式安装进适当的位置．
如果你希望拥有本文的 HTML 版本以及一份 HTML 测试文件，改用 <CODE>make all</CODE>．
<P>
<H2><A NAME="install-test"></A> <A NAME="ss2.5">2.5 测试你的安装</A>
</H2>

<P>由本套件安装的 HTML 文件叫做 <CODE>javacgitest.html</CODE>, <CODE>javaemailtest.html</CODE> 以及 <CODE>javahtmltest.html</CODE>．
如果你在前节使用 <CODE>make all</CODE>，它们会放在你於 Makefile 中指定的 <CODE>WEBDIR</CODE> 目录中．
如果不是，你可以执行 <CODE>make test</CODE> 从 <CODE>javacgitest.html-dist</CODE>, <CODE>javaemailtest.html-dist</CODE> 以及 <CODE>javahtmltest.html-dist</CODE> 来建立它们．
<P>当你确定你的安装可以正确运作後，你可能希望从你的 JAVACGI 目录移除 <CODE>CGI_Test</CODE>, <CODE>Email_Test</CODE> 以及 <CODE>HTML_Test</CODE> 类别，还有从 <CODE>WEBDIR</CODE> 目录移除 <CODE>javacgitest.html</CODE>, <CODE>javaemailtest.html</CODE> 以及<CODE>javahtmltest.html</CODE>，因为它们会显示应该只有伺服器管理者才看得到的使用者资讯．
<P>
<P>
<HR>
<A HREF="Java-CGI-HOWTO-3.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="Java-CGI-HOWTO-1.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="Java-CGI-HOWTO.html#toc2"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
