<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>烧制一个RedHat的CD之mini-HOWTO: 最后: 烧制CD</TITLE>
 <LINK HREF="RedHat-CD-HOWTO-7.html" REL=next>
 <LINK HREF="RedHat-CD-HOWTO-5.html" REL=previous>
 <LINK HREF="RedHat-CD-HOWTO.html#toc6" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<A HREF="RedHat-CD-HOWTO-7.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="RedHat-CD-HOWTO-5.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="RedHat-CD-HOWTO.html#toc6"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s6">6. 最后: 烧制CD</A></H2>

<P>
<P>
<P>我们假设在你的系统中有一个可以工作的CD刻录机并且你知道如何使用它。我们在这里讲述一些关于烧制CD的细节。如果你在一个LINUX系统中烧制你的CD，你可以安装优秀的
<A HREF="http://www.fh-muenchen.de/rz/xcdroast">XCDroast</A>包。在
XCDRoast，打开 Rock Ridge扩展，以及TRANS.TBL 文件的制作。
<P>确认CD的<EM>top</EM> 目录包括至少如下的目录和文件
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
COPYING      RPM-PGP-KEY README       RedHat/
</PRE>
</CODE></BLOCKQUOTE>
 
<P>以下的目录可以根据情况而添加
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
doc/         gnome/      misc/        dosutils/    images/
</PRE>
</CODE></BLOCKQUOTE>
 
<P>
<H2><A NAME="ss6.1">6.1 制作可自行启动的CD</A>
</H2>

<P>
<P>(这一部分需要感谢Dawn Endico dawn@math.wayne.edu). 既然XCDroast不支持制作可自行启动的磁盘，你需要一些其他的工具。例如 <CODE>
<A HREF="ftp://tsx-11.mit.edu/pub/linux/packages/mkisofs/">mkisofs</A></CODE>和<CODE>
<A HREF="http://www.fokus.gmd.de/research/cc/glone/employees/joerg.schilling/private/cdrecord.html">cdrecord</A></CODE>，你可以从
<A HREF="ftp://contrib.redhat.com">ftp://contrib.redhat.com</A>获得这些软件的RPM包的最新版本。
<P>你需要制作被刻写在CD上的一个映像文件。这个文件大约有500M或者更多。因此请确认你有足够多的自由空间并且，如果必要的话，在以下的命令中切换到<CODE>redhat.img</CODE> 目录中。你可能需要作为一个根拥护使用<CODE>mount</CODE> 或者<CODE>cdrecord</CODE>。
<P>
<H3>制作磁盘映像</H3>

<P>
<P>切换目录至你的镜象，也是你的CD的根目录。例如redhat-6.0/i386
<P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
mkisofs -v -R -T -J -V "Red Hat 6.0" -b images/boot.img -c boot.cat -o /tmp/redhat.img . 
</PRE>
</CODE></BLOCKQUOTE>
 
<P>
<P>一些版本的<CODE>mkisofs</CODE> 没有<CODE>-J</CODE> 选项。这个选项可以被忽略，因为它所定义的Joliet扩展为了在CD在WINDOWS中的可读性更强而不被安装程序使用。
<P>
<P>
<H3>测试映像</H3>

<P>
<P>will be wrong.
<P>如果你还不够放心，你可以通过装载的方式检查你的新的磁盘影象。如果你忘记更改文件的许可，或者设置rock ridge扩展，那么将会产生明显的错误。因为这样的文件和目录结构将是错误的。
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
mount -t iso9660 -o ro,loop=/dev/loop0 /tmp/redhat.img /mnt/cdrom
</PRE>
</CODE></BLOCKQUOTE>
 
<P>当你完成了这个工作之后，不要忘了卸载之。
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
umount /mnt/cdrom 
</PRE>
</CODE></BLOCKQUOTE>
 
<P>
<P>
<H3>烧制磁盘</H3>

<P>
<P>
<P>确认你正确地设置了你的设备的速度，这个命令是为了4X的CDR，而你可能拥有的是1X或者2X的驱动器。
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
cdrecord -v speed=4 dev=0,0 /tmp/redhat.img 
</PRE>
</CODE></BLOCKQUOTE>
 
<P>
<P>
<HR>
<A HREF="RedHat-CD-HOWTO-7.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="RedHat-CD-HOWTO-5.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="RedHat-CD-HOWTO.html#toc6"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
