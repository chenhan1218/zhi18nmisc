<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312">
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.16">
 <TITLE>在Linux下使用丹麦语/其他国际语言 HOWTO: 在 libc 5.4.x 以上版本中支援区域化资料库 (locale)</TITLE>
 <LINK HREF="Danish-HOWTO-6.html" REL=next>
 <LINK HREF="Danish-HOWTO-4.html" REL=previous>
 <LINK HREF="Danish-HOWTO.html#toc5" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<A HREF="Danish-HOWTO-6.html"><IMG SRC="img/next.png" ALT="Next"></A>
<A HREF="Danish-HOWTO-4.html"><IMG SRC="img/prev.png" ALT="Previous"></A>
<A HREF="Danish-HOWTO.html#toc5"><IMG SRC="img/toc.png" ALT="Contents"></A>
<HR>
<H2><A NAME="locale"></A> <A NAME="s5">5.</A> <A HREF="Danish-HOWTO.html#toc5">在 libc 5.4.x 以上版本中支援区域化资料库 (locale)</A></H2>

<P><CODE>libc 5.4.x</CODE> 版本已经具备 locale 支援. 
如果你的系统支援 locale, 你就不需要像 
<A HREF="Danish-HOWTO-3.html#apps">特定应用程式中的国际字元集</A> 那样针对每个程式做设定.
欲在 Debian 中取得此支援, 你必须安装 <CODE>wg15-locale</CODE> 包裹. 
具备 <CODE>GNU libc 2</CODE> (<CODE>libc 6.x</CODE>) 的系统则预设支援 locale (详见本节内关于 Red Hat Linux 5.0 版本的资讯.)</P>
<P>若你的系统不支援 locale, 你可以使用以下方法取得支援:
<OL>
<LI>确定你使用最新的 <CODE>libc 5.4.x</CODE> library. 若没有, 你可以从 
<A HREF="ftp://ftp.yggdrasil.com/private/hjl/">Yggdrasil Computing</A> 取得.</LI>
<LI>确定你已安装 <CODE>localedef</CODE>. 这个程式是跟著 library 一起安装的.</LI>
<LI>取得 locale 来源档. 可从 DKUUG 取得. 你必须同时拥有
<A HREF="ftp://dkuug.dk/i18n/WG15-collection/locales/">locale</A>
和 
<A HREF="ftp://dkuug.dk/i18n/WG15-collection/charmaps/">charmap</A>
来源档.</LI>
<LI>将 locale 来源档放入 <CODE>/usr/share/i18n/locales/</CODE>, 并将 charmap 来源档放入 <CODE>/usr/share/i18n/charmaps/</CODE>.</LI>
<LI>执行 <CODE>localedef</CODE> 以建立 locale 资料档:
<PRE>
localedef -ci da_DK -f ISO_8859-1:1987 da_DK
</PRE>

(注, 给非丹麦语读者: 其他语言的 locale 也可以同样方式建立. 所有 locale 和 charmap 来源档都在 DKUUG 网站上.)</LI>
</OL>
</P>
<P>你可设定下列两个环境变数中的其中一个以取得丹麦语 locale 支援:
<PRE>
LANG=da_DK
</PRE>

或
<PRE>
LC_ALL=da_DK
</PRE>
</P>
<P>如果 <CODE>da_DK</CODE> 行不同, 请试试 <CODE>da_DK.ISO_8859-1</CODE>.</P>
<P>这两个环境变数都会设定所有的 locale 目录. 
若要设立一个单独的 locale 目录, 请将目录名设为环境变数.
locale 目录如下:
<PRE>
Locale category         Application
---------------         -----------
LC_COLLATE              字串校对 (排序)
LC_CTYPE                字元分类及转换
LC_MESSAGES             yes 或 no 的讯息翻译
LC_MONETARY             货币符号格式
LC_NUMERIC              非数字符号格式 
LC_TIME         日期与时间格式
LC_ALL                  以上所有的设定 (将会覆写以上所有的设定)
LANG                    设定所有目录, 但可被以上任一单独的目录覆写掉
</PRE>
</P>
<P>在 Red Hat Linux 5.2 下, 你可以在档案  <CODE>/etc/sysconfig/i18n</CODE> 中设定环境变数 LANG 以及/或 LC_ALL:
<PRE>
LC_ALL=da_DK
</PRE>
</P>
<P>某些程式, 像是 <CODE>bash</CODE> 和 <CODE>GNU emacs</CODE> 仍需要如
<A HREF="Danish-HOWTO-3.html#apps">特定应用程式中的国际字元集</A> 中所述的特殊设定程序,
但大部份的程式就不需要进一步的修改. 
在经过以上步骤后, 原先不接受 8-bit 字元的程式, 诸如 <CODE>nvi</CODE>, 应该就可以用了.</P>
<P>具备 <CODE>GNU libc 2</CODE> 的版本往往支援 locale, 但请注意: 虽然 Red Hat Linux 5.0 
具备 <CODE>GNU libc 2</CODE>, 但它却不支援 locale. 
你必须自己执行 <CODE>localedef</CODE> 以建立 locale 资料档. 
以下指令将会建立丹麦语 locale 资料档:
<PRE>
localedef -c -i da_DK -f ISO-8859-1 da_DK
</PRE>
</P>
<P><CODE>glibc-2.0.7-4.i386.rpm</CODE> 的 library 中已包含 locale 资料档, 不需要额外的设定.</P>

<HR>
<A HREF="Danish-HOWTO-6.html"><IMG SRC="img/next.png" ALT="Next"></A>
<A HREF="Danish-HOWTO-4.html"><IMG SRC="img/prev.png" ALT="Previous"></A>
<A HREF="Danish-HOWTO.html#toc5"><IMG SRC="img/toc.png" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
