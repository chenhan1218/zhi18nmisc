<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=big5">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>燒制一個RedHat的CD之mini-HOWTO: 獲取你的發行版本的本地拷貝</TITLE>
 <LINK HREF="RedHat-CD-HOWTO-5.html" REL=next>
 <LINK HREF="RedHat-CD-HOWTO-3.html" REL=previous>
 <LINK HREF="RedHat-CD-HOWTO.html#toc4" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<A HREF="RedHat-CD-HOWTO-5.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="RedHat-CD-HOWTO-3.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="RedHat-CD-HOWTO.html#toc4"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s4">4. 獲取你的發行版本的本地拷貝</A></H2>

<P>
<P>
<P>你需要可以通過配有一個CD刻錄機的計算機可以讀寫的的一份存放在可寫的磁盤中發行版本的拷貝。如果你想混合最新的更新版本，那么這個目錄還需要可以被一個Linux機器上獲取，這可以是一個本地磁盤，另外的機器上一個NFS裝載的磁盤，或者是JAZ盤。
<P>你可以從一個Redhat CD拷貝發行版本，或者從ftp獲取。如果你選擇使用ftp的話，那么獲取正確的發行版本的拷貝的最好辦法是使用<CODE>mirror</CODE> 包
<P>Mirror是一個復雜的用于比較遠端站點上和本地目錄中的內容。它使用ftp用于獲取遠端而非本地站點的文件，并且刪除那些不在原段站點上的存在于本地站點的文件。mirror包可以以一個RPM包從
<A HREF="http://rufus.w3.org/linux/RPM/mirror.html">rufus.w3.org</A>。獲取，或者從其他的一些站點獲取。
<P>制作你的mirror配置文件的本地拷貝 <CODE>mirror.redhat</CODE>，同時在文件的頂部編輯相關的一些內容。在default部分之后，定義了這些包：
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
package=updates
        site=ftp.sunsite.auc.dk
        exclude_patt=(alpha/|sparc/|SRPMS/)
        remote_dir=/disk1/ftp.redhat.com/pub/redhat/updates/6.0
        local_dir=/jaz/updates/6.0

package=dist
        site=ftp.sunsite.auc.dk
        exclude_patt=(alpha/|sparc/|SRPMS/)
        remote_dir=/disk1/ftp.redhat.com/pub/redhat/redhat-6.0
        local_dir=/jaz/redhat-6.0
</PRE>
</CODE></BLOCKQUOTE>
<P>以下的命令將要下載整個RedHat目錄樹到你的本地磁盤之中。<EM>*請慎思！*</EM> ，在你做這個工作之前，你要大概下傳大約500MB的數據。
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
mirror -pdist mirror.redhat 
</PRE>
</CODE></BLOCKQUOTE>
<P>這將鏡像Red Hat FTP到你的本地磁盤之中。一個Red Hat發行版本的內容不會在發行之中改變。因此你只需要現在這個包： <EM>只有一次！</EM>。所有對發行版本的改變都在 <CODE>updates</CODE>目錄中。這樣，如果你想要保持一個隨時更新的Red Hat發行版本的更新版，你只需要保持 <CODE>updates</CODE> 目錄位最新的就可以了。這個工作使用命令：
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
mirror -pupdates mirror.redhat 
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>你可以定期地來做這個工作，比如說，每星期一次，通過一個cron腳本。這個RedHat發行版本在全世界的大多數的FTP服務器上都是可以可以做到的，他們每天從主站點：
<A HREF="ftp://ftp.redhat.com/pub">ftp://ftp.redhat.com/pub</A>進行更新。你應當選擇一個靠近你的FTP站點。請參考
<A HREF="http://www.redhat.com/support/docs/rhl/RedHat-FAQ/RedHat-FAQ-12.html#ss12.1">RedHat FAQ</A>。
<P>
<HR>
<A HREF="RedHat-CD-HOWTO-5.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="RedHat-CD-HOWTO-3.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="RedHat-CD-HOWTO.html#toc4"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
