<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=big5">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>燒制一個RedHat的CD之mini-HOWTO: Anatomy of the Red Hat FTP site</TITLE>
 <LINK HREF="RedHat-CD-HOWTO-3.html" REL=next>
 <LINK HREF="RedHat-CD-HOWTO-1.html" REL=previous>
 <LINK HREF="RedHat-CD-HOWTO.html#toc2" REL=contents>
<SCRIPT src="menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(0, 2, 5);</SCRIPT>
<A HREF="RedHat-CD-HOWTO-3.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="RedHat-CD-HOWTO-1.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="RedHat-CD-HOWTO.html#toc2"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s2">2. Anatomy of the Red Hat FTP site</A></H2>

<P>
<P>以Linux社區的精神，Red Hat Software將其應用于不同平台上的Linux發行版本放在其FTP站點上提供下載，這都可以從頂級發行目錄中獲得。
<P>
<H2><A NAME="sec-top-level"></A> <A NAME="ss2.1">2.1 頂級目錄</A>
</H2>

<P>
<P>RedHat Linux 6.0的頂級目錄(
<A HREF="ftp://ftp.redhat.com/pub/redhat/redhat-6.0/">pub/redhat/redhat-6.0</A>) 包括了不同平台的發行版本，而其中一個目錄包括了自從發行之后的更新以及程序包的更正。
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
SRPMS/     alpha/     i386/      sparc/
</PRE>
</CODE></BLOCKQUOTE>
 
<P>
<P>在這個文件中，我們以i386版本為例。在本文中所給出的程序几乎可以在所有Red Hat支持的平台上工作， (Alpha, SPARC, ppc等)，但是我們僅在i386平台上進行了測試。（作者愿意聽取一些額外的意見），i386目錄的根目錄如下：
<BLOCKQUOTE><CODE>
<PRE>
 
-rw-r--r--   1 root     root        18391 Mar 19  1999 COPYING
-rw-r--r--   1 root     root         3187 Apr 19 19:56 README
-rw-r--r--   1 root     root         2751 Sep 19  1997 RPM-PGP-KEY
drwxr-xr-x   5 root     root         1024 Sep 12 08:03 RedHat/
-rwxr--r--   1 root     root         2048 Apr 20 14:33 boot.cat
drwxr-xr-x   7 root     root         1024 Sep 17 08:04 doc/
drwxr-xr-x   6 root     root         1024 Aug  3 16:17 dosutils/
drwxr-xr-x   2 root     root         1024 Aug  3 16:02 images/
-rw-r--r--   1 root     root       222789 Sep 17 08:04 ls-lR
-rw-r--r--   1 root     root        32371 Sep 17 08:04 ls-lR.gz
drwxr-xr-x   4 root     root         1024 Sep 17 08:04 misc/
</PRE>
</CODE></BLOCKQUOTE>
 
<P><CODE>doc</CODE> 目錄包括了丰富的文檔信息。更重要的事是，RedHat安裝指南的HTML版本可以在
<A HREF="http://www.redhat.com/corp/support/manuals/RHL-6.0-Manual/install-guide/manual">doc/rhmanual/manual/</A>找到。另外，還有一些FAQ以及整個HOWTO和mini-HOWTO的全集。
<P>
<P><CODE>images</CODE> 目錄包括了必須要拷貝到軟盤中啟動軟盤的映像文件。在大多數最新的發行版本中（6.0)，有兩個磁盤映像。啟動映像被稱之為<CODE>boot.img</CODE>，這是在從CD-ROM中直接安裝時所必需的。如果從一個本地硬盤安裝，NFS裝載磁盤或者FTP是必須的，這個時候就需要補充磁盤映像<CODE>supp.img</CODE> 。請看 
<A HREF="RedHat-CD-HOWTO-7.html#sec-install">從CD安裝</A> 參照詳細信息。
<P><CODE>misc</CODE> 目錄包括了源代碼，以及一些為安裝所需要的可執行文件。
<P>
<H2><A NAME="ss2.2">2.2 "RedHat" 目錄 -- 發行版本的核心</A>
</H2>

<P>
<P>目錄樹種最為重要的部分就是<CODE>RedHat</CODE>目錄。
<P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
drwxr-xr-x   2 root     root        23552 Aug  3 16:02 RPMS/
drwxr-xr-x   2 root     root         1024 Aug  3 16:02 base/
-rw-r--r--   1 root     root            0 Jan 19  1999 i386
drwxr-xr-x   5 root     root         1024 Sep 11 08:03 instimage/
</PRE>
</CODE></BLOCKQUOTE>
 
<P><CODE>RPMS</CODE> 目錄包括了Red Hat發行版本的主要部分，其中包括了一個RPM（Redhat Package Manager）文件的集合。一個RPM包典型地包括了可執行文件以及相關的配置文件和文檔。請看
<A HREF="RedHat-CD-HOWTO-3.html#sec-rpm">RPM包</A> 參照詳細信息。
<P>
<P><CODE>base</CODE> 目錄包括了不同的在安裝過程中所需要的文件。例如， <CODE>comps</CODE> 文件，定義了在"Choose packages to
install" 階段中定義的的<EM>components</EM> (包組).請看 
<A HREF="RedHat-CD-HOWTO-5.html#sec-comps">組件文件</A>得到更多的信息以及使用信息。另外一個在<CODE>base</CODE> 目錄的重要的文件是<CODE>hdlist</CODE> 文件，其中包括了全部在 <CODE>RPMS</CODE> 目錄的的頭部區域。
<P>這意味著所有在RPM包的相互關聯性可以通過閱讀 <CODE>hdlist</CODE> 文件獲得，而并不必要閱讀所有的的RPM包，這對FTP方式的安裝來說是非常便利的。
<P><CODE>hdlist</CODE> 的另外一個用途就是映像包名到文件名，例如 以<CODE>perl</CODE> 代替 <CODE>perl-5.004-6.i386.rpm</CODE>。這意味著如果你想從RedHat進行混合式更新的話（請看
<A HREF="RedHat-CD-HOWTO-5.html#sec-updates">混合更新</A>)或者假如你自己的報到<CODE>RPMS</CODE>目錄的話  ，你需要更新<CODE>hdlist</CODE>，這在稍候的 
<A HREF="RedHat-CD-HOWTO-5.html#sec-new-hdlist">產生hdlist文件</A>部分中將要介紹。
<P><CODE>instimage</CODE> 目錄包含了一個基本的文件系統，其中包括了安裝過程中所需要的一些程序和共享庫。
<P>
<H2><A NAME="ss2.3">2.3 "更新"目錄</A>
</H2>

<P>
<P><CODE>/pub/redhat/updates</CODE> 目錄包括了自從版本3.0.3之后所有的RedHat發行辦的更新。這是用來找到因為各種原因被更新的軟件包的所在。你應當特別注意安全方面的更新。無論何時有了一個補丁，在RedHat's errata頁中總可以找到。在<CODE>updates</CODE> 目錄中最重要的文件有：
<P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
drwxrwxr-x   8 ftpuser  ftpusers      8192 Aug 18 08:05 5.1/
drwxrwxr-x   9 ftpuser  ftpusers      8192 Sep 18 08:07 5.2/
drwxrwxr-x   9 ftpuser  ftpusers      8192 Sep 18 08:07 6.0/
lrwxrwxrwx   1 ftpuser  ftpusers         3 Aug 25 13:14 current -> 6.0/
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>每一個目錄的結構都類似于在
<A HREF="#sec-top-level">頂級目錄</A>所描述的一樣。
<P>
<HR>
<A HREF="RedHat-CD-HOWTO-3.html"><IMG SRC="img/next.gif" ALT="Next"></A>
<A HREF="RedHat-CD-HOWTO-1.html"><IMG SRC="img/prev.gif" ALT="Previous"></A>
<A HREF="RedHat-CD-HOWTO.html#toc2"><IMG SRC="img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
