<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=x-x-big5">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.03 [en] (X11; I; Linux 2.0.32 i686) [Netscape]">
   <META NAME="Author" CONTENT="Lee McLoughlin and Zoe Leech">
   <META NAME="Chinese Translator" CONTENT="Trix, Po-Chun Huang">
   <TITLE>Mirror 2.9 參考手冊</TITLE>
<!--
  Copyright (C) 1990 - 1997   Lee McLoughlin
 
  Permission to use, copy, and distribute this software and its
  documentation for any purpose with or without fee is hereby granted,
  provided that the above copyright notice appear in all copies and
  that both that copyright notice and this permission notice appear
  in supporting documentation.
 
  Permission to modify the software is granted, but not the right to
  distribute the modified code.  Modifications are to be distributed
  as patches to released version.
 
  This software is provided "as is" without express or implied warranty.
 
  $Id: mirror.html,v 2.9 1998/05/29 19:03:01 lmjm Exp lmjm $
  $Log: mirror.html,v $
  Revision 2.9  1998/05/29 19:03:01  lmjm
  *** empty log message ***

-->
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 4, 1);</SCRIPT>

<CENTER>
<H1>
Mirror 2.9 參考手冊</H1></CENTER>

<CENTER>
<H1>
<I>Lee McLoughlin</I></H1></CENTER>

<CENTER><I><FONT SIZE=+0>and</FONT></I></CENTER>

<CENTER>
<H1>
<I><FONT SIZE=+3>Zo&euml; Leech</FONT></I></H1></CENTER>

<CENTER>1 June 1998</CENTER>

<CENTER><TT><A HREF="mailto:lmjm@icparc.ic.ac.uk">lmjm@icparc.ic.ac.uk</A></TT></CENTER>

<CENTER><TT><A HREF="zl@icparc.ic.ac.uk">zl@icparc.ic.ac.uk</A></TT></CENTER>
<CENTER>
<H3>
<I>譯者︰黃博淳</I></H3></CENTER>
<CENTER><TT><A HREF="trix@email.sun.net.tw">trix@email.sun.net.tw</A></TT></CENTER>

<UL>
<LI>
<A HREF="#Introduction">簡介</A></LI>

<LI>
<A HREF="#Description">說明</A></LI>

<LI>
<A HREF="#Flags">旗標</A></LI>

<LI>
<A HREF="#Package Files">包裹檔</A></LI>

<UL>
<LI>
<A HREF="#Keywords">關鍵字</A></LI>
</UL>

<LI>
<A HREF="#Filestores">檔案儲存</A></LI>

<LI>
<A HREF="#Examples">範例</A></LI>

<LI>
<A HREF="#Temporary Filenames">暫存檔名</A></LI>

<LI>
<A HREF="#Regular Expressions">規則表示式</A></LI>

<LI>
<A HREF="#Hints">提示</A></LI>

<LI>
<A HREF="#Netiquette">網路禮儀</A></LI>

<LI>
<A HREF="#Bugs">臭蟲</A></LI>

<LI>
<A HREF="#Remember!">切記!</A></LI>

<LI>
<A HREF="#Author">作者群</A></LI>
</UL>

<H2>
<A NAME="Introduction"></A>簡介</H2>
<B>Mirror</B> 是以 <B><A HREF="http://www.perl.com/">Perl</A></B>所寫的，
它使用 FTP<A HREF="http://sunsite.org.uk/rfc/rfc959.txt"> 協定
</A>，在它所執行的主機與一部遠端主機之間複製一個目錄的階層組織。
藉著在傳輸檔案之前比較檔案時間與檔案大小，它可以避免拷貝不必要的檔案。
在其他的方面，它可以選擇重新命名、壓縮、gzip壓縮與分割檔案。

<P><B>Mirror</B> 是由 <A HREF="http://sunsite.org.uk/~lmjm/">Lee
McLoughlin</A> &lt;<A HREF="mailto:lmjm@icparc.ic.ac.uk">lmjm@icparc.ic.ac.uk</A>>
所寫，給檔案室管理員使用的，但也可以給任何想透過FTP傳一大堆檔案的人使用。
雖然原本只可以在 Un*x上跑，但 2.9 版也可以在 Wind*ws 95 與 Wind*ws NT 跑。
<BR>&nbsp;

<P>最新版的<B>mirror</B> 可以在下列網址中的其中一個找到:
<UL><TT><FONT SIZE=+1><A HREF="ftp://sunsite.org.uk/packages/mirror/mirror.tar.gz">ftp://sunsite.org.uk/packages/mirror/mirror.tar.gz</A></FONT></TT>
<BR><TT><FONT SIZE=+1><A HREF="ftp://sunsite.org.uk/packages/mirror/mirror.zip">ftp://sunsite.org.uk/packages/mirror/mirror.zip</A></FONT></TT></UL>
最新版總是可以在下列網址找到:
<UL><TT><FONT SIZE=+1><A HREF="http://sunsite.org.uk/packages/mirror/mirror-guide.html">http://sunsite.org.uk/packages/mirror/</A></FONT></TT></UL>

<H2>
<A NAME="Description"></A>說明</H2>
<B>Mirror</B> 以下列兩種之一的方式被呼叫(請參閱 mirror master):
<UL>
<PRE><TT><FONT SIZE=+1>mirror [flags] <A HREF="#-g">-g</A> site:pathname</FONT></TT></PRE>

<PRE><TT><FONT SIZE=+1>mirror [flags] [<A HREF="#Package Files">package-files</A>]</FONT></TT></PRE>
</UL>
第一種方法用來抓取一個遠端的檔案或目錄到目前的工作目錄。若你正在『咪』
一個目錄，最好在路徑名稱後加一個斜線('/')，它會使遠端的遞迴列表比較小
，或是使用<B><A HREF="#-r">-r</A></B> 旗標以禁止遞迴(參考下面的
<B><A HREF="#-g">-g</A></B> ). <B><A HREF="#Setting Defaults">mirror.defaults</A></B>
檔沒有用到。

<P>在前述的第二種方法中，所需的參數最少，而
<B>mirror</B> 會由『包裹檔』中讀到的 <B><I><A HREF="#Keywords">keyword=value</A></I></B>
行所控制。<A NAME="Finding Defaults"></A>若一個名為
<B><A HREF="#Setting Defaults">mirror.defaults</A></B> 的檔案出現在
含有 <B>mirror</B> 執行檔的目錄，或出現在
<B>PERLLIB</B> 路徑，那麼它會在任何<TT><FONT SIZE=+1>包裹檔</FONT></TT>之前被載入。
<B><A HREF="#Setting Defaults">mirror.defaults</A></B> 檔一般只含有關鍵字，
稱為&nbsp;<B><I><A HREF="#Setting Defaults">defaults</A></I></B>
。它被用來提供共同預設值給所有的<TT><FONT SIZE=+1>包裹檔</FONT></TT>&nbsp;&nbsp;
。如果找不到<B><A HREF="#Setting Defaults">mirror.defaults</A></B>&nbsp;檔，
內建的<A HREF="#Keywords">預設值</A>會被<B>mirror&nbsp;</B>
使用。

<P>各個 <TT><FONT SIZE=+1><A HREF="#Package Files">包裹檔</A></FONT></TT>
會被一個個讀入，尋找被命名的<A HREF="#Package Files">包裹</A>。
若包裹沒有被命名為<B><I><A HREF="#Setting Defaults">defaults</A></I>,</B>
那麼 <B>mirror</B> 會執行以下動作。

<P>若 <B>mirror</B> 已經連上某個站，除了目的站以外，
它會自該站斷線。接著它會更換到近端目錄，若有必要的話會建立該目錄，
然後掃描它，以取得近端已存在檔案的相關細節。
<B>Mirror</B> 接著嘗試與遠端站台的 FTP 伺服程式連結。
它會使用指定的 <B><I><A HREF="#remote_user">remote_user</A></I></B> 與 <B><I><A HREF="#remote_password">remote_password</A></I></B>。
然後掃描遠端目錄。
<B>Mirror</B> 更換到遠端目錄
(<B><I><A HREF="#remote_dir">remote_dir</A></I></B>)而掃描此目錄，
且執行 FTP LIST 命令，傳遞「遞迴旗標」
<B><I><A HREF="#flags_recursive">flags_recursive</A></I></B>&nbsp;
或「非遞迴旗標」<B><I><A HREF="#flags_nonrecursive">flags_nonrecursive</A></I></B> 的選項，
根據「遞迴」值<B><I><A HREF="#recursive">recursive</A></I></B>而定。
此外，一個含有目錄列表的檔案可以供抓取。
(參閱 <B><I><A HREF="#ls_lR_file">ls_lR_file</A></I></B> 與 <B><I><A HREF="#local_ls_lR_file">local_ls_lR_file</A></I></B>)
各遠端路徑名需要建立一個近端路徑名以對映之。
接著檢查<I><B><A HREF="#exclude_patt">exclude_patt</A></B>，</I>
<B><I><A HREF="#max_days">max_days</A></I></B>，<B><I><A HREF="#get_newer">get_newer</A></I></B>
與 <B><I><A HREF="#get_size_change">get_size_change</A> </I></B>關鍵字所指定
的值，將其應用在檔名或符號連結名稱上。
<B><I><A HREF="#max_days">max_days</A></I></B>，
<B><I><A HREF="#get_newer">get_newer</A></I></B> 與 <B><I><A HREF="#get_size_change">get_size_change</A>&nbsp;
</I></B>不會被用在目錄上。這會建立一個所有所需的遠端檔案的列表，與一個儲存遠端檔案的近端路徑名稱。

<P>近端版本的所有所需目錄接著會被建立。然後所有需要的檔案會從遠端站台抓取到他們的近端路徑名。藉著抓檔到一個
<A HREF="#Temporary Filenames">暫存檔</A> 到目標目錄。傳輸模式通常是二元模式
(參閱 <B><I><A HREF="#vms_xfer_text">vms_xfer_text</A></I></B>)
若有需要的話，暫存檔可以是<A HREF="#File Compression">gzip 壓縮過的
</A> 或 <A HREF="#File Splitting">分割過</A>。檔案的時間印記會被重設以
符合遠端檔案的時間。最後，暫存檔被重新命名為正確的名稱。

<P>一但所有的檔案都傳完了，再建立任何必須的符號連結
(由你的作業系統支援之) 且此鏡像中任何不必要的路徑名都會被
<A HREF="#File Deletion">刪除</A>.

<P>除非偵測到內部失效，任何錯誤會導致目前的包裹被跳略掉且試試下一個。

<P><B>Mirror</B> 可以處理符號連結但不能處理硬式連結。
它不會複製所有者或群組資訊，而通常在跨越網路時，這是沒有意義的。
(且參閱 <B><I><A HREF="#user">user</A></I></B> 與 <B><I><A HREF="#group">group</A></I></B>)
若你需要這些選項，且你使用 Un*x，請用 <B>rdist(1)</B>代替。

<P><B>Mirror</B> 是寫來『咪』遠端 Un*x 檔案結構，但是已經成長了﹙像是
混亂了﹚。
<H2>
<A NAME="Flags"></A>旗標</H2>
雖然 <B>mirror</B> 有一大串的命令列旗標，真的要用它們
應該只用在一個非常簡單的單一事件。
若你想維護一個鏡像區，把所有的細節放到一個
<B>mirror</B> <A HREF="#Package Files">包裹</A>檔裡頭，然後執行
<B>mirror</B> ，會好得多。

<P>你僅僅需要的旗標有<B><A HREF="#-n">-n</A></B>
以及，若你想看看&nbsp;mirror&nbsp;怎麼了，用<B><A HREF="#-d">-d</A></B>.
<BR>&nbsp;
<TABLE>
<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP width="15%"><A NAME="-d"></A><B>-d</B></TD>

<TD ALIGN=LEFT VALIGN=TOP>開啟除錯功能。若給一次此參數﹙例如 -d -d﹚，
除錯層級會增加。目前最大的層級是四層。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="-n"></A><B>-n</B>&nbsp;</TD>

<TD ALIGN=LEFT VALIGN=TOP>除了比較近端與遠端目錄，不要做任何事，
沒有檔案會被傳輸。將除錯層級設到兩層，如此你就可以看到發生了什麼。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="-g"></A><B>-g&nbsp;site:path</B>&nbsp;</TD>

<TD ALIGN=LEFT VALIGN=TOP>在指定的站上抓取所有符合路徑的檔案，這是一個
<A HREF="#Regular Expressions">規則表示式</A>
若路徑符合 .*/.+ (例如 /fred 或 /fred/bloggs)那麼這就是此目錄的名稱，而所有在最後一個斜線後的檔名樣式就是要抓取的目標。若路徑以斜線結束，那麼該目錄的名稱與所有在它下面的內容都會被抓取。一個要注意的地方，如果你使用 host:/fred，遠端主機上會在根目錄執行一的完整的目錄列表。如果你想抓的是目錄 /fred 下面的內容，那麼你就指定 host:/fred/</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="-p"></A><B>-p package</B></TD>

<TD ALIGN=LEFT VALIGN=TOP>當使用數個<A HREF="#Package Files">包裹檔</A>時，
只有咪指定的包裹。這個選項可以指定好幾次，這個情況下所有指定的包裹都會被咪過來。沒有這個選項，所有的包裹都會被咪。跟在 -p 後面的是一個要抓取的包裹名稱的<A HREF="#Regular Expressions">規則表示式</A>。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B>-R package</B></TD>

<TD ALIGN=LEFT VALIGN=TOP>類似 <B><A HREF="#-p">-p</A></B> 但是忽略掉所有的
包裹，直到指定的包裹才開始抓。在<b>mirror</b>失敗的地方重新啟動時很有用。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B>-F</B>&nbsp;</TD>

<TD ALIGN=LEFT VALIGN=TOP>使用 <B>dbm</B> 檔，以儲存檔案的資訊。這在你咪一個很大的目錄時頗有用處。參閱變數<B><I><A HREF="#use_files">use_files</A>.</I></B></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="-r"></A><B>-r</B>&nbsp;</TD>

<TD ALIGN=LEFT VALIGN=TOP>等於 <B>-k <I><A HREF="#recursive">recursive</A></I>=false</B></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B>-v</B>&nbsp;</TD>

<TD ALIGN=LEFT VALIGN=TOP>印出<B>mirror</B>的版本細節然後離開。<A NAME="-T"></A></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B>-T</B>&nbsp;</TD>

<TD ALIGN=LEFT VALIGN=TOP>不要傳輸任何檔案，只要強制任何近端檔案將時間印記設定成跟遠端檔案的一樣。一般只有用在以其他方式開始咪的時候(例如從 CDROM 抓時)。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B>-Ufilename</B></TD>

<TD ALIGN=LEFT VALIGN=TOP>將所有傳輸的檔名紀錄在指定的檔案中。記住
<B>mirror</B> 會更換目錄到 <I><A HREF="#local_dir">local_dir</A></I>
以執行任務，所以它應該是一個完整的路徑名。如果沒有指定檔名，
其預設值為<TT><FONT SIZE=+1>upload_log.日.月.年</FONT></TT>。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="-k"></A><B>-k <I>key</I>=value</B>&nbsp;</TD>

<TD ALIGN=LEFT VALIGN=TOP>覆寫任何預設的關鍵字/值，參閱下面的說明。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B>-m</B>&nbsp;</TD>

<TD ALIGN=LEFT VALIGN=TOP>等於 <B><A HREF="#-k">-k</A> <I><A HREF="#mode_copy">mode_copy</A></I>=true</B>&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B>-t</B>&nbsp;</TD>

<TD ALIGN=LEFT VALIGN=TOP>等於 <B><A HREF="#-k">-k</A> <I><A HREF="#text_mode">text_mode</A></I>=true</B></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B>-f</B>&nbsp;</TD>

<TD ALIGN=LEFT VALIGN=TOP>等於 <B><A HREF="#-k">-k</A> <I><A HREF="#force">force</A></I>=true</B></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B>-s site</B>&nbsp;</TD>

<TD ALIGN=LEFT VALIGN=TOP>等於 <B><A HREF="#-k">-k</A> <I><A HREF="#site">site</A></I>=site</B></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B>-u user</B>&nbsp;</TD>

<TD ALIGN=LEFT VALIGN=TOP>等於 <B><A HREF="#-k">-k</A> <I><A HREF="#remote_user">remote_user</A></I>=user</B>接著你會被提示輸入沒有回音的通行密碼。密碼用
<B><I><A HREF="#remote_password">remote_password</A></I></B>.</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B>-L</B></TD>

<TD ALIGN=LEFT VALIGN=TOP>只產生一個將輸入印成漂漂的報表，然後離開。</TD>
</TR>
</TABLE>

<H2>
<A NAME="Package Files"></A>包裹檔</H2>
各個群組的關鍵字定義了如何去咪一個特定的包裹，且應該以一個獨一的
<B><I><A HREF="#package">package</A></I></B>&nbsp;行。
包裹名稱用在產生報告與<B><A HREF="#-p">-p</A></B>
參數，所以選一個好記的名字。各包裹基本所需的關鍵字是
<B><I><A HREF="#package">package</A></I></B>, <B><I><A HREF="#site">site</A></I></B>,
<B><I><A HREF="#remote_dir">remote_dir</A></I></B> and <B><I><A HREF="#local_dir">local_dir</A></I></B>
。當找到一個<B><I><A HREF="#package">package</A></I></B> 行，所有的預設值
會被設為<B><I><A HREF="#Setting Defaults">defaults</A></I></B>
包裹中的值 (或內建預設值，如果沒有設定 defaults 包裹的話)。&nbsp; 一個包裹
在碰到另一個<B><I><A HREF="#package">package</A></I></B> 敘述，或是檔尾時結束。

<P>包裹檔以一連串的敘述方式分析。空白行與井字號開頭的行會被忽略。
各敘述都是這種形式︰
<UL><B><I>keyword</I>=value</B></UL>
或是
<UL><B><I>keyword</I>+value</B></UL>
&nbsp;你可以在關鍵字與等號/加號前加上空白。緊接在等號/加號後面的是其值。
包括任何在前或在後的空白。等號將關鍵字設定為該值，而加號則將值連結在已經有的值後面(通常是在
<B><I><A HREF="#Setting Defaults">defaults</A></I></B>包裹中所設定的值)。

<P>一個敘述可以寫成好幾行，以一個「&amp;」符號做為一行的結尾。
跟在「&amp;」符號下面的行會被刪除其前面的空白字元刪除，加到目前這行的後面。

<P>雖然有很多關鍵字可以設定，內建的預設值就可以處理大多數的狀況。
一般只要&nbsp;<B><I><A HREF="#package">package</A></I></B>,&nbsp;
<B><I><A HREF="#site">site</A></I></B>,&nbsp; <B><I><A HREF="#remote_dir">remote_dir</A></I></B>
與<B><I><A HREF="#local_dir">local_dir</A></I></B>需要設定。
<H3>
<A NAME="Setting Defaults"></A>設定預設值</H3>
如果包裹名稱是<B>defaults</B>，那麼就不接觸任何站台。
但指定給任何關鍵字的預設值會被改變。
一般來說，所有的預設值會被放在檔案
<B>mirror.defaults</B> 中，它會在任何其他<A HREF="#Package Files">包裹檔</A> 之前自動載入(參閱 <A HREF="#Finding Defaults">說明</A>).
<PRE><TT># mirror.defaults 範例
package=defaults
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 近端主機名稱 - 若與`hostname`所傳回的不同的話。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # (我廣告一下 sunsite.org.uk 但是真正的名稱是
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #&nbsp; swallow.doc.ic.ac.uk.)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hostname=sunsite.org.uk
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 將近端的目錄名稱放在這裡
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; local_dir=/public/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; remote_password=wizards@sunsite.org.uk</TT></PRE>

<H3>
<A NAME="Keywords"></A>關鍵字</H3>
下面所列的是所有可以用的關鍵字與其內建的預設值。要改變這些預設值最好是改變你的
<B><A HREF="#Setting Defaults">mirror.defaults </A></B>檔。
<BR>&nbsp;
<BR>關鍵字分類在下面章節中︰
<UL>
<LI>
<A HREF="#Required Keywords">必要的關鍵字</A></LI>

<LI>
<A HREF="#FTP Related">與 FTP 相關的</A></LI>

<LI>
<A HREF="#File Copying">檔案複製</A></LI>

<LI>
<A HREF="#Local File Attributes">近端檔案屬性</A></LI>

<LI>
<A HREF="#File Deletion">檔案刪除</A></LI>

<LI>
<A HREF="#File Compression">檔案壓縮</A></LI>

<LI>
<A HREF="#File Splitting">檔案分割</A></LI>

<LI>
<A HREF="#Directory Listings">目錄列表</A></LI>

<LI>
<A HREF="#Logging">記錄</A></LI>

<LI>
<A HREF="#Special">特殊項目</A></LI>
</UL>
&nbsp;
<TABLE NOSAVE >
<TR VALIGN=TOP>
<TD COLSPAN="3"><A NAME="Required Keywords"></A><B><U><FONT SIZE=+1>必要的
關鍵字&nbsp;</FONT></U></B></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I><U>關鍵字</U></I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I><U>預設值</U></I></TD>

<TD ALIGN=LEFT VALIGN=TOP><U>說明</U></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="package"></A><B><I>package</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>要咪的包裹的名稱。應該與其他所有的包裹名稱都不相同。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="site"></A><B><I>site</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>要咪的遠端主機名或是 IP 位址。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="remote_dir"></A><B><I>remote_dir</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>要咪的遠端目錄，參閱<B><I><A HREF="#recurse_hard">recurse_hard</A></I></B></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="local_dir"></A><B><I>local_dir</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>近端目錄</TD>
</TR>

<TR>
<TD>&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD COLSPAN="3"><A NAME="FTP Related"></A><B><U><FONT SIZE=+1>與 FTP 相關的&nbsp;</FONT></U></B></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I><U>關鍵字</U></I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I><U>預設值</U></I></TD>

<TD ALIGN=LEFT VALIGN=TOP><U>說明</U></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="remote_user"></A><B><I>remote_user</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>anonymous</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>用在遠端主機的使用者名稱。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="remote_password"></A><B><I>remote_password</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>localuser@localhostname</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>用在遠端主機的通行密碼&nbsp; 注意︰<I>localuser</I>
是你在近端主機的使用者名稱，<I>localhostname</I> 是近端機器的名稱
(如果找得到的話，參閱<B><I><A HREF="#hostname">hostname</A></I></B>)</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="remote_account"></A><B><I>remote_account</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>使用匿名登入後用在遠端主機的帳號名稱/密碼(給有此必要的系統)。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="remote_group"></A><B><I>remote_group</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>如果有設的話，設定遠端的「群組」。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="remote_gpass"></A><B><I>remote_gpass</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>如果有的話，設定遠端的「群組密碼」。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="timeout"></A><B><I>timeout</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>40</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>在這麼多秒之後，使 FTP 需求逾時。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="failed_gets_excl"></A><B><I>failed_gets_excl</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>當 FTP GET 命令失敗時，不要回報之錯誤訊息<A HREF="#Regular Expressions">規則表示式</A>(例如 permission denied.)</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="ftp_port"></A><B><I>ftp_port</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>21</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>遠端 FTP 守護神程式的埠號。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="proxy"></A><B><I>proxy</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>使用代理伺服器的 FTP 服務時，將其設定為true </TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="proxy_ftp_port"></A><B><I>proxy_ftp_port</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>4514</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>代理伺服器的 FTP 守護神程式的埠號。這個值應該根據你所使用的代理函式庫而有所異動。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="proxy_gateway"></A><B><I>proxy_gateway</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>internet-gateway</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>代理服務的名稱，也可以用環境變數&nbsp;<b>INTERNET_HOST</b>&nbsp;提供之。
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="using_socks"></A><B><I>using_socks</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若你使用 SOCKS 版本的
<B>Perl</B>.&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="passive_ftp"></A><B><I>passive_ftp</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若你想使用 PASV 擴充的 FTP 協定，將它設為 true。
特別是在跟防火牆、代理 FTP 伺服器、與變數<B><I><A HREF="#using_socks">using_socks</A></I></B>一起用時，頗有用處。
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>retry_call</I></B></TD>

<TD ALIGN=LEFT VALIGN=BASELINE><I>true</I></TD>

<TD ALIGN=LEFT VALIGN=BASELINE>若初始連結失敗，一分鐘後重試一次。
這用來處理某些會反查網址的站台在第一次查詢進入主機名時發生逾時的情形。
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>disconnect</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>在一個包裹結束後自遠端站台斷線。一般只有在下一個
<B><I><A HREF="#package">包裹</A></I></B>指定了一個不同的站台時才需要。
(有些站台不讓你更換到特定的目錄，除非你是第一次連進去。)</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>remote_idle</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若設定了try，那麼將遠端空轉定時器設定為此。</TD>
</TR>

<TR>
<TD>&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD COLSPAN="3"><A NAME="File Copying"></A><B><U><FONT SIZE=+1>檔案複製&nbsp;</FONT></U></B></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I><U>關鍵字</U></I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I><U>預設值</U></I></TD>

<TD ALIGN=LEFT VALIGN=TOP><U>說明</U></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="get_patt"></A><B><I>get_patt</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>.</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>欲抓取的遠端路徑名稱的<A HREF="#Regular Expressions">規則表示式</A></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="exclude_patt"></A><B><I>exclude_patt</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>要忽略的遠端路徑名稱的<A HREF="#Regular Expressions">規則表示式</A></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>local_ignore</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>要忽略的近端路徑名稱的<A HREF="#Regular Expressions">規則表示式</A>忽略限定的近端目錄時頗有用處。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="get_newer"></A><B><I>get_newer</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>true</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若遠端檔案比近端檔案新的話，抓回來。
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="get_size_change"></A><B><I>get_size_change</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>true</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>如果檔案大小與近端的檔案不同的話，抓回來。
若檔案要在取回來後
<A HREF="#File Compression">壓縮</A>。
 <B><I>get_size_change</I></B> 會被自動設為 false。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="make_bad_symlinks"></A><B><I>make_bad_symlinks</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若設為 true，符號連結會被視為不合法(不存在)的路徑名。
(在早些版本的<B>mirror</B>，這會預設為 true)</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>follow_local_symlinks</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>近端符號連結的路徑名之<A HREF="#Regular Expressions">規則表示式</A>
不把它們當作符號連結處理，而使用該符號連結所參考的檔案與路徑。這會使
<B>mirror</B>看不到符號連結。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>get_missing</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>true</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>真的抓檔。當設為 false 時，只有刪除與符號連結會被抓取。
用來刪除比
<B><I><A HREF="#max_days">max_days</A></I></B>舊的過期檔案，而不抓取舊的檔案。
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>get_file</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>true</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>抓檔。若設為 false，<B>mirror</B>
會嘗試放檔。
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="text_mode"></A><B><I>text_mode</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若為 true，所有的檔案都以文字模式傳輸。
Un*x 偏好二元模式，所以它是預設值</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>strip_cr</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>抓到任何檔案後，除去其中的 carriage return。
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="vms_keep_versions"></A><B><I>vms_keep_versions</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>true</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>在咪 VMS 的檔案時，保持版本號碼。
若是 false，版本會被除掉，只留下基本檔名。
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="vms_xfer_text"></A><B><I>vms_xfer_text</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP>(readme|info|listing|\.c)$</TD>

<TD ALIGN=LEFT VALIGN=TOP>以文字模式傳輸的 VMS 檔名的樣式(不分大小寫)
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="name_mappings"></A><B><I>name_mappings</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>遠端對近端的路徑名對應(一個<B>Perl</B>
的代換命令，例如 s:old:new:).</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>external_mapping</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>指定一個含有名為
<TT><FONT SIZE=+1>extmap</FONT></TT> 的 Perl 模組，其模組中至少含有一個名為
<TT><FONT SIZE=+1>map</FONT></TT>的函式。此函式用來提供
<B><I><A HREF="#name_mappings">name_mappings</A></I></B>功能。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>update_local</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>設定 <B><I><A HREF="#get_patt">get_patt</A></I></B>
為所有已經在<B><I><A HREF="#local_dir">local_dir</A></I></B>下的檔案與目錄。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="max_days"></A><B><I>max_days</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>0</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若大於零，忽略掉這個多天前的舊檔案。任何被忽略的檔案都不會被傳輸或是刪除。
</TD>
</TR>

<TR VALIGN=TOP>
<TD><B><I>max_size</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>0</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若大於零，不要傳輸任何大小比這個數字大的檔。
</TD>
</TR>

<TR VALIGN=TOP NOSAVE>
<TD ALIGN=LEFT VALIGN=TOP NOSAVE><B><I>chmod</I></B></TD>

<TD>true</TD>

<TD>預設嘗試且設定此複製檔案的屬性(例如時間印記)。若設為 false，則不設定屬性。
</TD>
</TR>

<TR>
<TD>&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD COLSPAN="3"><A NAME="Local File Attributes"></A><B><U><FONT SIZE=+1>近端檔案屬性&nbsp;</FONT></U></B></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I><U>關鍵字</U></I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I><U>預設值</U></I></TD>

<TD ALIGN=LEFT VALIGN=TOP><U>說明</U></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="user"></A><B><I>user</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>賦予近端路徑名稱的使用者名稱或使用者識別碼。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="group"></A><B><I>group</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>賦予近端路徑名稱的群組名稱或群組識別碼。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="mode_copy"></A><B><I>mode_copy</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>指示是否複製檔案/目錄的模式的旗標。
若此值為 false，那麼
<B><I><A HREF="#file_mode">file_mode</A></I></B>
與 <B><I><A HREF="#dir_mode">dir_mode</A></I></B> 會被使用以代替之。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="file_mode"></A><B><I>file_mode</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>0444</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若<B><I><A HREF="#mode_copy">mode_copy</A></I></B>
為 false，將近端所建立的檔案模式指定為此值。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="dir_mode"></A><B><I>dir_mode</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>0755</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若<B><I><A HREF="#mode_copy">mode_copy</A></I></B>
為 false，將近端所建立的目錄模式設為此值。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="force"></A><B><I>force</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若為 true，不論比較大小或時間印記的結果為何，所有的檔案都會被傳輸。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>umask</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>07000</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>預設值為不要建立 setuid 檔。(參閱
Un*x 上的<B>chmod(1)</B>)</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>use_timelocal</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>true</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>將檔案的時間印記設為當地時區。若為 false，
時區會被設為 GMT(早期版本的<B>mirror</B>在將所有檔案設為
GMT 時，有一個臭蟲。)</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>force_times</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>true</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>強制近端時間符合遠端時間。</TD>
</TR>

<TR>
<TD>&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD COLSPAN="3"><A NAME="File Deletion"></A><B><U><FONT SIZE=+1>檔案刪除&nbsp;</FONT></U></B></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I><U>關鍵字</U></I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I><U>預設值</U></I></TD>

<TD ALIGN=LEFT VALIGN=TOP><U>說明</U></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>do_deletes</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若在來源目錄樹中沒有的檔案，將它自目的目錄樹中刪除。</TD>
</TR>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="delete_patt"></A><B><I>delete_patt</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>.</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>要刪除的近端路徑名稱的<A HREF="#Regular Expressions">規則表示式</A>
不符合的名稱不會被檢查。符合的名稱中與
<B><I><A HREF="#delete_excl">delete_excl</A></I></B>
符合的樣式會被選出來，排除在外。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>delete_get_patt</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>將 <A HREF="#delete_patt"><B><I>delete_patt</I></B>
</A>設為<B><I><A HREF="#get_patt">get_patt</A></I></B>.</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="delete_excl"></A><B><I>delete_excl</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP><B>mirror</B> 不會刪除的近端檔名的<A HREF="#Regular Expressions">規則表示式</A></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="max_delete_files"></A><B><I>max_delete_files</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>10%</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若此值設定為一個數字，那麼若有超過此數目的檔案會
被刪除，就不刪除，只提出警告。
若此值被設為
<I>百分比%</I>，那麼若要被刪除的檔案數目的百分比超過此數目，不要刪除，只提出警告。 
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="max_delete_dirs"></A><B><I>max_delete_dirs</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>10%</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>如同 <B><I><A HREF="#max_delete_files">max_delete_files</A></I></B>
不過是應用在目錄上。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="save_deletes"></A><B><I>save_deletes</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>不刪除近端檔案，而將它移動到
<B><I><A HREF="#save_dir">save_dir</A></I></B> .&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="save_dir"></A><B><I>save_dir</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>Old</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>遠端站台上已不再有，但近端仍有的檔案，移到此處。
由根目錄開頭或是相對於
<B><I>local_dir</I></B>。只適用於當
<B><I><A HREF="#save_deletes">save_deletes</A></I></B> 為
true 時。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>store_remote_listing</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>放置遠端目錄列表的近端路徑名稱。
若你的網路很慢時，或是想對同一個包裹執行幾項不同的作業時頗有用處，
因為這樣不必每次都去抓索引。
</TD>
</TR>

<TR>
<TD>&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD COLSPAN="3"><A NAME="File Compression"></A><B><U><FONT SIZE=+1>檔案壓縮&nbsp;</FONT></U></B></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I><U>關鍵字</U></I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I><U>預設值</U></I></TD>

<TD ALIGN=LEFT VALIGN=TOP><U>說明</U></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="compress_patt"></A><B><I>compress_patt</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>在近端存檔前，要壓縮的檔名的<A HREF="#Regular Expressions">規則表示式</A>
參閱 <B><I><A HREF="#get_size_change">get_size_change</A></I></B>.</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>compress_excl</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>\.(z|gz)$</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>不壓縮的檔名的<A HREF="#Regular Expressions">規則表示式</A>
(不分大小寫).</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="compress_prog"></A><B><I>compress_prog</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>compress</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>壓縮程式。若設定為
<B>compress</B> 或 <B>gzip</B>，此程式的完整路徑名與正確的
<B><I>compress_suffix</I></B> 會自動被設定。當使用 <B>gzip</B>,
-9 會被使用。注意到<B><I><A HREF="#compress_suffix">compress_suffix</A>
</I></B>可以被重設為非標準值，就是將它設定在<B><I>compress_prog</I></B>之後。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="compress_suffix"></A><B><I>compress_suffix</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>壓縮程式加到檔名後面的一或多個字元。
若壓縮程式<B><I><A HREF="#compress_prog">compress_prog</A></I></B> 
是 <B>compress</B>，其預設值為 .Z。若 <B><I><A HREF="#compress_prog">compress_prog</A></I></B>
是 <B>gzip</B>，其預設值為.gz。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>compress_conv_patt</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>(\.Z|\.taz)$</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若 <B><I><A HREF="#compress_prog">compress_prog
</A></I></B>是 gzip，符合這個樣式的檔案會被解壓縮且在近端儲存前被 gzip 壓縮。
壓縮轉換只是意味著將壓縮轉換為壓縮為 gzip 形式。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>compress_conv_expr</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>s/\.Z$/\.gz/;</I>&nbsp;
<BR><I>s/\.taz$/\.tgz/</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>將副檔名轉換為 gzip 形式的<B>Perl</B> 表示式。
將 .Z 轉為 .gz 而 .taz 轉為 .tgz。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>compress_size_floor</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>0</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>不要壓縮小於此大小的檔案，以位元組計。
</TD>
</TR>

<TR>
<TD>&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD COLSPAN="3"><A NAME="File Splitting"></A><B><U><FONT SIZE=+1>檔案分割&nbsp;</FONT></U></B></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I><U>關鍵字</U></I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I><U>預設值</U></I></TD>

<TD ALIGN=LEFT VALIGN=TOP><U>說明</U></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>split_max</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>0</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>如果大於零，且檔案大小大於這麼多位元組，
該檔案會被分割以儲存在近端
(檔名必須也要符合<B><I>split_patt</I></B>)。被分割的檔名被用來做為目錄名，
而檔案的各個部分會被存成該目錄中的檔案，各名為 part1，part2……
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>split_patt</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>在近端儲存前，要分割的遠端路徑名的<A HREF="#Regular Expressions">規則表示式</A>
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>split_chunk</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>102400</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>檔案要分割成為何種大小，以位元組計。</TD>
</TR>

<TR>
<TD>&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD COLSPAN="3"><A NAME="Directory Listings"></A><B><U><FONT SIZE=+1>目錄列表
</FONT></U></B>&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I><U>關鍵字</U></I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I><U>預設值</U></I></TD>

<TD ALIGN=LEFT VALIGN=TOP><U>說明</U></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="remote_fs"></A><B><I>remote_fs</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>unix</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>檔案儲存型態。目前可以是<B><A HREF="#remote_fs=unix">unix</A></B>，
<B><A HREF="#remote_fs=dls">dls</A></B>， <B><A HREF="#remote_fs=netware">netware</A></B>，
<B><A HREF="#remote_fs=vms">vms</A></B>， <B><A HREF="#remote_fs=dosftp">dosftp</A></B>，
<B><A HREF="#remote_fs=macos">macos</A></B>， <B><A HREF="#remote_fs=lsparse">lsparse</A></B>
與 <B><A HREF="#remote_fs=infomac">infomac</A></B>。
參閱<A HREF="#Filestores">檔案庫</A>一節以取得更多細節。
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="ls_lR_file"></A><B><I>ls_lR_file</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>含有 ls -lR (在該機器上執行 ls -lR 的結果)
的遠端檔案，否則執行遠端的<B>ls</B>命令。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="local_ls_lR_file"></A><B><I>local_ls_lR_file</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>含有 ls -lR 的近端檔案，否則使用遠端的
<I><A HREF="#ls_lR_file">ls_lR_file</A></I> 檔。這在第一次咪一的大型的包裹時
很有用處。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="recursive"></A><B><I>recursive</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>true</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>近端目錄<B><I><A HREF="#local_dir">local_dir</A></I></B>
與其子目錄的內容通通咪。
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="recurse_hard"></A><B><I>recurse_hard</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>使用 CWD 與以產生遠端的 ls，並且列出每個子目錄。
假如<B><I><A HREF="#remote_dir">remote_dir </A></I></B>必須是絕對路徑
(以一個斜線'/'為首)而非相對路徑時。在 FTP 中使用 CWD 命令以找出遠端檔案儲存區的
起始路徑。(若<B><I><A HREF="#remote_fs">remote_fs</A></I></B> 是 VMS 時，
無法使用)</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="flags_recursive"></A><B><I>flags_recursive</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>-lRat</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>遠端的 ls 命令的旗標以執行一個遞迴目錄列表。
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="flags_nonrecursive"></A><B><I>flags_nonrecursive</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>-lat</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>遠端的 ls 命令的旗標以執行一個非遞迴目錄列表。
</TD>
</TR>

<TR>
<TD><B><I>ls_fix_mappings</I></B></TD>

<TD><I>無</I></TD>

<TD>在遠端目錄列表中編輯路徑名稱。(一個 <B>Perl</B> 代換命令，例如
s:/usr/spool/pub:/:)</TD>
</TR>

<TR>
<TD>&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD COLSPAN="3"><A NAME="Logging"></A><B><U><FONT SIZE=+1>記錄&nbsp;</FONT></U></B></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I><U>關鍵字</U></I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I><U>預設值</U></I></TD>

<TD ALIGN=LEFT VALIGN=TOP><U>說明</U></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>update_log</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>檔案名稱，相對於<B><I><A HREF="#local_dir">local_dir</A></I></B>
，<B>mirror</B> 會將它維護一個包裹時所有所做的事報告在這裡。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="mail_to"></A><B><I>mail_to</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>將一個完成工作的記錄檔送給一列以逗點隔開的
電子信箱位址(目前只有 Un*x 支援)</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="mail_prog"></A><B><I>mail_prog</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>發送<B><I><A HREF="#mail_to">mail_to</A>
</I></B>列表時所呼叫的寄信程式。可以傳參數給<B><I><A HREF="#mail_subject">mail_subject</A></I></B>。
預設為 <B>mailx</B>，<B>Mail</B>，或<B>mail</B>. (Wind*ws 不支援)</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="mail_subject"></A><B><I>mail_subject</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>-s "mirror update"</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>這個可以包含<B><I>$keyword</I></B>。
這些關鍵字會被其值所替代。
(例如︰ -s "mirror update: $package")</TD>
</TR>

<TR>
<TD>&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD COLSPAN="3"><A NAME="Special"></A><B><U><FONT SIZE=+1>特殊項目</FONT></U></B>&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I><U>關鍵字</U></I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I><U>預設值</U></I></TD>

<TD ALIGN=LEFT VALIGN=TOP><U>說明</U></TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="hostname"></A><B><I>hostname</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP><B>Mirror</B> 會自動跳過包裹的
<B><I><A HREF="#site">site</A></I></B> 變數符合此主機者。
預設值是近端主機名稱。這通常在設定在
<B><I><A HREF="#Setting Defaults">defaults</A></I></B>
包裹中。如果你與其他人共享<B>mirror</B> <A HREF="#Package Files">包裹檔</A>
時，頗有用處。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>comment</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>註解，用在報告中。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>use_files</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>將<B>mirror</B>
所用的關聯性陣列儲存在暫存檔中(目前只有 Un*x 支援)。
檔案建立在 /var/tmp 中，檔名為︰
local_map 與 remote_map。副檔名是你的機器上所安裝 <b>Perl</b> 
用的 DBM 函式庫的預設值而定。
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>interactive</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>一個非批次作業的傳輸。由<B><A HREF="#-g">-g</A></B>
旗標所隱含。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>skip</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>無</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>若設定，會導致此包裹被忽略掉。
其值會報告為忽略的理由
</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><B><I>verbose</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>詳細的訊息。</TD>
</TR>

<TR VALIGN=TOP>
<TD ALIGN=LEFT VALIGN=TOP><A NAME="algorithm"></A><B><I>algorithm</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP><I>0</I></TD>

<TD ALIGN=LEFT VALIGN=TOP>設定 <B>mirror</B> 所使用的基本演算法。

<P><B><I>Algorithm=0</I></B> 一次咪一整個站。這對遠端站台而言非常友善，
因為它使用該站很少的資源。但它可能在近端機器上吃掉大量的記憶體。

<P><B><I>Algorithm=1</I></B> 一個目錄接著一個目錄地咪一個站。
應該<b>只</b>用在真正的鏡像時
(亦即︰咪過來的副本與原始檔之間沒有差異)。
這用比較少的近端資源。但它對遠端站台非常不友善，因為它需要遠端站台
在咪每一個目錄時都要執行一次 <b>ls</b> 命令。
<B>Mirror</B> 只會「看見」它正在咪的那一個目錄，所以它不知道此目錄以外的檔案，
而符號連結到此目錄以外者會被視為是無效的。
參閱<A HREF="#make_bad_symlinks"><B><I>make_bad_symlinks</I></B></A>。
刪除動作是以目錄為基礎，所以對 <A HREF="#max_delete_files">max_delete_files</A>
與 <A HREF="#max_delete_dirs">max_delete_dirs</A>要特別小心。
<B><I><A HREF="#get_patt">get_patt</A></I></B>
只會用到此目錄的檔名，而非完整的路徑，其他名稱檢查的項目也是一樣。
你幾乎一定要設定<B><I><A HREF="#remote_dir">remote_dir</A></I></B>
為一個絕對路徑(以 '/' 開頭)</TD>
</TR>

<TR VALIGN=TOP NOSAVE>
<TD ALIGN=LEFT VALIGN=TOP NOSAVE><B><I>local_dir_check</I></B></TD>

<TD ALIGN=LEFT VALIGN=TOP NOSAVE><I>false</I></TD>

<TD ALIGN=LEFT VALIGN=TOP NOSAVE>若為 true，且<B><I><A HREF="#local_dir">local_dir
</A></I></B>並不存在，就跳過此包裹。預設是如果<B><I><A HREF="#local_dir">local_dir</A></I></B>
不存在，那麼它就會被建立。 </TD>
</TR>

<TR>
<TD></TD>

<TD></TD>

<TD></TD>
</TR>
</TABLE>

<H2>
<A NAME="Filestores"></A>檔案庫</H2>
<B>Mirror</B> 使用遠端目錄列表以得知有哪些檔案可以抓。
<B>Mirror</B> 原本是用來連接 Un*x FTP 守護神程式，且使用標準的
<B>ls</B> 命令。Un*x 主機若使用非標準的
<B>ls</B> 或是一個非 Un*x 主機，就必須設定<B><I><A HREF="#remote_fs">remote_fs</A></I></B>
變數，以符合該主機所傳回目錄列表的種類。
<B><I>remote_fs</I></B> 與其他的變數有交互作用，
特別是<B><I><A HREF="#flags_nonrecursive">flags_nonrecursive</A></I></B>，
<B><I><A HREF="#recurse_hard">recurse_hard</A></I></B> 與 <B><I><A HREF="#get_size_change">get_size_change</A></I></B>。
以下的章節顯示一些在不同種檔案庫上執行 FTP DIR 命令的結果，
與如何設定相關變數的建議。
對一些設定得不尋常的檔案庫，你可能需要改變所建議的設定。
<H3>
<A NAME="remote_fs=unix"></A>remote_fs=unix</H3>

<PRE>total 65
-rw-r--r-- 1 nobody nobody&nbsp;&nbsp; 2245 Jan 28 20:06 README
-rw-r--r-- 1 nobody nobody&nbsp; 45881 Jan 29 19:13 mirror.html</PRE>
這是預設值，通常你應該不需要重設任何其他相關變數。
<H3>
<A NAME="remote_fs=dls"></A>remote_fs=dls</H3>

<PRE>00index.txt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 189916&nbsp;&nbsp;
0readme&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5793&nbsp;&nbsp;
1_x/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&nbsp; OS/2 1.x-specific files</PRE>
這跟大多數 Un*x 上的 <B>ls</B> 都不同。它在列表中提供了已知項目的說明。
將<B><I><A HREF="#flags_recursive">flags_recursive</A></I></B>
設為 -dtR 。
<H3>
<A NAME="remote_fs=netware"></A>remote_fs=netware</H3>

<PRE>- [R----F--] jrd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1646&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; May 07 21:43&nbsp;&nbsp;&nbsp; index
d [R----F--] jrd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 512&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sep 09 10:52&nbsp;&nbsp;&nbsp; netwire
d [R----F--] jrd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 512&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sep 02 01:31&nbsp;&nbsp;&nbsp; pktdrvr
d [RWCE-F--] jrd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 512&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sep 04 10:55&nbsp;&nbsp;&nbsp; incoming</PRE>
or
<PRE>-[R----F--] 1 jrd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1646&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; May 07 21:43&nbsp;&nbsp;&nbsp; index
d[R----F--] 1 jrd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 512&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sep 09 10:52&nbsp;&nbsp;&nbsp; netwire
d[R----F--] 1 jrd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 512&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sep 02 01:31&nbsp;&nbsp;&nbsp; pktdrvr</PRE>
Novell 檔案庫用這種方式。將<B><I><A HREF="#recurse_hard">recurse_hard</A></I></B>
設為 true，將<B><I><A HREF="#flags_nonrecursive">flags_nonrecursive</A></I></B>
設為什麼都沒有。參閱<B><I><A HREF="#remote_dir">remote_dir</A></I></B>.
<H3>
<A NAME="remote_fs=dosftp"></A>remote_fs=dosftp</H3>

<PRE>00-index.txt&nbsp; 6,471 13:54&nbsp; 7/20/93&nbsp;&nbsp; alabama.txt&nbsp;&nbsp; 1,246 23:29&nbsp; 5/08/97
alaska.txt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 873 23:29&nbsp; 5/08/92&nbsp;&nbsp; alberta.txt&nbsp;&nbsp; 2,162 23:29&nbsp; 5/08/97</PRE>
dosftp 是一個在 D*S 上跑的 FTP 守護神程式。將 <B><I><A HREF="#recurse_hard">recurse_hard</A></I></B>
設為 true，而<B><I><A HREF="#flags_nonrecursive">flags_nonrecursive</A></I></B>
設為什麼都沒有。參閱<B><I><A HREF="#remote_dir">remote_dir</A></I></B>.
<H3>
<A NAME="remote_fs=macos"></A>remote_fs=macos</H3>

<PRE>-------r--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 127&nbsp;&nbsp; 127 Aug 27 13:53 !Gopher Links
drwxrwxr-x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; folder&nbsp;&nbsp;&nbsp; 32 Sep&nbsp; 9 16:30 FAQ
drwxrwx-wx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; folder&nbsp;&nbsp;&nbsp;&nbsp; 0 Sep&nbsp; 9 09:59 incoming</PRE>
macos 是為一種麥金塔的 FTP 守護神程式的變數。雖然輸出
類似 Un*x。
Un*x <B><I>remote_fs</I></B> 的型態無法處理，因為有各個檔案有三種檔案大小。
將 <B><I><A HREF="#recurse_hard">recurse_hard</A></I></B>
設為 true，<B><I><A HREF="#flags_nonrecursive">flags_nonrecursive</A></I></B>
設為什麼都沒有，<B><I><A HREF="#get_size_change">get_size_change</A></I></B>
設為 false 還有 <B><I><A HREF="#compress_patt">compress_patt</A></I></B> 設為
什麼都沒有(最後一個設定是因為不尋常的檔名會使 shell 在執行壓縮時會有問題)。
參閱<B><I><A HREF="#remote_dir">remote_dir</A></I></B>.
<H3>
<A NAME="remote_fs=vms"></A>remote_fs=vms</H3>

<PRE>USERS:[ANONYMOUS.PUBLIC]

1-README.FIRST;13&nbsp;&nbsp;&nbsp;&nbsp; 9&nbsp; 14-JUN-1993 13:09 [ANONYMOUS] (RWE,RWE,RE,RE)
PALTER.DIR;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp; 18-JAN-1993 11:56 [ANONYMOUS] (RWE,RWE,RE,RE)
PRESS-RELEASES.DIR;1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp; 11-AUG-1992 20:05 [ANONYMOUS] (RWE,RWE,,)</PRE>
alternatively:
<PRE>[VMSSERV.FILES]ALARM.DIR;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1/3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5-MAR-1993 18:09
[VMSSERV.FILES]ALARM.TXT;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1/3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4-FEB-1993 12:20</PRE>
將 <B><I><A HREF="#flags_recursive">flags_recursive</A></I></B> 設為 '[...]'
與 <B><I><A HREF="#get_size_change">get_size_change</A></I></B> 設為 false.
<B><I><A HREF="#recurse_hard">recurse_hard</A></I></B> <B>無法</B> 用在 VMS。
參閱 <B><I><A HREF="#vms_keep_versions">vms_keep_versions</A></I></B>
與 <B><I><A HREF="#vms_xfer_text">vms_xfer_text</A></I></B> 變數。
<BR>&nbsp;
<H3>
<A NAME="remote_fs=infomac"></A>remote_fs=infomac</H3>

<PRE>-r&nbsp;&nbsp;&nbsp;&nbsp; 1974 Jul 21 00:06 00readme.txt
lr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 Sep&nbsp; 8 08:34 AntiVirus -> vir</PRE>
這是一個特殊情形，本來只能處理 sumex-aim.stanford.edu
的 info-mac 上的 help/all-files 檔所儲存的目錄列表。<B><I><A HREF="#recurse_hard">recurse_hard</A></I></B>
應該要設為 true。
<H3>
<A NAME="remote_fs=dosish"></A>remote_fs=dosish</H3>
This is for a D*S/Wind*ws FTP server with a faintly DOS like output
<PRE>03-04-94&nbsp; 08:45PM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;DIR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .
03-04-94&nbsp; 08:45PM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;DIR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ..
03-04-94&nbsp; 09:58AM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9718 Conduit
03-04-94&nbsp; 09:59AM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8745 Eve</PRE>
<B><I><A HREF="#recurse_hard">recurse_hard</A></I></B> 應該設為
true 且 <B><I><A HREF="#flags_nonrecursive">flags_nonrecursive</A></I></B>
設為什麼都沒有。
<H3>
<A NAME="remote_fs=lsparse"></A>remote_fs=lsparse</H3>
允許重分析 <B>mirror</B> 產生的目錄列表，且將除錯層次開到很高。
只適用於 <A HREF="mailto:lmjm@icparc.ic.ac.uk?SUBJECT=You Are A Wizard"><B>mirror</B>
巫師</A>.
<H2>
<A NAME="Examples"></A>範例</H2>
這是 sunsite.org.uk 的<A HREF="#Setting Defaults">mirror.defaults</A>檔。
<br>
<PRE># This is the default mirror settings used by my site:
# sunsite.org.uk (193.63.255.4)

package=defaults
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # The LOCAL hostname - if not the same as `hostname`
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # (I advertise the name sunsite.org.uk but the machine is
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #&nbsp; really swallow.sunsite.org.uk)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hostname=sunsite.org.uk
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Keep all local_dirs relative to here
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; local_dir=/public/Mirrors
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; remote_password=wizards@sunsite.org.uk
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mail_to=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Don't mirror file modes.&nbsp; Set all dirs/files to these
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dir_mode=0755
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; file_mode=0444
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # By default, files are owned by root.zero
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; user=0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; group=0
#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Keep a log file in each updated directory
#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; update_log=.mirror
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; update_log=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Don't overwrite my mirror log with the remote one.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Don't retrieve any of their mirror temporary files.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Don't touch anything whose name begins with a space!
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # nor any FSP or gopher files...
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exclude_patt=(^|/)(\.mirror$|\.in\..*\.$|MIRROR.LOG|#.*#|\.FSP|\.cache|\.zipped|lost+found/|)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Try to compress everything
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; compress_patt=.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; compress_prog=compress
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Don't compress information files, files that don't benefit from
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # being compressed, files that tell ftpd, gopher, wais... to do things,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # the sources for compression programs...
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # (Note this is the only Regexp that is case insensitive.)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; compress_excl+|^\.notar$|-z|\.gz$|\.taz$|\.tar.Z|\.arc$|\.zip$|\.lzh$|\.zoo$|\.exe$|\.lha$|\.zom$|\.gif$|\.jpeg$|\.jpg$|\.mpeg$|\.au$|read.*me|index|\.message|info|faq|gzip|compress
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Don't delete own mirror log or any .notar files (incl in subdirs)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delete_excl=(^|/)\.(mirror|notar)$
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Ignore any local readme files
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; local_ignore=README.doc.ic
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Automatically delete local copies of files that the
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # remote site has zapped
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do_deletes=true</PRE>
Here are some sample package descriptions:
<PRE>package=gnu
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; comment=Powerful and free Un*x utilities
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; site=prep.ai.mit.edu
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; remote_dir=/pub/gnu
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Local_dir+ causes gnu to be appended to the default local_dir
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # so making /public/gnu
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; local_dir+gnu
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exclude_patt+|^ListArchives/|^lost+found/|^scheme-7.0/|^\.history
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # I tend to only keep the latest couple of versions of things
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # this stops mirror from retrieving the older versions I've removed
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; max_days=30
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do_deletes=false

package=X11R6
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; comment=X Windows (windowing graphics system for Un*x)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; site=ftp.x.org
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; remote_dir=/pub/R6
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; local_dir+ftp.x.org/pub/R6
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # This is a local symlink to the free-for-all contrib area
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # and is mirrored elsewhere
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; local_ignore=^contrib$
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Don't compress a thing.&nbsp; It is already compressed&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # but doesn't look it.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; compress_patt=


# THIS IS JUST A TEST
package=test vms site
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; site=vmsbox.somewhere.ac.uk
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; local_dir=/tmp/copy4
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; remote_dir=vmsserv/files
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; remote_fs=vms
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Must do these settings for VMS
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flags_recursive=[...]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get_size_change=false

# and on, and on ...</PRE>

<H2>
<A NAME="Temporary Filenames"></A>暫存檔名</H2>
當 mirror 建立一個暫存檔名時，它在真實檔名前加上
'<B><TT><FONT SIZE=+1>.in.</FONT></TT></B>'。
<BR>若你的系統對檔名長度的限制較多(一些較老的 Un*x
將長度限為 14 個字元)那麼找找看
<PRE>&nbsp; <TT>LIMITED NAMELEN</TT></PRE>
它大約位在 mirror.pl 的 75% 處，有說明如何減少暫存檔名
的長度。我知道只有一個站使用這種方法。
<H2>
<A NAME="Regular Expressions"></A>規則表示式</H2>
這是對規則表示式的一份簡短的解釋。更廣泛的指引請參閱
<B>Perl</B> 使用手冊，或參閱 O'Reilly 出版的 "Mastering
Regular Expressions".

<P>一個規則表示式，或簡稱為 regexp ，是一種在文字字串中使用匹配樣式的方法。
例如這個規則表示式︰
<UL>
<PRE>&nbsp;^s</PRE>
</UL>
會匹配任何有一個<B><TT><FONT SIZE=+1>s</FONT></TT></B>開頭的字串。
<B><TT><FONT SIZE=+1>^</FONT></TT></B> 是一個特殊字元，表示
<I>字串開頭</I>。.&nbsp; 
一個規則表示式中可能有好幾個特殊字元，不是特殊字元的就被當作文字字元，
例如前例中的 <B><TT><FONT SIZE=+1>s</FONT></TT></B>。
要關閉一個特殊字元，在它前面放一個反斜線，
<B><TT><FONT SIZE=+1>\</FONT></TT></B>。它只對緊接在其後的那一個字元有效。

<P>警告一句話︰雖然
萬用字元跟 Un*x shell(與 D*S 命令)很像，但它們在此是不同的。
例如任何 Un*x 與 D*S 會將 *.ZIP 當作任何以 .ZIP 結尾的檔名，
但是 *.ZIP 做為一個規則表示式則是錯誤的!
「*」是一個特殊字元，它必須跟在某個字元後面(參閱後面)。
<H3>
規則表示式特殊字元</H3>

<TABLE>
<TR>
<TD>^</TD>

<TD>字串開頭</TD>
</TR>

<TR>
<TD>$</TD>

<TD>字串結尾</TD>
</TR>

<TR>
<TD>.</TD>

<TD>任何字元</TD>
</TR>

<TR>
<TD>[r]</TD>

<TD>一個範圍內的字元，可以是一列 <I>abcef</I> 或是以短線隔開的範圍
<I>a-f</I></TD>
</TR>

<TR>
<TD>[^r]</TD>

<TD>不在此列或範圍內的任何字元</TD>
</TR>

<TR>
<TD>(p1|p2|p3...)</TD>

<TD>樣式 p1 或 p2 或 p3 ...(樣式可以是特殊字元)</TD>
</TR>

<TR>
<TD>*</TD>

<TD>零或多個前導項目(可以是特殊字元)</TD>
</TR>

<TR>
<TD>+</TD>

<TD>一或多個前導項目(可以是特殊字元)</TD>
</TR>

<TR>
<TD>\d</TD>

<TD>任何數字(與 [0-9] 相同)</TD>
</TR>

<TR>
<TD>\D</TD>

<TD>任何非數字 (與 [^0-9] 相同)</TD>
</TR>

<TR>
<TD>\s</TD>

<TD>任何空白字元</TD>
</TR>

<TR>
<TD>\S</TD>

<TD>任何非空白字元</TD>
</TR>
</TABLE>

<H3>
規則表示式範例</H3>

<TABLE>
<TR>
<TD>abc</TD>

<TD>符合 <I>abc</I>, 以及 <I>xxxabcyyy</I> ，但不符合<I>xabbcy</I>&nbsp;</TD>
</TR>

<TR>
<TD>^abc$</TD>

<TD>只符合<I>abc</I></TD>
</TR>

<TR>
<TD>a.*z</TD>

<TD>符合 <I>a</I><I>任何字串z</I>。例如 <I>asdkjfhaksdjfhz</I></TD>
</TR>

<TR>
<TD>index.html</TD>

<TD>符合 <I>index.html </I>以及 <I>indexXhtml index/html</I> (「.」 符合
任何字元)</TD>
</TR>

<TR>
<TD>index\.html</TD>

<TD>符合 <I>index.html </I>(反斜線使 . 停止符合任何字元)</TD>
</TR>

<TR>
<TD>[rR][eE][aA][dD][mM][eE]</TD>

<TD>符合 <I>readme</I>, <I>Readme</I>, <I>README</I> ...</TD>
</TR>

<TR>
<TD>\.(gz|Z)$</TD>

<TD>符合以 <I>.gz </I>或 <I>.Z</I>結尾的字串</TD>
</TR>
</TABLE>

<H2>
<A NAME="Hints"></A>提示</H2>
加入一個新的包裹時，先用 <B><A HREF="#-n">-n</A></B> 選項測試一下。

<P>如果你要加入到一個已存在的檔案庫，而該檔案庫不是<B>mirror</B>
所建立的 (也許你從 CDROM 拷貝進來)，那麼通常最好強制對
已有的近端檔案使用時間印記，已使其藉著與遠端檔案的時間比對可以顯示
出兩個檔案是不同的。
(參閱 <B><A HREF="#-T">-T</A></B>).

<P>盡量將所有從同一個站台抓取的包裹放在同一個
<A HREF="#Package Files">包裹檔</A>中，這樣 <B>mirror</B> 只需要登入一次。

<P>記住所有的規則表示式都是 <B>Perl</B> 的規則表示式。

<P>若遠端站台含有符號連結，而你想將它「變平」，成為一致的檔案，
那麼將傳遞給遠端 <b>ls</b> 的旗標，
<B><I><A HREF="#flags_recursive">flags_recursive</A></I></B>
或 <B><I><A HREF="#flags_nonrecursive">flags_nonrecursive</A></I></B>
加入 <B><I>L</I></B>。先試試看在遠端站台的 FTP 命令，用<B>ls -lRatL</B>
看看會不會造成遠端檔案庫的符號連結迴圈。這會導致 ls 進入一個無窮迴圈
- 如果發生了，你必須告訴遠端的管理者將它們移除。

<P>如果你在咪一個很大而且不常更新的站，在咪第一次 <B>之後</B>將
<B><I><A HREF="#max_days">max_days</A>=7</I></B> 加到設定中，
。
如此 <B>mirror</B> 在更新檔案時會考慮抓較新的檔。
然後一週一次，或有需要的時候，
用 <B><A HREF="#-k">-k </A><I><A HREF="#max_days">max_days</A>=0
</I></B> 參數執行 <b>mirror</b> ，強制做完整的更新。

<P>若你不想壓縮任何來自遠端站台的東西，最簡單的方法是將
<B><I><A HREF="#compress_patt">compress_patt</A></I></B>
設定為什麼也沒有。

<P>若你想在咪一個包裹後跑一個程式，一個有用的技巧是將
<B><I><A HREF="#mail_prog">mail_prog</A></I></B>
變數設成你要跑的程式，而<B><I><A HREF="#mail_to">mail_to</A></I></B>
設成其參數。

<P>對 netware, dosftp, macos 與 VMS，你應該將<B><I><A HREF="#remote_dir">remote_dir</A></I></B>
設為遠端 FTP 守護神程式的根目錄。用手動方式連上去，在更換到
任何目錄前，用 pwd 命令以找出根目錄是什麼。
如果你只要咪整個樹的一部份，那一開始就指定完整包含此根目錄的絕對路徑名稱。

<P>macos 的名稱有時候會含有一些使其難以被
Un*x shell 傳遞的字元，由於壓縮檔會經由 shell 執行，
所以最好將壓縮關閉，用
<B><I><A HREF="#compress_patt">compress_patt</A>=</I></B>。

<P>macos 似乎在傳輸後會改變其大小，不論是文字或二元模式。
所以最好設定 get_size_change=false。
<H2>
<A NAME="Netiquette"></A>網路禮儀</H2>
若你要咪一個遠端站台，請遵守任何該站管理員所定的規定。
你通常可以發現連接到檔案庫時使用標準 FTP 命令的限制。
任何限制通常都會以一個登入畫面橫幅或是(希望是)一個明確的檔案。

<P>這裡是我所希望的一些良好的通則︰

<P>在你設定要咪一個站台<b>之前</b>，應該盡可能取得遠端站台的許可。
有些站需要詳細的記錄。未授權去咪它可能會佔用產生記錄站台的流量，
以致於毀掉它們的統計數字。也許有<b>嚴重的法律因素</b>使 mirror
不受到歡迎。

<P>只在近端與遠端站台的上班時間之外去咪它。

<P>一天去咪一個遠端的站台好幾次，可能是很不友善的。

<P>在咪一個遠端站台之前，試著找出當地檔案庫中是否有你要的程式包，
因為如果你不是有必要吃掉一堆網路頻寬，沒有人會高興的。

<P>如果你有一個當地檔案庫，那麼告訴相關人員，使它們不必浪費頻寬跟
CPU 在遠端主機上。

<P>切記時常檢查你的包裹檔，以免遠端檔案庫改變其存取限制。
<BR>&nbsp;
<H2>
<A NAME="Bugs"></A>臭蟲</H2>
某些網路禮儀指引應該要被強制執行。

<P>應該要可以處理硬式與符號連結。

<P>受龜速特徵主義之苦。(事實上更像跳躍特徵主義!)

<P>若你使用 Perl 4 (Perl 5 的使用者請跳過):
<UL>若 h2ph 已經在你的系統上跑了，那麼你可能應該移除跟 mirror 一起
出貨的 socket.ph 而使用為你的機器製作的 socket.ph。
若 h2ph 還沒有在跑，你應該說服你的系統管理員要這麼做。
socket.ph 的內容是為作業系統特製的，而它有可能對我有用，但對你卻沒用。

<P>給 Solaris 2.x 使用者的特別通知。
由 h2ph 所建立的 socket.h 不能運作。由此套件安裝 socket.ph-solaris 以代之。
</UL>


<P>似乎在舊版的 Perl 上會導致 mirror 失敗的問題，
其訊息為「fstype unix unknown」。如果你遇過這個問題，請將你的 Perl
升級到 5.004 以上的版本。
<BR>&nbsp;
<H2>
<A NAME="Remember!"></A>切記!</H2>
鏡子裡的物體比你所想的近!
<H2>
<A NAME="Author"></A>作者群</H2>
Mirror 是由 <A HREF="http://sunsite.org.uk/~lmjm/">Lee McLoughlin</A>
&lt;<A HREF="mailto:lmjm@icparc.ic.ac.uk">lmjm@icparc.ic.ac.uk</A>> 所寫的。
使用的大量重寫與擴充版本的 ftp.pl 程式包，原本是由︰
 Alan R. Martello &lt;al@ee.pitt.edu> 所寫，它使用了 lchat.pl，而 lchat.pl
 是衍生自 chat2.pl 程式包，它是︰ Randal L. Schwartz &lt;merlyn@ora.com> 所撰寫的。

<P>特別感謝下列人士製作修補程式、註解與其他建議，
以助改進 <B>mirror</B>。如果我漏掉誰，請告訴我。

<P>Zo&euml; Leech &lt;zl@icparc.ic.ac.uk>
<BR>James Revell &lt;revell@uunet.uu.net>
<BR>Chris Myers &lt;chris@wugate.wustl.edu>
<BR>Amos Shapira &lt;amoss@cs.huji.ac.il>
<BR>Paul A Vixie &lt;vixie@pa.dec.com>
<BR>Jonathan Kamens &lt;jik@pit-manager.mit.edu>
<BR>Christian Andretzky &lt;casys@otto.mb3.tu-chemnitz.de>
<BR>Kean Stump &lt;kean@ucs.orst.edu>
<BR>Anita Eijs &lt;anita@hermes.bouw.tno.nl>
<BR>Simon E Sperro &lt;S.E.Sperro@gdr.bath.ac.uk>
<BR>Aaron Wohl &lt;aw0g+@andrew.cmu.edu>
<BR>Michael Meissner &lt;meissner@osf.org>
<BR>Michael Graff &lt;explorer@iastate.edu>
<BR>Bradley Rhoades &lt;us267388@mail.mmmg.com>
<BR>Edwards Reed &lt;eer@cinops.xerox.com>
<BR>Joachim Schrod &lt;schrod@iti.informatik.th-darmstadt.de>
<BR>David Woodgate &lt;David.Woodgate@mel.dit.csiro.au>
<BR>Pieter Immelman &lt;pi@itu1.sun.ac.za>
<BR>Jost Krieger &lt;x920031@bus072.rz.ruhr-uni-bochum.de>
<BR>Erez Zadok &lt;ezk@cs.columbia.edu>
<BR>&nbsp;
<H2>
著作權</H2>
Mirror 不論是軟體或是附隨的文件，包括此文件，
都在下列的著作權保護。<br>
Mirror, both the software and all the accompanying documentation including this document, is under the following copyright. 

<P><FONT SIZE=-1>版權所有 &copy; 1990 - 1998 Lee McLoughlin</FONT>
<br><FONT SIZE=-1>Copyright &copy; 1990 - 1998 Lee McLoughlin</FONT>

<P><FONT SIZE=-1>允許為任何意圖使用、複製、與散佈此軟體與其文件，
有或沒有付費都許可，但所有複本中必須提供上述的版權聲明，
而版權聲明與此許可聲明都必須出現在支援文件中。<br>
Permission to use, copy, and distribute this software
and its documentation for any purpose with or without fee is hereby granted,
provided that the above copyright notice appear in all copies and that
both that copyright notice and this permission notice appear in supporting
documentation.</FONT>

<P><FONT SIZE=-1>
修改此軟體是被許可的，但無權散佈修改過的程式碼。
修改的內容必須用已釋出版本的修補程式的方式散佈。
<br>Permission to modify the software is granted, but not
the right to distribute the modified code. Modifications are to be distributed
as patches to released version.</FONT>

<P><FONT SIZE=-1>此軟體以其所呈現的方式提供，不表示或暗示有保證。<br>
This software is provided "as is" without express or implied
warranty.</FONT>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
