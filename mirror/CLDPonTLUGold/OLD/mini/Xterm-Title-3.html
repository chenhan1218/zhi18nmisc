<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=big5">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>如何變更 xterm 的主題: 動態主題</TITLE>
 <LINK HREF="Xterm-Title-4.html" REL=next>
 <LINK HREF="Xterm-Title-2.html" REL=previous>
 <LINK HREF="Xterm-Title.html#toc3" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 2, 6);</SCRIPT>
<A HREF="Xterm-Title-4.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="Xterm-Title-2.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="Xterm-Title.html#toc3"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s3">3. 動態主題</A></H2>

<P>許多人發現這在顯示一些動態資訊時相當有用, 比如 使用者所登入的主機名稱,
現行的工作目錄, 等等.
<P>
<P>
<H2><A NAME="ss3.1">3.1 xterm 溢位序列</A>
</H2>

<P>一個已在執行的 xterm 的視窗及圖示的主題都可以透過溢位序列來變更.
下列列出跟這個設定有關的序列:
<UL>
<LI><CODE>ESC]0;<B>string</B>BEL</CODE> -- 設定圖示及視窗的主題為
<B>string</B></LI>
<LI><CODE>ESC]1;<B>string</B>BEL</CODE> -- 設定圖示名為 <B>string</B></LI>
<LI><CODE>ESC]2;<B>string</B>BEL</CODE> -- 設定視窗主題為
<B>string</B></LI>
</UL>

在這裡 <CODE>ESC</CODE> 是指 <B>escape</B> 字元 (\033), 而<CODE>BEL</CODE> 是指
<B>bell</B> 字元 (\007).
<P>
<P>在 xterm 裡頭就可以使得視窗及圖示的主題變更.
<P>
<P><B>注意</B>: 這些序列可以應用到大部份 xterm 衍生的程式,
比如 <CODE>nxterm</CODE>, <CODE>color-xterm</CODE> 及 <CODE>rxvt</CODE>. 其他的
終端機類型大都使用不一樣的序列; 參考附錄所列舉的範例.
如要參考 xterm 所有的溢位序列參考這個檔案
<A HREF="http://www.giccs.georgetown.edu/~ric/howto/Xterm-Title/ctlseq2.txt">ctlseq2.txt</A>,
這會隨著 xterm 的套件發行, 或
<A HREF="http://www.giccs.georgetown.edu/~ric/howto/Xterm-Title/xterm.seq">xterm.seq</A>, 隨著
<A HREF="http://www.rxvt.org/">rxvt</A> 套件發行.
<P>
<P>
<H2><A NAME="ss3.2">3.2 印出這些序列</A>
</H2>

<P>有些資訊在命令解譯器的生命週期中是自始至終都不變的,
比如 主機名稱 及 使用者名稱, 那麼在命令解譯器的初始啟動檔
(rc file) 用 echo 指令印出這些字串就夠了:
<BLOCKQUOTE><CODE>
<PRE>
echo -n "\033]0;${USER}@${HOST}\007"
</PRE>
</CODE></BLOCKQUOTE>

應該會產生像 <CODE>username@hostname</CODE> 這樣的主題,
假設命令解譯器的變數 <CODE>$USER</CODE> 及 <CODE>$HOST</CODE> 都已設定正確的話.
<CODE>echo</CODE> 所需的選項依命令解譯器使用的類型而有所不同 (參考下面的說明).
<P>
<P>有些資訊在命令解譯器的生命週期中是一直在變的,
比如 現行工作目錄, 這些溢位資訊就必須在每次提示字元變化時隨著改變. 
這下子字串就會在每次你輸入命令時更新,
而且你還可以追蹤保留 現行目錄, 使用者名, 主機名, 等資訊.
部份命令解譯器提供這類用途的特殊功能,
有些則沒有. 而我們就必須直接插入主題溢位資訊到題示字串中.
這會在下一節中說明
<P>
<P>
<HR>
<A HREF="Xterm-Title-4.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="Xterm-Title-2.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="Xterm-Title.html#toc3"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
