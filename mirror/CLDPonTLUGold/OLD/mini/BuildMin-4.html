<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=big5">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>從源代碼打造一個最小化的Linux系統實作篇: 內核</TITLE>
 <LINK HREF="BuildMin-5.html" REL=next>
 <LINK HREF="BuildMin-3.html" REL=previous>
 <LINK HREF="BuildMin.html#toc4" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 2, 6);</SCRIPT>
<A HREF="BuildMin-5.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="BuildMin-3.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="BuildMin.html#toc4"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s4">4. 內核</A></H2>

<P>下一步就是生成內核了．我假設您以前是做過編譯內核這種事的，所以我就長話短說
了．如果要啟動的內核已經准備好的話，那么要安裝lilo就會更容易．請返回到
目標系統的<CODE>usr/src</CODE>目錄，然后在那兒解開Linux內核源碼．進入Linux
源碼樹(<CODE>cd linux</CODE>)然后使用您最喜歡的方式配置內核，比如<CODE>make
menuconfig</CODE>．如果您想讓自己的輕松一些，那么您可以為自己配置一個沒有
模塊的內核．如果您已經配置了模塊，那么您就得編輯<CODE>Makefile</CODE>文件，
找出<CODE>INSTALL_MOD_PATH</CODE>并將其設置為<CODE>/mnt/target</CODE>．
<P>
<P>現在您可以執行<CODE>make dep</CODE>，<CODE>make bzImage</CODE>了．如果您設置了模塊
項，可以再執行<CODE>make modules</CODE>，<CODE>make modules_install</CODE>．把內核
映象文件<CODE>arch/i386/boot/bzImage</CODE>和系統函數映象文件<CODE>System.map</CODE>
復制到目標系統的boot啟動目錄<CODE>/mnt/target/boot</CODE>下面，然后准備安裝
系統引導器lilo了．
<P>
<HR>
<A HREF="BuildMin-5.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="BuildMin-3.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="BuildMin.html#toc4"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
