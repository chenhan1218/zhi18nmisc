<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=big5">
 <META NAME="GENERATOR" CONTENT="ZH-SGML-Tools 1.0.9">
 <TITLE>從源代碼打造一個最小化的Linux系統實作篇: MAKEDEV(設備生成器)</TITLE>
 <LINK HREF="BuildMin-4.html" REL=next>
 <LINK HREF="BuildMin-2.html" REL=previous>
 <LINK HREF="BuildMin.html#toc3" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 2, 6);</SCRIPT>
<A HREF="BuildMin-4.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="BuildMin-2.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="BuildMin.html#toc3"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s3">3. MAKEDEV(設備生成器)</A></H2>

<P>我們要把源代碼放置到目標系統的<CODE>/usr/src</CODE>目錄下面．因此，舉個例
子吧，如果您的目標系統是挂載在<CODE>/mnt/target</CODE>這個地方，且您的tar
包是放在<CODE>/root</CODE>里面，那么您要做的就是︰
<P>
<PRE>
 
        cd /mnt/target/usr/src
        tar -xzvf /root/MAKEDEV-2.5.tar.gz
</PRE>
<P>
<P>然后就把這些tar包復制到您要解開它們的地方就行了．千萬別迷糊了哦．;->
<P>
<P>當您安裝軟件的時候，通常情況下您會把它們安裝在正在使用的系統上．但是我們
并不想這么做，因為我們是要把<CODE>/mnt/target</CODE>當做根文件系統(root 
filesystem)，就是要把這些軟件安裝到這個地方．不同的軟件包有不同的處理
方式．比如說MAKEDEV設備生成器包，您要做的是︰
<P>
<PRE>
        ROOT=/mnt/target make install
</PRE>
<P>
<P>您得先在這個包當中的README說明文件和INSTALL安裝說明文件當中查出這些選項，
或者執行命令<CODE>./configure --help</CODE>查看幫助說明．
<P>
<P>查看一下MAKEDEV包當中的<CODE>Makefile</CODE>文件，看看它是怎樣處理我們在命令
行當中設置的<CODE>ROOT</CODE>變量的．接著通過執行<CODE>man ./MAKEDEV.man</CODE>來
查看一下它的手冊頁，看看它是怎么起到作用的．您會發現生成我們自己的設備的
方式就是執行<CODE>cd /mnt/target/dev</CODE>然后<CODE>./MAKEDEV generic</CODE>．
請使用<CODE>ls</CODE>命令來看看它都為我們生成了哪些設備文件吧．
<P>
<HR>
<A HREF="BuildMin-4.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="BuildMin-2.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="BuildMin.html#toc3"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
