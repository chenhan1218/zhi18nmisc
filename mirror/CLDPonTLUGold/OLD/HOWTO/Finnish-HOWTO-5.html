<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Finnish-HOWTO: Aikavy&ouml;hykeasetukset </TITLE>
 <LINK HREF="Finnish-HOWTO-6.html" REL=next>
 <LINK HREF="Finnish-HOWTO-4.html" REL=previous>
 <LINK HREF="Finnish-HOWTO.html#toc5" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 8, 1);</SCRIPT>
<A HREF="Finnish-HOWTO-6.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="Finnish-HOWTO-4.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="Finnish-HOWTO.html#toc5"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="aik"></A> <A NAME="s5">5. Aikavy&ouml;hykeasetukset </A></H2>

<P> Linux-koneen CMOS-kello voi osoittaa joko UTC-aikaa - kuten
UNIX-koneissa on yleens&auml; tapana - tai paikallista aikaa. (UTC on
kansainv&auml;linen normaaliaika, suunnilleen sama kuin Greenwich Mean
Time eli GMT.) Linux-jakelut olettavat yleens&auml; kellon
k&auml;yv&auml;n paikallista aikaa, koska MS-DOS ja muut tavalliset
PC-k&auml;ytt&ouml;j&auml;rjestelm&auml;t eiv&auml;t tunne
aikavy&ouml;hykkeit&auml;. T&auml;ll&ouml;in Linuxin
k&auml;ynnistystiedostoissa - esim. <CODE>/etc/rc.d/rc.S </CODE>
(Slackware) tai <CODE>/etc/rc.d/rc.sysinit</CODE> (RedHat) - on komento
<CODE> clock -s</CODE>. Jos kello on UTC-ajassa, komennon pit&auml;&auml; olla
<CODE> clock -u -s</CODE>.
<P>Kun CMOS-kello on UTC-ajassa, k&auml;ytt&ouml;j&auml;rjestelm&auml;
huolehtii ajan n&auml;ytt&auml;misest&auml; oikein mm. kes&auml;aikaan
siirrytt&auml;ess&auml;, kunhan aikavy&ouml;hyke on asetetty oikein.
Jos CMOS-kello on paikallisessa ajassa, kes&auml;- ja talviaikoihin
siirtymiset on teht&auml;v&auml; k&auml;sin. CMOS-kellon aikaa voi
muuttaa joko CMOS-setupista k&auml;sin tai sitten Linuxissa
clock-komennolla (ks. <CODE> man 8 clock</CODE>).
<P>Suomen aikavy&ouml;hyke on EET (Eastern European Time).
Aikavy&ouml;hykkeen voi asentaa k&auml;ytt&ouml;j&auml;rjestelm&auml;n
asennuksen yhteydess&auml;; mik&auml;li et tehnyt sit&auml; tai teit
sen v&auml;&auml;rin, voit tehd&auml; asetuksen root-tunnuksella
komennolla
<P>
<BLOCKQUOTE><CODE>
<HR>
<PRE>
ln -s /usr/lib/zoneinfo/Europe/Helsinki /usr/lib/zoneinfo/localtime
</PRE>
<HR>
</CODE></BLOCKQUOTE>
<P>(Vanhemmissa Linux-jakeluissa ei ole Helsinki-vy&ouml;hykett&auml;;
k&auml;yt&auml; EET:t&auml;).
<P>Yleens&auml; systeemin oletusaikavy&ouml;hykkeen asettaminen
riitt&auml;&auml;. Jos yksitt&auml;inen k&auml;ytt&auml;j&auml;
tarvitsee erilaisen aikavy&ouml;hykkeen, sen voi asettaa
k&auml;ytt&auml;j&auml;kohtaisesti TZ-muuttujalla.
POSIX-k&auml;yt&auml;nt&ouml; on, ett&auml; TZ-asetus on muotoa
EET-2EETDST, mik&auml; tarkoittaa, ett&auml; aikavy&ouml;hyke on EET,
se on kaksi tuntia edell&auml; GMT:t&auml;, ja kes&auml;aikaan
siirryt&auml;&auml;n EETDST-s&auml;&auml;nn&ouml;n mukaan. Asetus
saadaan aikaan komentotulkin alustustiedostossa, esim.
bash-k&auml;ytt&auml;jille lis&auml;&auml;m&auml;ll&auml; kotihakemiston
<CODE> .profile</CODE>-tiedostoon rivi
<P>
<BLOCKQUOTE><CODE>
<HR>
<PRE>
export TZ=EET-2EETDST
</PRE>
<HR>
</CODE></BLOCKQUOTE>
<P>
<P>
<HR>
<A HREF="Finnish-HOWTO-6.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="Finnish-HOWTO-4.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="Finnish-HOWTO.html#toc5"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
