<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>The Linux Kernel HOWTO: Tips and tricks </TITLE>
 <LINK HREF="Kernel-HOWTO-12.html" REL=next>
 <LINK HREF="Kernel-HOWTO-10.html" REL=previous>
 <LINK HREF="Kernel-HOWTO.html#toc11" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 8, 1);</SCRIPT>
<A HREF="Kernel-HOWTO-12.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="Kernel-HOWTO-10.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="Kernel-HOWTO.html#toc11"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s11">11. Tips and tricks </A></H2>

<P>
<P>
<H2><A NAME="ss11.1">11.1 Redirecting output of the make or patch commands </A>
</H2>

<P>
<P>If you would like logs of what those `<CODE>make</CODE>' or `<CODE>patch</CODE>'
commands did, you can redirect output to a file. First,
find out what shell you're running:
`<CODE>grep root /etc/passwd</CODE>' and look for something like
`<CODE>/bin/csh</CODE>'.
<P>
<P>If you use sh or bash,
<PRE>
    (command) 2>&amp;1 | tee (output file)
</PRE>

will place a copy of <CODE>(command)</CODE>'s output in the
file `<CODE>(output file)</CODE>'.
<P>
<P>For csh or tcsh, use
<PRE>
    (command) |&amp; tee (output file)
</PRE>
<P>
<P>For rc (Note: you probably do not use rc) it's
<PRE>
    (command) >[2=1] | tee (output file)
</PRE>
<P>
<P>
<H2><A NAME="ss11.2">11.2 Conditional kernel install </A>
</H2>

<P>Other than using floppy disks, there are several methods of testing out a new
kernel without touching the old one. Unlike many other Unix flavors, LILO has
the ability to boot a kernel from anywhere on the disk (if you have a
large (500 MB or above) disk, please read over the LILO documentation on
how this may cause problems). So, if you add something similar to
<PRE>
    image = /usr/src/linux/arch/i386/boot/bzImage
        label = new_kernel
</PRE>

to the end of your LILO configuration file, you can choose to run a newly
compiled kernel without touching your old <CODE>/vmlinuz</CODE> (after running
<CODE>lilo</CODE>, of course). The easiest way to tell LILO to boot a new
kernel is to press the shift key at bootup time (when it says
<CODE>LILO</CODE> on the screen, and nothing else), which gives you a prompt.
At this point, you can enter `<CODE>new_kernel</CODE>' to boot the new kernel.
<P>If you wish to keep several different kernel source trees on your system at
the same time (this can take up a <I>lot</I> of disk space; be careful), the
most common way is to name them <CODE>/usr/src/linux-x.y.z</CODE>, where
<CODE>x.y.z</CODE> is the kernel version. You can then ``select'' a source
tree with a symbolic link; for example, `<CODE>ln -sf linux-1.2.2
/usr/src/linux</CODE>' would make the 1.2.2 tree current. Before creating a
symbolic link like this, make certain that the last argument to
<CODE>ln</CODE> is not a real directory (old symbolic links are fine); the
result will not be what you expect.
<P>
<P>
<H2><A NAME="ss11.3">11.3 Kernel updates </A>
</H2>

<P>Russell Nelson (<CODE>nelson@crynwr.com</CODE>) summarizes the changes in new
kernel releases. These are short, and you might like to look at them
before an upgrade. They are available with anonymous ftp from
<CODE>ftp.emlist.com</CODE> in <CODE>pub/kchanges</CODE> or through the URL
<PRE>
    http://www.crynwr.com/kchanges
</PRE>
<P>
<P>
<HR>
<A HREF="Kernel-HOWTO-12.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="Kernel-HOWTO-10.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="Kernel-HOWTO.html#toc11"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
