<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>CVS-RCS- HOW-TO document for Linux (Source Code Control System): Shell Scripts </TITLE>
 <LINK HREF="CVS-RCS-HOWTO-7.html" REL=next>
 <LINK HREF="CVS-RCS-HOWTO-5.html" REL=previous>
 <LINK HREF="CVS-RCS-HOWTO.html#toc6" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 8, 1);</SCRIPT>
<A HREF="CVS-RCS-HOWTO-7.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="CVS-RCS-HOWTO-5.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="CVS-RCS-HOWTO.html#toc6"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="Shell Scripts"></A> <A NAME="s6">6. Shell Scripts </A></H2>

<P>The following are wrappers around the basic CVS commands. These scripts
give you initial <B>booster-push</B> into the CVS system and are useful 
untill you become very familiar with the CVS commands. The scripts 
are written for Korn shell since korn shell is always available 
on all flavors of unixes, but you can translate to bash or 
PERL if needed. You can customize
these scrips to your taste. They are basically CVS commands but features are
added to make it site specific. For example, sedit script provides locking
so that users will know some-one is editing the file. Of course users can 
directly use the CVS commands to by-pass these scripts. These scripts 
demonstrate how CVS can be <B>customized</B> to a great extent.
<P><B>NOTE: </B> <I>The wrapper shell scripts assume that the user's 
home directory as the root and check out the tree from cvs to build the 
tree underneath user's home directory.</I>
<P><B> TIP: </B> <I>In shell scripts, every target filename is composed 
of 3 parts - Home directory, sub-directory 
and the filename. The full-path is $HOME/$subdir/$fname
And in CVS the same directory structure is maintained (by 
variable $subdir) therefore in cvs there will be something 
like  $CVSROOT/$subdir/$fname.
In all scripts, these 4 variables $HOME, $CVSROOT, $subdir and $fname
play an important role. For example, sample values can be like
HOME=/home/aldev, subdir=myproject/src CVSROOT=/home/cvsroot 
and fname=foo.cpp</I>
<P>Copy these scripts to /usr/local/bin and this should be in the user's PATH environment.
<OL>
<LI> <B>sget</B> [-r revision_number] &lt;file/directory name&gt;
To get a file or entire directory from CVS in READ ONLY mode.
Click 
<A HREF="CVS-RCS-HOWTO-20.html#sget">sget</A>

</LI>
<LI> <B>sedit</B> [-r revision_number] &lt;filename&gt;
To edit a file in order to make changes to code. This will lock the
file so that nobody else can checkout. Ofcourse you can change the script to your requirement - make no locking, warning message or very strong locking.
Click 
<A HREF="CVS-RCS-HOWTO-21.html#sedit">sedit</A>

</LI>
<LI> <B>scommit</B> [-r revision_number] &lt;filename&gt;
To commit the changes you made to filename or entire 
directory. Upload your changes to CVS
Click 
<A HREF="CVS-RCS-HOWTO-22.html#scommit">scommit</A>

</LI>
<LI> <B>supdate</B>     &lt;filename/directory&gt; 
To update a filename or to update an entire directory by 
getting the latest files from CVS
Click 
<A HREF="CVS-RCS-HOWTO-23.html#supdate">supdate</A>

</LI>
<LI> <B>sunlock</B> [-r revision_number] &lt;filename&gt;
To unlock the file got by sedit. Will release the lock.
Click 
<A HREF="CVS-RCS-HOWTO-24.html#sunlock">sunlock</A>

</LI>
<LI> <B>slist</B>       
To see the list of files currently being edited by you. 
Does 'ls -l | grep | ...' command.
Click 
<A HREF="CVS-RCS-HOWTO-25.html#slist">slist</A>
. 
Note that there is also another unix
command by name slist (list available Netware servers), you
should make sure cvs script slist comes before other in your
PATH environment.
</LI>
<LI> <B>sinfo</B> &lt;filename/directory&gt; 
To get the information of changes/revisions to a file 
Click 
<A HREF="CVS-RCS-HOWTO-26.html#sinfo">sinfo</A>

</LI>
<LI> <B>slog</B> &lt;filename&gt; 
To get the history of changes/revisions to a file from CVS
Click 
<A HREF="CVS-RCS-HOWTO-27.html#slog">slog</A>

</LI>
<LI> <B>sdif</B> &lt;filename&gt;
<P><B>sdif</B> -r rev1 -r rev2 &lt;filename&gt; 
To get the diff of your file with CVS.
Click 
<A HREF="CVS-RCS-HOWTO-28.html#sdif">sdif</A>
<P>NOTE: sdif has only one 'f' because there is already another 
unix command called 'sdiff'
<P>
</LI>
<LI> <B>sadd</B> &lt;filename&gt;   
To add a new file to CVS repository
Click 
<A HREF="CVS-RCS-HOWTO-29.html#sadd">sadd</A>

</LI>
<LI> <B>sdelete</B>     &lt;filename&gt; 
To delete a file from CVS repository
Click 
<A HREF="CVS-RCS-HOWTO-30.html#sdelete">sdelete</A>

</LI>
<LI> <B>sfreeze</B>     &lt;revision name&gt; &lt;directory name&gt;
To freeze the code, that is make release of entire source tree.
Click 
<A HREF="CVS-RCS-HOWTO-31.html#sfreeze">sfreeze</A>

<P>For example : 
<HR>
<PRE>
        cd $HOME;   
        sfreeze REVISION_1_0  srctree  
</PRE>
<HR>

This will freeze code with tag REVISION_1_0  so that you can later 
checkout the entire tree by using with revision name
</LI>
</OL>
<P>
<BLOCKQUOTE><CODE>
<PRE>
                ******************************************************
</PRE>
</CODE></BLOCKQUOTE>
<P>
<HR>
<A HREF="CVS-RCS-HOWTO-7.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="CVS-RCS-HOWTO-5.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="CVS-RCS-HOWTO.html#toc6"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
