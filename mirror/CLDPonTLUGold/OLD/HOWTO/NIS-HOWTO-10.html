<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>The Linux NIS(YP)/NYS/NIS+ HOWTO: Common Problems and Troubleshooting NIS</TITLE>
 <LINK HREF="NIS-HOWTO-11.html" REL=next>
 <LINK HREF="NIS-HOWTO-9.html" REL=previous>
 <LINK HREF="NIS-HOWTO.html#toc10" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 8, 1);</SCRIPT>
<A HREF="NIS-HOWTO-11.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="NIS-HOWTO-9.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="NIS-HOWTO.html#toc10"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s10">10. Common Problems and Troubleshooting NIS</A><!--NIS!troubleshooting--><!--NIS!problems with--></H2>

<P>Here are some common problems reported by various users:
<P>
<OL>
<LI>The libraries for 4.5.19 are broken. NIS won't work with it.
</LI>
<LI>If you upgrade the libraries from 4.5.19 to 4.5.24 then the
su command breaks. You need to get the su command from the
slackware 1.2.0 distribution. Incidentally that's where you
can get the updated libraries.
</LI>
<LI>When a NIS server goes down and comes up again ypbind starts
complaining with messages like:

<PRE>
         yp_match: clnt_call:
                     RPC: Unable to receive; errno = Connection refused
        
</PRE>


and logins are refused for those who are registered in the
NIS database. Try to login as root and kill
ypbind and start it up again. An update to ypbind 3.3 or higher
should also help.
</LI>
<LI>After upgrading the libc to a version greater then 5.4.20, the YP tools
will not work any longer. You need yp-tools 1.2 or later for
libc >= 5.4.21 and glibc 2.x. For earlier libc version you need
yp-clients 2.2. yp-tools 2.x should work for all libraries.
</LI>
<LI>In libc 5.4.21 - 5.4.35 yp_maplist is broken, you need 5.4.36 or later,
or some YP programs like ypwhich will segfault.
</LI>
<LI>libc 5 with traditional NIS doesn't support shadow passwords over NIS.
You need libc5 + NYS or glibc 2.x.</LI>
<LI>ypcat shadow doesn't show the shadow map. This is correct, the name of
the shadow map is shadow.byname, not shadow.</LI>
<LI>Solaris doesn't use always privileged ports. So don't use password
mangling if you have a Solaris client.</LI>
</OL>
<P>
<P>
<HR>
<A HREF="NIS-HOWTO-11.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="NIS-HOWTO-9.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="NIS-HOWTO.html#toc10"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
