<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Process Monitor HOW-TO for Linux: Unix/Linux command - procautostart</TITLE>
 <LINK HREF="Process-Monitor-HOWTO-3.html" REL=next>
 <LINK HREF="Process-Monitor-HOWTO-1.html" REL=previous>
 <LINK HREF="Process-Monitor-HOWTO.html#toc2" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 8, 1);</SCRIPT>
<A HREF="Process-Monitor-HOWTO-3.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="Process-Monitor-HOWTO-1.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="Process-Monitor-HOWTO.html#toc2"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s2">2. Unix/Linux command - procautostart</A></H2>

<P>Use the program <B>procautostart</B> (say "Prok-Auto-Start" or Process AutoStart) to 
monitor and automatically re-start 
any Unix/Linux process if they die. This tiny program is very powerful and is
comparable to big commercial products which <B>costs about $80,000US</B>. 
Procautostart can be used for controlling following applications:
<UL>
<LI> For real-time control of process industries like chemical, manufacturing, power
generation and others. Use <I>nano-seconds</I> in program to get fine control.</LI>
<LI> For controlling processes of software applications like Web servers, database servers,
mission critical unix processes, etc..</LI>
<LI> As an alarm system for any general monitoring software system. The program can
fire a pager or call cell phone or flash red lights on the computer screen. For calling a phone
line you may need to use a Telephone card on PCI slot of the computer.</LI>
</UL>
<P>The program listing is given in following sections in this document. 
<P><B>procautostart </B> <B>-n </B>  <I>&lt; delay_seconds &gt;</I> <B>-c </B>  "<I>&lt; command_line &gt;</I>" nohup &amp;
<P>This starts the unix process <B>procautostart</B> and also <B>command_line</B> 
process. The <B>procautostart</B> process will re-start <B>command_line</B> 
process if it dies. The <I>-n</I> option is the time delay in seconds before <B>procautostart</B>
checks the running process started by <B>command_line</B>. It is advisable to start the procautostart as 
background process with no-hangup using "nohup &amp;".  See 'man nohup'.
<P>The procautostart is written in "C" so that it is very fast and efficient, since the program is called
every <I>n</I> seconds. Amount of resources consumed by procautostart is <B>very minute</B>
and is negligible since the program size is small and is highly optimized with -o3 compiler option.
<P>For example -
<HR>
<PRE>
        procautostart -n 12 -c "monitor_test -d $HOME  -a dummy_arg " nohup &amp;
</PRE>
<HR>

Here <B>procautostart</B> will be checking the process monitor_test <B>every</B> 12 seconds.
<P>The program will output log files in 'mon' sub-directory which has datetime stamp of when the
processes died and re-started. These files gives info on how often the processes are dying.
<P>You can also use micro-seconds option '-m' or nano-seconds option '-o', edit the source code file
<B>procautostart.cpp</B> and uncomment appropriate lines.
<HR>
<A HREF="Process-Monitor-HOWTO-3.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="Process-Monitor-HOWTO-1.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="Process-Monitor-HOWTO.html#toc2"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
