<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>NetWare Loadable Module Programming HOWTO: NLM Header file</TITLE>
 <LINK HREF="NLM-HOWTO-5.html" REL=next>
 <LINK HREF="NLM-HOWTO-3.html" REL=previous>
 <LINK HREF="NLM-HOWTO.html#toc4" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 8, 1);</SCRIPT>
<A HREF="NLM-HOWTO-5.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="NLM-HOWTO-3.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="NLM-HOWTO.html#toc4"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s4">4. NLM Header file</A></H2>

<P>The NLM header file contains information for <EM>nlmconv(1)</EM>. Each
line contains one option or directive; everything after "#" is comment.
This chapter describes all options and directives.
<P>
<P>This chapter is not yet finished, sorry.
<P>
<H2><A NAME="ss4.1">4.1 AUTOUNLOAD</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>AUTOUNLOAD</B>
<P>
<P>
<H2><A NAME="ss4.2">4.2 CHECK</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>CHECK &lt;check procedure name&gt;</B>
<P>
<P>This directive specifies the function to be
executed when the NLM is unloaded using the <EM>UNLOAD</EM> Server console 
command. If this function returns zero, the NLM can be unloaded, else
the NLM is not ready to be unloaded. 
<P>
<P><EM>Example</EM>:
<HR>
<PRE>
CHECK CheckUnload
</PRE>
<HR>
<P>
<H2><A NAME="ss4.3">4.3 CODESTART</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>CODESTART &lt;map file code start offset&gt;</B>
<P>Map file start offset may be decimal or Xhex.
<P>
<H2><A NAME="ss4.4">4.4 COPYRIGHT</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>COPYRIGHT ["Copyright string"]</B>
<P>The copyright string is displayed on the server console screen when the
NLM is loaded. If this option is not used, no copyright information is
displayed.
<P>
<P><EM>Example</EM>:
<HR>
<PRE>
COPYRIGHT "Copyright (c) 1998 ABC Inc."
</PRE>
<HR>
<P>
<P>
<H2><A NAME="ss4.5">4.5 CUSTOM</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>CUSTOM &lt;custom data file path&gt;</B>
<P>
<H2><A NAME="ss4.6">4.6 DATASTART</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>DATASTART &lt;map file data start offset&gt;</B>
<P>Map file data start offset may be decimal or Xhex.
<P>
<H2><A NAME="ss4.7">4.7 DATE</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>DATE &lt;month, day, year&gt;</B>
<P>
<P>
<H2><A NAME="ss4.8">4.8 DEBUG</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>DEBUG</B>
<P>
<P>This directive tells the nlmconv(1) to include debugging information in 
the NLM file.
<P><EM>Example</EM>:
<HR>
<PRE>
DEBUG
</PRE>
<HR>
<P>
<H2><A NAME="ss4.9">4.9 DESCRIPTION</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>DESCRIPTION "NLM Description String"</B>
<P>
<P>
<H2><A NAME="ss4.10">4.10 EXIT</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>EXIT &lt;exit procedure name&gt;</B>
<P>
<P>
<H2><A NAME="ss4.11">4.11 EXPORT</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>EXPORT &lt;symbol list&gt;</B>
<P><B>EXPORT @&lt;symbol list file&gt;</B>
<P>
<P>
<H2><A NAME="ss4.12">4.12 FLAG_OFF</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>FLAG_OFF &lt;decimal number&gt;</B>
<P>
<P>
<H2><A NAME="ss4.13">4.13 FLAG_ON</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>FLAG_ON &lt;decimal number&gt;</B>
<P>
<P>
<H2><A NAME="ss4.14">4.14 HELP</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>HELP &lt;help file path&gt;</B>
<P>
<P>
<H2><A NAME="ss4.15">4.15 IMPORT</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>IMPORT &lt;symbol list&gt; </B>
<P><B>IMPORT @&lt;symbol list file&gt;</B>
<P>
<P>
<H2><A NAME="ss4.16">4.16 INPUT</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>INPUT &lt;object file&gt; [, &lt;object file&gt; [, ...] ]</B>
<P><B>INPUT @&lt;object list file&gt;</B>
<P>
<P>This directive lists the input ELF (.o) object files that are to be linked.
You can also list the object files in the list file, each object file on
one line.
<P>
<P><EM>Example</EM>:
<P>
<HR>
<PRE>
INPUT @objectfiles.txt
INPUT main.o
INPUT /usr/nwsdk/lib/prelude.o
</PRE>
<HR>
<P>
<H2><A NAME="ss4.17">4.17 MAP</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>MAP [map file name]</B>
<P>
<P>
<H2><A NAME="ss4.18">4.18 MESSAGES</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>MESSAGES &lt;message file path&gt;</B>
<P>
<P>
<H2><A NAME="ss4.19">4.19 MODULE</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>MODULE &lt;autoload NLM list&gt;</B>
<P>
<P>
<H2><A NAME="ss4.20">4.20 MULTIPLE</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>MULTIPLE</B>
<P>
<P>
<H2><A NAME="ss4.21">4.21 NAMELEN</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>NAMELEN &lt;decimal number&gt;</B>
<P>Default is 31. Zero is no limit.
<P>
<P>
<H2><A NAME="ss4.22">4.22 OS_DOMAIN</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>OS_DOMAIN</B>
<P>
<P>
<H2><A NAME="ss4.23">4.23 OUTPUT</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>OUTPUT &lt;target file name&gt;</B>
<P>
<P>
<H2><A NAME="ss4.24">4.24 PATH</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>PATH  [search path;...]</B>
<P>
<P>for following CUSTOM, HELP, INPUT, MESSAGES, SHARELIB, STAMPEDDATA and XDCDATA.
<P>
<H2><A NAME="ss4.25">4.25 PSEUDOPREEMPTION</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>PSEUDOPREEMPTION</B>
<P>
<P>
<H2><A NAME="ss4.26">4.26 REENTRANT</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>REENTRANT</B>
<P>
<P>
<H2><A NAME="ss4.27">4.27 SCREENNAME</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>SCREENNAME "Initial Screen Name (CLIB)"</B>
<P>
<P>
<H2><A NAME="ss4.28">4.28 SHARELIB</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>SHARELIB &lt;shared library path&gt;</B>
<P>
<P>
<H2><A NAME="ss4.29">4.29 STACK</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>STACK &lt;stack size&gt;</B>
<P>
<P>
<H2><A NAME="ss4.30">4.30 STACKSIZE</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>STACKSIZE &lt;stack size&gt;</B>
<P>
<P>
<H2><A NAME="ss4.31">4.31 STAMPEDDATA</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>STAMPEDDATA "Stamp" &lt;data file path&gt;</B>
<P>
<P>Stamp is 8 char max.
<P>
<H2><A NAME="ss4.32">4.32 START</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>START &lt;start procedure name&gt;</B>
<P>
<P>Default is _Prelude.
<P>
<H2><A NAME="ss4.33">4.33 SYNCHRONIZE</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>SYNCHRONIZE</B>
<P>
<P>
<H2><A NAME="ss4.34">4.34 THREADNAME</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>THREADNAME "Initial Process Name (CLIB)"</B>
<P>
<P>
<H2><A NAME="ss4.35">4.35 TYPE</A>
</H2>

<P><EM>Syntax</EM>:
<P><B> TYPE &lt;version&gt;</B>
<P>
<P>This directive specifies the format (NLM, LAN, DSK, NAM) of
the NLM file to be generated. Valid values are:
<P>
<UL>
<LI> 0 - NLM</LI>
<LI> 1 - LAN</LI>
<LI> 2 - DSK</LI>
<LI> 3 - NAM</LI>
</UL>
<P>
<P><EM>Example</EM>:
<P>
<HR>
<PRE>
TYPE 0
</PRE>
<HR>
<P>
<H2><A NAME="ss4.36">4.36 VERSION</A>
</H2>

<P><EM>Syntax</EM>:
<P>
<P><B>VERSION &lt;major version&gt;, &lt;minor version&gt;
[, &lt;revision&gt;]</B>
<P>
<P>The version information is displayed on the server system console when the NLM
loads. The major and minor version numbers can be 0 - 99. The revision 
can be 0 - 26 ("a" - "z") and is optional. <B>The version directive is
required.</B>
<P><EM>Example</EM>:
<P>
<HR>
<PRE>
VERSION 1,5
</PRE>
<HR>
<P>
<H2><A NAME="ss4.37">4.37 XDCDATA</A>
</H2>

<P><EM>Syntax</EM>:
<P><B>XDCDATA &lt;XDC data file path&gt;</B>
<P>
<P>
<HR>
<A HREF="NLM-HOWTO-5.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="NLM-HOWTO-3.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="NLM-HOWTO.html#toc4"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
