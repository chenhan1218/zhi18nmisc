<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Linux VME Howto: FAQ</TITLE>
 <LINK HREF="VME-HOWTO-7.html" REL=previous>
 <LINK HREF="VME-HOWTO.html#toc8" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 8, 1);</SCRIPT>
<IMG SRC="../img/next.gif" ALT="Next">
<A HREF="VME-HOWTO-7.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="VME-HOWTO.html#toc8"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s8">8. FAQ</A></H2>

<P>
<H2><A NAME="ss8.1">8.1 The Shell utilities return a bunch of stars (*) when I access a board I know is there.  What gives?</A>
</H2>

<P>Check to be sure the /dev/vme... files have their permissions set to 666.  If not, the shell utilities will return a * in place of data to indicate an error condition similar to a VME bus error.
<P>
<H2><A NAME="ss8.2">8.2 The Shell utilities still return a bunch of stars (*) when I access a board I know is there.  Now what?</A>
</H2>

<P>It is possible the ca91c042 Linux kernel module has been compromised.  Get root access and type "lsmod" to review the loaded modules.  Do you see the ca91c042?  If yes, try removing it and reinstalling it with "rmmod ca91c042" and then "insmod /path/to/the/ca91c042.o" to get things up again.  If it is not there check to see if you are loading the module when you boot the machine, etc.
<P>
<H2><A NAME="ss8.3">8.3 The Shell utilities still return a bunch of stars (*) when I access a board I know is there.  HELP?</A>
</H2>

<P>Time to get a VMetro board into the VME cage and see if any accesses are occuring.  Also look at the /proc/ca91c042 file to see if the read and write counters are incrementing.
<P>
<H2><A NAME="ss8.4">8.4 How does VMELinux handle interrupts?</A>
</H2>

<P>The driver does handle interrupts, but if you compile your interrupt handler program as a Linux loadable module, that program can handle the interrupts directly.  Examples of this will be available soon.  It is important to note that user level program can be made to handle interrupts, but it is a much better idea to have your interrupt handlers as part of the Linux kernel via loadable modules.  Yes, you can totally hose the kernel if you do something wrong, but that is the trade off between safety and performance.
<P>
<H2><A NAME="ss8.5">8.5 I have RedHat 5.1 and can't get VMELinux programs to compile.</A>
</H2>

<P>RedHat 5.1 includes a new compiler.  If you manually edit the Makefile in each directory to call up the new egcs compiler, things should compile.  We fully intend to support RedHat 5.1 installations, but for now I suggest using 5.0 or Slackware.
<P>
<H2><A NAME="ss8.6">8.6 I have RedHat 6.x so I assume the above issue is fixed.  Right?</A>
</H2>

<P>Maybe.  RedHat threw us, and many other kernel module driver writers, a curveball with the move to the egcs compiler.  Thankfully, the two compiler camps, GCC and egcs, have united their efforts.  All this incompatibility should just go away.  For the moment, however, VMELinux will only be tested with GCC 2.95.x so that is what we suggest you use for a compiler.  If you type "gcc --version" at your prompt and get an "egcs..." back then we cannot say it will work for you.
<P>
<P>
<P>
<HR>
<IMG SRC="../img/next.gif" ALT="Next">
<A HREF="VME-HOWTO-7.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="VME-HOWTO.html#toc8"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
