<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Automount mini-Howto: Questions</TITLE>
 <LINK HREF="Automount-4.html" REL=previous>
 <LINK HREF="Automount.html#toc5" REL=contents>
<SCRIPT src="../../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(2, 8, 2);</SCRIPT>
<IMG SRC="../../img/next.gif" ALT="Next">
<A HREF="Automount-4.html"><IMG SRC="../../img/prev.gif" ALT="Previous"></A>
<A HREF="Automount.html#toc5"><IMG SRC="../../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s5">5. Questions</A></H2>

<P>
<P>
<H2><A NAME="ss5.1">5.1 I don't see /auto/floppy, or whatever mountpoint I'm looking for.</A>
</H2>

<P>If automount is setup properly, whatever mount point you're looking for
will be there if you try and use it, even though you don't see it when not in use. If you're browsing the directory with a
graphical tool, you may need to type in the name manually; most programs will try what you give it, and the drive will be mounted before it notices. Unfortunately not
being able to choose from the available invisible mount points is probably the
major drawback of autofs. If it really bugs you, edit the configuration files.
(Hint, the ones that end in .c for "configuration")
<P>One workaround several people have tried is to create symbolic links to where automount will create something once it's mounted. This will likely prevent the program from complaining a directory doesn't exist (if the mount works, that is) but careless directory listings will cause filesystems to be mounted. 
<P>
<H2><A NAME="ss5.2">5.2 How do I see what's mounted?</A>
</H2>

<P>The <CODE>df</CODE> command. <CODE>mount</CODE> with no options will do the same, plus show the options its mounted with.
<P>
<P>
<P>
<H2><A NAME="ss5.3">5.3 I put in a win95 disk ("vfat") and it was autodetected as only a regular FAT disk.</A>
</H2>

<P>This is not a problem with automount. As of this writing, the "auto" fs type does not attempt a vfat mount before it successfully mounts an msdos filesystem. VFAT is the Win95 and WinNT long filenames crammed into a FAT/MSDOS filesystem.
<P>According to one of the authors of mount, since mount is only a wrapper around a system call which must specify the filesystem type, it's still the responsibility of the user to come up with the fs type. Having mount take a list of filesystems to try in order, rather than the current "heuristic" is under consideration. Some users have simply not compiled msdos into the kernel; this prevents it from being tested prior to vfat. This will work for most people; a few actually need msdos fs and it caused me quite some frustration to not have a module handy when I actually needed it.
<P>I'm sure that if anyone wants to go to the effort of finding the owner(s) of the mount program, your comments would be welcome. So unless you don't compile msdos in, for now this means that you can't mount vfat unless you give up the ability to autodetect all other fs's. Hopefully it will be configurable someday. In the mean time, feel free to create multiple mount points with different fs types specified.
<P>
<P>
<H2><A NAME="ss5.4">5.4 My filesystem <CODE>/auto/grumblesmurf</CODE> is mounted and <CODE>kill -SIGUSR1</CODE> won't unmount it.</A>
</H2>

<P>It's being used by something. Root probably can't manually unmount it
either. If you're the one who caused it to be mounted (i.e. it can't be someone
else using it) look around for a shell that might be in that directory. If
there are none, look for something else (particularly something that might
have gone though that directory like a directory browser) that might have left
an invisible foot in the door so to speak. If you've given up looking, try
using the fuser program.
<P>
<H2><A NAME="ss5.5">5.5 What happens if I make / the directory for the automounter</A>
</H2>

<P>Oooh. Well, out of a statistical sample of only one person, none of the results were positive. You have been warned. If you want /grumblesmurf, then I suggest a symbolic link. Much safer.
<P>
<H2><A NAME="ss5.6">5.6 Can I have two map files on the same directory?</A>
</H2>

<P>Not as far as I know. Try using one map file, with specific options for individual entries.
<P>
<H2><A NAME="ss5.7">5.7 I'm using SuSE 6.0 and needed <CODE>---timeout</CODE> instead of <CODE>--timeout</CODE></A>
</H2>

<P>Uh. Ok, I've made a note about it. Another solution to "timeout not working" problems would be to add a <CODE>-t time</CODE> option to the autofs script.
<P>
<H2><A NAME="ss5.8">5.8 How do I set the permissions and ownership for the filesystem (IE FAT)</A>
</H2>

<P>Check the man page for mount for some of the options, such as setting the uid=value or umask=value options. One option that appears to be missing for FAT filesystems is mode=value. Sorry. Check in with the people who do mounting.
<P>
<H2><A NAME="ss5.9">5.9 Who do I thank for autofs?</A>
</H2>

<P>Not me. I didn't have anything to do with it. I just wanted to bring
everyone's attention to what a great job had been done with autofs, and how
easy it is to use. Compared to the original perpetrators of AMD (Hint, they
sell an overpriced unice with prehistoric versions of free tools) the autofs
is very well documented and the implementors have my sincere thanks. Everything
is stamped copyright Transmeta so sorry I can't provide a credits list, but I
would bet Peter Anvin is responsible for quite a bit of it. Peter also held a
session on autofs at linuxworldexpo on March 3, 1999.
<P>
<H2><A NAME="ss5.10">5.10 Where can I learn more about automounting?</A>
</H2>

<P>There's a autofs tutorial at 
<A HREF=" http://www.linuxhq.com/lg/issue24/nielsen.html"> http://www.linuxhq.com/lg/issue24/nielsen.html</A>.
See also am-utils at 
<A HREF="http://www.cs.columbia.edu/~ezk/am-utils">http://www.cs.columbia.edu/~ezk/am-utils</A><P>(Thanks for these URLs) 
<HR>
<IMG SRC="../../img/next.gif" ALT="Next">
<A HREF="Automount-4.html"><IMG SRC="../../img/prev.gif" ALT="Previous"></A>
<A HREF="Automount.html#toc5"><IMG SRC="../../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
