<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>NFS-Root Mini-Howto: Booting the workstation</TITLE>
 <LINK HREF="NFS-Root-5.html" REL=next>
 <LINK HREF="NFS-Root-3.html" REL=previous>
 <LINK HREF="NFS-Root.html#toc4" REL=contents>
<SCRIPT src="../../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(2, 8, 2);</SCRIPT>
<A HREF="NFS-Root-5.html"><IMG SRC="../../img/next.gif" ALT="Next"></A>
<A HREF="NFS-Root-3.html"><IMG SRC="../../img/prev.gif" ALT="Previous"></A>
<A HREF="NFS-Root.html#toc4"><IMG SRC="../../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s4">4. Booting the workstation</A></H2>

<P>
<H2><A NAME="ss4.1">4.1 Using a boot rom</A>
</H2>

<P>As I have not used such a beast myself yet, I can give you only the
following tips (courtesy of Christian Leutloff <CODE>&lt;leutloff@sundancer.tng.oche.de&gt;</CODE>): 
<UL>
<LI> You can't use ``normal'' bootroms.</LI>
<LI> There is a <CODE>netboot</CODE> packet by Gero Kuhlmann, that provides
for bootroms for Linux, and further information. <CODE>netboot</CODE> is
available from the local Linux mirror, or as a Debian package
(<CODE>netboot-0.4</CODE>).</LI>
<LI> Read the documentation coming with your boot rom carefully.</LI>
<LI> You probably will have to enable the tftpd on the server, but
this depends upon your boot rom's way of loading the kernel.</LI>
<LI> <I>Any informations on bootrom vendors of these Linux variety,
mentioned above, as not everybody has access to prom burner :(
(especially in europe, as I'm located there.) welcome, I'll include
them then here.</I> </LI>
</UL>
<H2><A NAME="ss4.2">4.2 Using a raw kernel disc</A>
</H2>

<P>If you have exported the root filesystem with the correct name for the
default naming and your <EM>NFS</EM> server is also the <EM>RARP</EM> server
(which implies that the boxes are on the same subnet.), than you can
just boot the kernel by <CODE>cat</CODE>ing it to a disc. (You have to set the
root device in the kernel to 0:255.) This assumes, that the root
directory on the server is <CODE>/tftpboot/</CODE><I>IP-Address</I>
(this value can be changed when compiling the kernel.)
<H2><A NAME="ss4.3">4.3 Using a bootloader &amp; <EM>RARP</EM></A>
</H2>

<P>Give the kernel all needed parameters when booting, and add
<CODE>nfsroot=&lt;<EM>server-ip-addr</EM>&gt;:&lt;<EM>/path/to/mount</EM>&gt;</CODE>
where <EM>server-ip-addr</EM> is the IP-address of your NFS-server, and
<EM>/path/to/mount</EM> is the path to the root directory.
<P>Tips:
<UL>
<LI> When using <B>LILO</B> consider using the ``<CODE>lock</CODE>'' feature: Simply
type in once all the correct parameters and add
``<CODE>lock</CODE>''. Next time when booting let LILO timeout.</LI>
<LI> When generating a workstation specific boot disk, you can
also use the <CODE>append=</CODE> feature in <CODE>lilo.conf</CODE>.</LI>
</UL>
<H2><A NAME="ss4.4">4.4 Using a bootloader without <EM>RARP</EM></A>
</H2>

<P>In addition to <CODE>nfsroot</CODE> give a 
<CODE>nfsaddrs=&lt;<EM>wst-IP</EM>&gt;:&lt;<EM>srv-IP</EM>&gt;:&lt;<EM>gw-IP</EM>&gt;:&lt;<EM>netm-IP</EM>&gt;:&lt;<EM>hostname</EM>&gt;</CODE>
commandline argument for the kernel. The kernel will setup <CODE>eth0</CODE>
with the given parameters:
<DL>
<DT><B>wst-IP</B><DD><P>machine's IP-Address
<DT><B>srv-IP</B><DD><P>NFS-server IP-Address
<DT><B>gw-IP</B><DD><P>gateway
<DT><B>netm-IP</B><DD><P>netmask
<DT><B>hostname</B><DD><P>machine name
</DL>
<HR>
<A HREF="NFS-Root-5.html"><IMG SRC="../../img/next.gif" ALT="Next"></A>
<A HREF="NFS-Root-3.html"><IMG SRC="../../img/prev.gif" ALT="Previous"></A>
<A HREF="NFS-Root.html#toc4"><IMG SRC="../../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
