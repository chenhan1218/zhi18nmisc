<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Linux Partition HOWTO: How I did it on my machine</TITLE>
 <LINK HREF="Partition-4.html" REL=previous>
 <LINK HREF="Partition.html#toc5" REL=contents>
<SCRIPT src="../../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(2, 8, 2);</SCRIPT>
<IMG SRC="../../img/next.gif" ALT="Next">
<A HREF="Partition-4.html"><IMG SRC="../../img/prev.gif" ALT="Previous"></A>
<A HREF="Partition.html#toc5"><IMG SRC="../../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s5">5. How I did it on my machine</A></H2>

<P>
<P>There was this old ISA bus 386/40 sitting on my shelf that I
abandoned two years ago because it no longer cut it. I was
planning to turn it into a small X-less server for my
household LAN.
<P>Here is how I did it: I took that 386 and put 16 MB RAM into it.
Added a cheap EIDE disk, the smallest I could get (800 MB) and
an ethernet card. Added an old Hercules
because I still had a monitor for it. Installed
Linux on it and there I have my local NFS, SMB, HTTP,
LPD/LPR and NNTP server as well as my mail router and POP3
server. With an additional ISDN card the machine
became my TCP/IP router and firewall, too.
<P>Most of the disk space on this machine went into the <CODE>/var</CODE>
directories, <CODE>/var/spool/mail</CODE>, <CODE>/var/spool/news</CODE> and
<CODE>/var/httpd/html</CODE>. I put <CODE>/var</CODE> on a separate partition and made
this one large. There will be almost no users on this machine,
so I created no home partition and mounted <CODE>/home</CODE>
from some other workstation via NFS.
<P>Linux without X plus several locally installed utilities will
be fine with a 250 MB partition as <CODE>/</CODE>. The machine has 16 MB of
RAM, but it will be running many servers. 16 MB swap should be
in order, 32 MB should be plenty. We are not short on disk
space, so the machine will get 32 MB.  Out of sentimentality a
MS-DOS partition of some 20 MB is kept on it.  I decided to
import <CODE>/home</CODE> from another machine, so the remaining 500+ MB
will end up as <CODE>/var</CODE>. This is more than sufficient for a
household USENET news feed.
<P>We get
<P>
<BLOCKQUOTE><CODE>
<HR>
<PRE>
Device     Mounted on                      Size
/dev/hda1  /dos_c                           25 MB
/dev/hda2  - (Swapspace)                    32 MB
/dev/hda3  /                               250 MB
/dev/hda4  - (Extended Container)          500 MB
/dev/hda5  /var                            500 MB

homeserver:/home /home                     1.6 GB
</PRE>
<HR>
</CODE></BLOCKQUOTE>
<P>I am backing up this machine via the network using the tape
in <CODE>homeserver</CODE>. Since everything on this machine has been
installed from CD-ROM all I have to save are some
configuration files from <CODE>/etc</CODE>, my customized locally
installed *.tgz files from <CODE>/root/Source/Installed</CODE> and
<CODE>/var/spool/mail</CODE> as well as <CODE>/var/httpd/html</CODE>.  I copy these
files into a dedicated directory <CODE>/home/backmeup</CODE> on <CODE>homeserver</CODE>
every night, where the regular homeserver backup picks them up.
<P>
<HR>
<IMG SRC="../../img/next.gif" ALT="Next">
<A HREF="Partition-4.html"><IMG SRC="../../img/prev.gif" ALT="Previous"></A>
<A HREF="Partition.html#toc5"><IMG SRC="../../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
