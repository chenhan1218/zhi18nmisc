<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Upgrading Your linux Distribution mini-HOWTO: Make separate backups of each group of files you want to preserve.</TITLE>
 <LINK HREF="Upgrade-8.html" REL=next>
 <LINK HREF="Upgrade-6.html" REL=previous>
 <LINK HREF="Upgrade.html#toc7" REL=contents>
<SCRIPT src="../../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(2, 8, 2);</SCRIPT>
<A HREF="Upgrade-8.html"><IMG SRC="../../img/next.gif" ALT="Next"></A>
<A HREF="Upgrade-6.html"><IMG SRC="../../img/prev.gif" ALT="Previous"></A>
<A HREF="Upgrade.html#toc7"><IMG SRC="../../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s7">7. Make separate backups of each group of files you want to preserve.</A></H2>

<P>This is the most variable part of the job, and all I can really do to
help is to describe what I did in my system, in the hope that it will
serve as a rough guide.  Basically, you want to look at every
directory that contains any
<P>
<UL>
<LI> files that aren't part of your standard linux installation, or</LI>
<LI> files that are actually newer than the ones you'll
install when you do your new linux installation</LI>
</UL>
<P>and separate out only those files that you want to carry over.
<P>(Another possible strategy is to back up all files with mtime or
ctime more recent than the day of the previous linux installation,
as mentioned above, and then restore from that.  If you do that,
you have to take into account that the new linux distribution may
contain versions of some files that are newer still than the ones
you saved.)
<P>In my case, I ended up making a .tgz file on the backup medium for
each of
<P>
<UL>
<LI> /usr/lib/rn</LI>
<LI> /usr/lib/smail</LI>
<LI> /usr/lib/trn (the rest of /usr/lib would be reinstalled)</LI>
<LI> /usr/local/src</LI>
<LI> /usr/local/bin</LI>
<LI> /usr/local/lib</LI>
<LI> /usr/local/lpfont</LI>
<LI> /usr/local/man</LI>
<LI> /usr/local/sbin</LI>
<LI> /usr/local/thot (there were other /usr/local files I didn't need)</LI>
<LI> /usr/openwin</LI>
<LI> /usr/src/lilo-17 (because my new Slackware still had version 16)</LI>
<LI> /usr/src/linux-1.2.13 (because I'd done some customizing)</LI>
<LI> /usr/X11R6/lib/X11/app-defaults</LI>
<LI> /usr/X11R6/lib/X11/initrc (the rest of Xfree86 was to be reinstalled)</LI>
<LI> /var/named</LI>
<LI> /var/openwin</LI>
<LI> /var/texfonts</LI>
</UL>
<P>My machine was relatively easy in that there were no spool files to
worry about.  I don't run a news spool on this box, and since there
are only two users, it was easiest just to get all the mail read
before shutting down.  Otherwise, /var/spool directories would have
had to be backed up at the last minute.  (And, of course, the news
library and site directories!)
<P>
<HR>
<A HREF="Upgrade-8.html"><IMG SRC="../../img/next.gif" ALT="Next"></A>
<A HREF="Upgrade-6.html"><IMG SRC="../../img/prev.gif" ALT="Previous"></A>
<A HREF="Upgrade.html#toc7"><IMG SRC="../../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
