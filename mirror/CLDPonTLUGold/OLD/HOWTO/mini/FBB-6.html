<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>FBB Packet-radio BBS mini-HOWTO: How to install an "upgrade" to daemon version of LinFBB</TITLE>
 <LINK HREF="FBB-7.html" REL=next>
 <LINK HREF="FBB-5.html" REL=previous>
 <LINK HREF="FBB.html#toc6" REL=contents>
<SCRIPT src="../../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(2, 8, 2);</SCRIPT>
<A HREF="FBB-7.html"><IMG SRC="../../img/next.gif" ALT="Next"></A>
<A HREF="FBB-5.html"><IMG SRC="../../img/prev.gif" ALT="Previous"></A>
<A HREF="FBB.html#toc6"><IMG SRC="../../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s6">6. How to install an "upgrade" to daemon version of LinFBB</A></H2>

<P>
<H2><A NAME="ss6.1">6.1 LinFBB v7.02g</A>
</H2>

<P><EM>Notice: Well, the main trouble I have discovered with 7.01f 
daemon was the absence of Protus c_filter protection. As I told you
before, Protus is a "third-party" product, so it might have
some problems with the compatibility to LinFBB itself. Anyway,
it is also possible that a daemon version of LinFBB has some
special requirements over some "third-party" software.</EM>
<P>
<P>
<UL>
<LI>I also noticed that my version of Protus was <EM>newer</EM>
than the version of daemon LinFBB I had at first. Beside
that, some hams, as well as F6FBB himself, have suggested me
to upgrade LinFBB. I have also found a "problem" that I am
still new in compiling Linux software, so, I'd rather
look for pre-compiled packages to install easily.

<P>
</LI>
<LI>Jose, HI8GN, has offered daemon LinFBB v7.02g as a 
<CODE>.rpm</CODE> package (18. September 2000). I got it 
from his site:
<A HREF="http://hi8gn.dynip.com/indice.html">http://hi8gn.dynip.com/indice.html</A>. But, when I tried
to install it <EM>over</EM> the previous version 7.01f, it
complained about some existing LinFBB files.

<P>
</LI>
<LI>Then I had to uninstall the old package, after what
some config files remained in their locations, but 
with new <CODE>.rpmsave</CODE> extensions. It was nice, 
so I could use them later to update my new-installed 
config files.

<P>
</LI>
<LI>Btw, the installation of Jose's package was performed
without problems, but the new daemon was not likely to run
as I expected, although I tried to configure it as best 
as I could. Not quite sure, but it looked to me that F6FBB
is likely to implement some changes not only to the main
executables but to shell files too. So, I have decided to
save copies of these new 
<CODE>xfbbd</CODE> and <CODE>xfbbC</CODE> executables from 7.02g 
package (I have made it with adding extensions like 
.702 to the files). After that, I *uninstalled* the rest
of that 7.02 <CODE>.rpm</CODE>, in order to install the previous
version of LinFBB once again - the version that I was
satisfied with.

<P>
</LI>
<LI>So far - so good. The "old" 7.01f version was installed again 
and tested one more time to be sure it was ok. Then, I just 
copied the previously saved executables from the new package,
over the "old" executables. In a couple of minutes, the new 
daemon LinFBB v7.02g has come in place and function. Comments...?

<P>
</LI>
<LI>Well, the new daemon is likely to check for some more directories
than the older version (mostly regarding <CODE>7plus</CODE>
operations). Next, its <CODE>xfbbC</CODE> console client looks better
than the previous version. But, I still miss
<CODE>xfbbX</CODE> client, that I have found not functional.
I hope it will be fixed soon. Finally, Protus
<CODE>c_filter</CODE> utility is active too.

<P>
</LI>
<LI>An interesting question might be: is that now a really upgraded
LinFBB daemon or not? Actually, I haven't changed the "old" 
script <CODE>xfbbd.sh</CODE> with the new one, because during the
first tests with the new 7.02 I was getting lots of error messages.
Looks that the directory structure was a bit complicated for me
to set properly within the new version of <CODE>xfbbd.sh</CODE>.
After I returned to <CODE>xfbbd.sh</CODE> from 7.01 package, the
BBS finally started to be run, though without some functions
like over-night maintaining (that one problem I solve in a way
to boot the BBS as WinFBB under Windows NT where that task is ok).
In addition, there are still some mysterious messages telling
that <CODE>m_filter</CODE> has not been found or something like that. 
The next tasks are to solve these issues.
</LI>
</UL>
<P>
<P>
<H2><A NAME="ss6.2">6.2 LinFBB v7.03</A>
</H2>

<P><EM>Notice: As I have said in the previous section, 
I haven't found an easy way to upgrade FBB's (its main
executables), without temporary uninstalling of an
older version, then to install a newer version in
order to get new executables. After that, a reverse
procedure must be put in place.</EM>
<P>
<P>
<UL>
<LI>Well, it was needed to get 7.03 package (09. December 2000) 
as an <CODE>.rpm</CODE> package from 
<A HREF="http://www.f6fbb.org/versions.html">www.f6fbb.org/versions.html</A>,
that was suggested by Jean-Paul, F6FBB. Anyway,
soon after there appeared several mirror sites, 
offering 7.03 too.

<P>
</LI>
<LI>If you use <EM>GnomeRPM</EM>, it is easy to uninstall
your actual LinFBB (If you just try to install new
<CODE>.rpm</CODE> over the existing LinFBB you will get 
some error messages complaining that you already have
FBB installed on the computer). Anyway, after
the uninstallation, there you will find some config
files as <CODE>.rpmsave</CODE> files, so you could use
them later again.

<P>
</LI>
<LI>Installation of 7.03 package will give you
new executables in <B>/usr/sbin</B> directory.
Those new executables should be temporary given
extensions like <CODE>.703</CODE> (for example).

<P>
</LI>
<LI>So far - so good. Now you should *uninstall* the
7.03 package (of course, <CODE>.703</CODE> files won't
be unistalled automatically).

<P> 
</LI>
<LI>Once again, you should *install* the <EM>last</EM>
one version of LinFBB daemon, that works ok with its
own <CODE>xfbb.sh</CODE> (in my case, that is 7.01f).

<P>
</LI>
<LI>For sure, many of you might find it odd, but
now it is the right time for the executables from
<B>/usr/sbin</B> (I mean of all fbb executables, 
except those who were renamed to <CODE>.703</CODE>) to get
their new extensions (in my case, that is <CODE>.701</CODE>).

<P>
</LI>
<LI>Well, after that is performed, <CODE>.703</CODE> files
should *lose* their previously attached extensions,
in order to become usable.

<P>
</LI>
<LI>Folks, on that point I usually hold my breath, <B>cd</B>
to <B>/usr/sbin</B> and type: <B>xfbb.sh</B>
following with an Enter. If everything is fine, several
lines should scroll on the screen, ending with
something like:
<P>
<BLOCKQUOTE><CODE>
<PRE>
      xfbbC/X server running ...
      xfbbd ready and running ...
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>
</LI>
<LI>If you don't get something similar on your <EM>xterm</EM>
'window' (or on other appropriate terminal
utility), you're out of luck, so you might go
thru the procedure once again in order to be
sure you did all what was needed to be done :->

<P>
</LI>
<LI><B>/usr/sbin/xfbbC</B> is the easiest way to
check if your new 7.03 is in the game
or not. When I mention xfbbC it is good to let
you know, that I kept living in a belief that
xfbbC is also useful for regular telnet users
(who are also supposed to 'connect' to the BBS via
the same computer's console, where LinFBB is
running from). But, I have discovered that my
users, who were <EM>not</EM> declared as sysops,
are allowed to read all messages (including all
private messages), as well as to have some
other sysop's abilities. I did think it was
a matter of probably wrong declared security flags.
But, it was not.

<P>
</LI>
<LI>Recently, I was informed that <B>xfbbC</B>
is suitable only for sysops, but other users
(who also might have local keyboard access)
should rather try:

<P>
<BLOCKQUOTE><CODE>
<PRE>
      telnet localhost 6300
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>
</LI>
<LI>... where 'localhost' and '6300' may vary from
system to system. I was pleasently surprised
when discovered that <B>telnet</B> is much more
useful for regular users than <B>xfbbC</B>.

<P>
</LI>
<LI>Folks, I think of making a section about the
FBB's system configuration. Until something
like that appear on the net, you should know
that all of those callsigns who are going to
use <B>xfbbC</B> have to be added into
your <CODE>passwd.sys</CODE> file. And, all of
those who are going to <B>telnet</B> into
the BBS have to be declared as users with
a 'M' flag (modem users). It is up to your
security precautions, if either of them will
have <EM>'root'</EM> abilities to the Linux box.
<P>
</LI>
<LI>My next issue is to use an old 286/12 MHz box,
having 1 MB of RAM and running DOS 5.0 as a
'telnet client' computer. That box also has
a NIC and I would like to 'connect' to the
BBS computer from that 'telnet client' box.
Due to my preparation for starting another
LinFBB in the local school club, where I
should have several old 286 boxes, would
be nice to offer more than one kid to 
'connect' the BBS simultanously, using
a bunch of 'telnet client' computers.  
     </LI>
</UL>
      
<P>
<P>
<HR>
<A HREF="FBB-7.html"><IMG SRC="../../img/next.gif" ALT="Next"></A>
<A HREF="FBB-5.html"><IMG SRC="../../img/prev.gif" ALT="Previous"></A>
<A HREF="FBB.html#toc6"><IMG SRC="../../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
