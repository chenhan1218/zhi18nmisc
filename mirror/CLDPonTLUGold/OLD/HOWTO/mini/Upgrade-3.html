<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Upgrading Your linux Distribution mini-HOWTO: Introduction</TITLE>
 <LINK HREF="Upgrade-4.html" REL=next>
 <LINK HREF="Upgrade-2.html" REL=previous>
 <LINK HREF="Upgrade.html#toc3" REL=contents>
<SCRIPT src="../../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(2, 8, 2);</SCRIPT>
<A HREF="Upgrade-4.html"><IMG SRC="../../img/next.gif" ALT="Next"></A>
<A HREF="Upgrade-2.html"><IMG SRC="../../img/prev.gif" ALT="Previous"></A>
<A HREF="Upgrade.html#toc3"><IMG SRC="../../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s3">3. Introduction</A></H2>

<P>
<H2><A NAME="ss3.1">3.1 How to slay and reincarnate your linux box!</A>
</H2>

<P>The purpose of this document is to offer tips to help you through the
destruction and reinstallation of a linux system.  It's not a
foolproof cookbook by any means; but I hope it will serve as some
indication of what you need to think about, and of the order in which
to do things.  It would have been a help to me, if someone else had
written something like this before I did my first upgrade; so I hope 
it will be a help to you, if you have a linux machine to rebuild.
<P>Don't take it as gospel, though: your mileage will almost certainly
vary.  Even the directory names in this document may be different from
the ones you need to use; some people have /usr/home instead of /home,
for example; others call it /u, and some (delicate shudder :) even put
all their users directly under /usr itself!  I can't be specific about
your system, so I've just used the names the way they are in mine.
<P>You'll also notice that I use Slackware distributions, and that I
assume you've enough RAM and hard disk space to install linux kernel
source and build your own kernel.  If your system is different, some
of my recommendations won't apply; but I hope you'll still find the
general outline to be of assistance in your rebuild project.
<P>
<H2><A NAME="ss3.2">3.2 Why would anyone want to do that?</A>
</H2>

<P>Good question!  If it can possibly be avoided, don't do it!  (That's
the single most important recommendation in this whole guide!!!)  But
there are times when you may have to.
<P>For example, I installed a 4Gb hard disk and then found out that
Slackware 2.0 vintage linux didn't know a hard disk could have more
than 2Gb, and it got horribly confused.  So I had to upgrade to the
then-current Slackware 2.3.  That upgrade was a gruelling experience,
and it's part of the reason I'm writing these notes.  I did just about
everything wrong, and only good luck and the fact that I had another
running linux box beside me saved me from disaster.
<P>As another example, I found that I just couldn't succeed in building a
working a.out linux kernel in the 1.3 series, using an out-of-the-box
Slackware 2.3 installation (another machine, not the one I botched
before).  I took the plunge, bought Slackware 3.0 on CDROM and
converted to ELF.  This time the reinstallation went better, thanks in
part to the previous bitter experience, and it served as the source of
most of the ideas I'm offering you here.
<P>
<H2><A NAME="ss3.3">3.3 Do you have to ``destroy and reinstall?''</A>
</H2>

<P>It's safer, oddly enough.  If you install over top of an existing
linux system, chances are you'll have a mixture of old and new
binaries, old and new configuration files, and generally a mess to try
to administer.  Wiping the system clean, and then putting back only
what you know you need, is a drastic but effective way to get a clean
result.  (Of course we're talking about installing a whole new linux
distribution here, not about upgrading one or two packages!  The best
way to avoid having to do a full reinstallation is, precisely, to keep
the individual bits -- especially gcc and its libraries, and binutils
-- current.  If the stuff you use is reasonably up-to-date, and you
can keep it so by bringing in, and if need be compiling, new code from
time to time, then there's no need for a mass upgrade.)
<P>As Patrick Volkerding points out (he too recommends the wipe-it-clean
procedure for upgrades), installing ELF on top of a running a.out
system is a recipe for disaster; at least, if you know enough to try
it, you needn't read this guide!
<P>Even without that complication, though, you're better to build from
scratch.
<P>
<H2><A NAME="ss3.4">3.4 How long will it take?</A>
</H2>

<P>Depends, of course, on how complex your system is.  But I figure that,
for the successful upgrade (the other one? -- don't ask! :) I spent
about ten hours making backups, six hours rebuilding the system to the
point where I could enable logins, and another half day or thereabouts
restoring the less-crucial stuff.  As time passes I keep discovering
little things that still aren't exactly as I want them -- I fix these
as they're encountered -- but in the main, twenty hours' work should
suffice for a reasonably complex rebuilding job.  Maybe less if you're
reinstalling from hard disk (I used CDROM) or more if you need to
install from floppies.  Maybe less if you've got a fast Pentium, more
if it's a 386.  You get the idea.
<P>So much for the introduction.  Here's how to set about it, once you've
decided it must be done.  Arm yourself with fortitude and Jolt or
whatever, and:
<P>
<HR>
<A HREF="Upgrade-4.html"><IMG SRC="../../img/next.gif" ALT="Next"></A>
<A HREF="Upgrade-2.html"><IMG SRC="../../img/prev.gif" ALT="Previous"></A>
<A HREF="Upgrade.html#toc3"><IMG SRC="../../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
