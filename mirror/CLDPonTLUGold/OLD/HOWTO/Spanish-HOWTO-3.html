<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Spanish Linux HOWTO: Ayuda a la instalación de la distribución Slackware</TITLE>
 <LINK HREF="Spanish-HOWTO-4.html" REL=next>
 <LINK HREF="Spanish-HOWTO-2.html" REL=previous>
 <LINK HREF="Spanish-HOWTO.html#toc3" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 8, 1);</SCRIPT>
<A HREF="Spanish-HOWTO-4.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="Spanish-HOWTO-2.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="Spanish-HOWTO.html#toc3"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s3">3. Ayuda a la instalación de la distribución Slackware</A></H2>

<P>
<P><EM>Este es un extracto de la <CODE>Installation-HOWTO</CODE>, orientada fundamentalmente
a la instalación de Linux Slackware. Mucha de la información sobre
instalacion de Slackware es aplicable a cualquier versión de Linux, pero
no necesariamente al pie de la letra.</EM>
<P>
<P>Aparte de otras muchas variantes que se puedan considerar, a la hora de
instalar Linux en nuestro disco duro hay básicamente
dos formas: UMSDOS y Partición nativa. Cada una tiene
sus ventajas e inconvenientes, pero como se verá es recomendable que
todos los usuarios terminen usando el segundo método ya que es el más
eficiente y el que mejor aprovecha las ventajas de Linux.
<P>
<H2><A NAME="ss3.1">3.1 Instalación con UMSDOS</A>
</H2>

<P>
<P>Consiste en aprovechar el espacio de disco que queda libre en los PCs con MSDOS,
sin necesidad de tocar las particiones de disco. Linux es un sistema operativo,
y como tal totalmente independiente, no requiriendo por tanto ningun otro
sistema operativo en su ordenador (aunque puede convivir perfectamente con
ellos). Sin embargo es un parque muy amplio el de usuarios que ya tienen
instalado MSDOS y/o MS-Windows y que, al no considerase expertos, no se atreven en
un primer momento a reparticionar el disco para sustituir total o parcialmente
a su sistema actual. Para ellos, o simplemente para quien quiera ver y probar
Linux sin ser tan drasticos formateando discos duros, la solución es UMSDOS. Permite crear, a partir
de un directorio de MSDOS, toda la estructura que tendría un disco nativo
de Linux. Cuando arranque el sistema, Linux emulará su disco a partir
de la información en ese directorio. Es totalmente funcional, pero puede
ser ligeramente más lento en ordenadores de gama media-baja y no aprovecha la
gestión de disco nativo. Una gran ventaja es que si se libera disco en Linux,
implícitamente estamos creando espacio que será aprovechable cuando arranquemos
MSDOS, y viceversa. Además, el día que queramos deshacernos de Linux (¡poco
probable!) o que simplemente nos decidamos a hacer una instalación completa,
desinstalar ese Linux es tan sencillo como simplemente borrar sin contemplaciones
el directorio <CODE>C:\LINUX</CODE> que creó desde MSDOS.
<P>
<H2><A NAME="ss3.2">3.2 Instalación en partición nativa de Linux.</A>
</H2>

<P>
<P>Salvo la fase inicial en la que se preparan las particiones nativas o el
UMSDOS, el procedimiento restante de instalación es básicamente el mismo.
Ya que puede ser el que provoque más dudas, centraremos estos consejos
de instalación en la instalación con partición nativa. Pero recuerde que
<P>
<HR>
<PRE>
   ESTO NO ES UNA GUIA DE INSTALACION, SINO UN COMPLEMENTO A LAS
   INTRUCCIONES DE INSTALACION DE SU VERSION DE LINUX.

   LEA LA INSTALLATION-HOWTO Y/O EL MANUAL QUE ACOMPAñA A SU DISTRIBUCION
   ANTES DE COMENZAR, O DE LO CONTRARIO PUEDE FALLAR LA INSTALACION E
   INCLUSO INUTILIZAR EL SOFTWARE QUE PUEDA TENER YA INSTALADO EN SU
   ORDENADOR.

   LA DISTRIBUCION TOMADA COMO BASE ES LINUX SLACKWARE 3.0. EL PROCEDIMIENTO
   PUEDE VARIAR DE UNAS VERSIONES A OTRAS. EN CASO DE DUDA ACUDA A LOS
   MANUALES DE SU SISTEMA O CONSULTE A LOS CANALES DE AYUDA Y SOPORTE LINUX
   HABITUALES (EN INTERNET O A SU DISTRIBUIDOR)

   LOS AUTORES DE ESTA DOCUMENTACION NO SE RESPONSABILIZAN DE LOS POSIBLES
   DESASTRES QUE PUEDA OCASIONAR. SI DECIDE CONTINUAR ES BAJO SU EXCLUSIVA
   RESPONSABILIDAD. (Nos gusta dormir tranquilos ;^) )
</PRE>
<HR>
<P>
<H3>Preliminares</H3>

<P>
<P>En esta instalación es necesario que LINUX disponga de una partición
distinta a la de MSDOS para trabajar. Si ya tiene algún sistema instalado,
lo más frecuente es que sea una única partición DOS que ocupe todo el disco,
por lo que reparticionar supone eliminar esa partición para volver a crearla
asignándole menos disco para hacer sitio a Linux (o para dárselo totalmente,
según la instalación escogida). Eso supone perder como norma general
todos los datos en las particiones ya existentes.
<P>Existe, sin embargo, una utilidad anexa a Linux que corre sobre MSDOS y que
permite "encoger" una partición de DOS siempre que la unidad tenga espacio
libre y haya sido totalmente defragmentada (con la utilidad "DEFRAG" de MSDOS 6.x
o similares). Esto le permitirá crear nuevas particiones conservando sus datos
en la partición MSDOS actual. Esta utilidad se llama <CODE>"fips"</CODE> y la encontrará
en su servidor habitual en la red junto a otras utilidades de MSDOS para
ayudar a la instalación de Linux.
<P>LEA LA DOCUMENTACION DE FIPS ANTES DE UTILIZARLO.
<P>Primero debe liberar en MSDOS el espacio que pretenda reservar para la
nueva partición de Linux (y para el espacio de swap, como después se
comentará). Después debe defragmentar la partición de DOS con la utilidad
"defrag" que acompaña a las últimas versiones de DOS, o bien sus equivalentes
de PCTools o Norton. Ahora puede correr el programa fips y crear una nueva
partición con el espacio liberado. Lo habitual será crear dos particiones:
una <EM>Linux native</EM> para el sistema, y una <EM>Linux swap</EM> con por ej. el doble
que de RAM, pero en caso de necesidad incluso puede ahorrarse una partición
específica para swap, y "robar" ese espacio de disco bien a MSDOS o al propio
Linux.
<P>
<H3>Formateo de la partición.</H3>

<P>Una vez añadida la nueva partición que destinaremos a Linux, hay que preparar
la siguiente etapa, el arranque de Linux, ya que salvo el apartado anterior
en el que salvaguardamos la instalación previa de MSDOS, toda la instalación
se hará desde el propio Linux. Para arrancar necesitaremos dos disquetes
(en algunas distribuciones como RedHat pueden ser tres), donde grabaremos
tanto el núcleo del sistema operativo como los primeros programas con los que
poder empezar a instalar. El primer disquete es el que etiquetaremos como
"boot disk", y es donde irá el núcleo del sistema con el que arrancar. Como
Linux es casi un sistema "a la carta", que puede llevar en el núcleo más o
menos funcionalidades según nuestras necesidades, deberemos escoger entre
los núcleos precompilados aquel que se adapte mejor a nuestro caso. En el
futuro será recomendable que incluso recompilemos nuestro propio núcleo
para personalizarlo aún más, añadir lo que falte y simplificar lo que
sobre en nuestro caso. El siguiente disquete es el "root disk" o "ramdisk",
que incluye el software mínimo que cargaremos en memoria para la instalación.
<P>En la distribución de Linux tendremos una serie de ficheros que constituyen
"imágenes" de esos disquetes. Es decir, una vez elegidas qué diquetes
necesitaremos, los crearemos a partir de esas imágenes,
bien desde otro sistema Linux ya funcionando (o incluso de cualquier Unix en
general), bien desde MSDOS con otra utilidad complementaria de "fips":
"rawrite".
<P>Una vez hecho esto ya puedes arrancar con tus discos. Introduce el "boot
disk", arranca el ordenador y sigue sus instrucciones. Cuando finalice la
fase de arranque Slackware te ofrecerá un símbolo para hacer "login" (entrar en el
sistema), mientras que RedHat arrancará directamente la aplicación de
instalación. Utiliza el nombre "root" como nombre de usuario (es el super-usuario
que administra el sistema). La primera vez no necesitarás clave alguna para
entrar.
<P>Ya estas en el prompt de Linux, desde donde puedes crear tus particiones y
tu espacio de swap (es una zona especial de disco que Linux usa como memoria
virtual que complementa a la memoria RAM del ordenador). Al igual que en MSDOS,
el comando para gestionar particiones se llama "fdisk". En algunas versiones
hay también una "cfdisk" con un interfaz más asequible, aunque iguales en
lo básico.
<P>Si posees una partición de MSDOS, no te asustes, sigue adelante, no la vas
a perder simplemente por entrar en fdisk, pero sí que debes tener precaución
al añadir la partición linux sobre el espacio que le habíamos quitado a MSDOS,
para no afectar a éste.
<P>Dentro de fdisk usa la opción 'n' para añadir nuevas particiones. Dalas de 
alta como particiones primarias (si ya tienes una particion de arranque con
MSDOS, ésta será la partición 1 y a partir de ahí añadirás particiones Linux).
Es ahora el momento de añadir el espacio de swap, conveniente siempre, e
incluso imprescindible si se dispone de memoria igual o inferior a 8Mb. Como
regla orientativa puede servir tener el doble de swap que RAM (para 8Mb o menos
de RAM), y 1.5 veces para memorias superiores, pero depende de la disponibilidad
de disco y de memoria que tengamos, así como del uso que le vayamos a dar. En
realidad será tu experiencia la que te irá diciendo en sucesivas instalaciones
cuánto swap necesitas. En caso de disponer de más de un disco duro es muy
recomendable tener separadas las particiones de linux y de swap (por ej. DOS+swap
en uno y linux en el otro), lo que mejorará el rendimiento global.
<P>Una vez creadas las particiones, hay que definir también en fdisk el uso
que van a tener (tipo de partición), siendo obviamente "linux swap partition"
(tipo 83) para el swap, y "Linux native partition" para el propio linux. Al final,
y siguiendo con este ejemplo, tendrás tres particiones definidas:
<P>
<UL>
<LI>MSDOS, marcada como "activa", con el arranque.</LI>
<LI>Linux swap.</LI>
<LI>Linux Native, donde residirá el linux.</LI>
</UL>
<P>NO TENGAS MIEDO POR TOCAR Y PROBAR: HASTA QUE NO USES LA OPCION DE ESCRIBIR
A DISCO, PUEDES HACER TODO TIPO DE PRUEBAS Y/O CANCELARLO TODO HASTA ESTAR
SEGURO Y GRABAR LA NUEVA TABLA DE PARTICIONES.
<P>Es probable que haya que rearrancar si modificamos las particiones, y continuar
con el software de instalación de nuestro Linux. En el caso de Slackware, ese
software de instalación ya necesita al menos 8Mb de memoria, por lo que si estamos
justos de memoria tendremos que activar ya mismo el swap antes de ejecutarlo. Si
ese es el caso, hay que hacerlo en dos pasos: formatear la partición de swap y
luego activarla para que empiece a complementar la RAM. Los comandos serían
<P>
<HR>
<PRE>
  mkswap -c /dev/hdXX
  swapon /dev/hdXX
</PRE>
<HR>
<P>donde <CODE>/dev/hdXX</CODE> sería el nombre de la partición que hemos definido
como swap. Una vez hecho esto, Slackware ya aporta una utilidad de instalación que
detectará las particiones creadas y procederá con el resto de la instalación
con la aplicación "setup", que nos guiará durante toda la instalación con un
sencillo interfaz de menús, que no requiere muchas explicaciones. Durante una de
las etapas de la instalación Setup intentará preparar el swap. Si lo hemos hecho
ya a mano habrá que indicarle que se lo salte, mientras que en el resto de los casos
dejaremos que setup haga todo lo que tenga que hacer.
<P>
<H3>Instalación de los discos.</H3>

<P>
<P>Slackware divide la distribución del sistema operativo en "series" temáticas,
y a su vez cada una de ellas en directorios que se corresponden perfectamente con
disquetes de 1.44Mb. Los discos esenciales serían los de la "Serie A", con los que
el sistema ya es arrancable autónomamente desde el disco duro, aunque en la práctica
lógicamente instalaremos también la "AP" (aplicaciones básicas), "N" (software
de red, si vamos a conectarnos con cualquier modalidad), "D" (compiladores y librerías),
"X" y "XAP" para el entorno gráfico XFree86.
<P>Por su parte RedHat organiza el software también en "paquetes" instalables de forma
independiente y también agrupados por temas, aunque no sigue ningún esquema
traducible en disquetes, por lo que las únicas vías de instalación son CDROM
o directamente de la red.
<P>
<H3>Configuración</H3>

<P> 
<P>Una vez cargados a disco los paquetes de software, la siguiente fase será la de
configuración, que se realiza desde el mismo programa de setup. Como esta parte es
muy variable y depende de cada caso. Nos centraremos en dos puntos típicamente
problematicos: el arranque del sistema (incluida la posibilidad de arrancar múltiples
sistemas operativos desde distintas particiones o distintos discos) y la configuración
de red
<P>Para instalar un método de arranque de Linux hay dos utilidades: "Lilo" y "Loadlin".
La primera es un pequeño programa que se instala en el "Master boot record" del disco
duro o en la partición que fdisk marcó como "activa", y que permite arrancar
indistintamente Linux, DOS 6.x, Windows95, etc. La segunda es una utilidad de MSDOS que
permite dejar en paz los arranques de particiones, haciendo en su lugar un "arranque
en caliente" directamente desde DOS. Ambos funcionan bien, por lo que elegir una u otra es cuestión
de preferencias de cada cual. En el segundo caso podrí darnos algún error si
hubiera algún programa de DOS residente en memoria que
pueda obstaculizar la carga de Linux. Eso es relativamente facil de solucionar jugando
un poco con las configuraciones de DOS (incluso con los menus de arranque que incorpora
el config.sys de MSDOS 6.x), pero incluso en ese caso podemos encontrarnos dos obstaculos
mas: si tenemos instalado DoubleSpace/Drivespace hay que evitar que se cargue en memoria pulsando F8
durante el inicio de DOS para poder ejecutar Loadlin (no hay otra forma de pararlo ya que
normalmente se carga incluso antes que config.sys), y ademas si usamos Windows95 hay que
pulsar igualmente F8 para arrancar con solo el símbolo del sistema, evitando entrar en el
modo gráfico.
<P>Linux puede convivir con cualquier sistema operativo, pero unos dan mas dolores de cabeza
que otros, por lo que en caso de duda acude a la documentación correspondiente (la de
instalación de la propia distribución y la Booting-HOWTO. De todas formas, si una
vez instalado Linux no conseguimos arrancarlo (sabemos que está ahí pero no conseguimos
entrar en él), siempre queda un recurso asequible: introduce el "boot disk" y en vez de
darle a INTRO cuando te aparezca un simbolo "boot", teclea <CODE>root=</CODE>dev/XXXX/ indicando
que ya hay un Linux en la partición correspondiente, y que debe usarlo en vez de
continuar con una hipotética instalación. Lo único diferente es que se estaría
usando el núcleo (kernel) del disquete en vez del instalado en el disco duro, pero a
partir de ahí montará la partición del disco duro y usará todo lo ya instalado allí.
<P>Otro problema frecuente (solventado en la última version de RedHat pero no aún en
Slackware) es que graba en el disco duro un núcleo genérico en vez del que hayamos
usado en el "boot disk", que era precisamente el que habíamos elegido, por lo que es
habitual que, si necesitamos algún controlador específico
para algún dispositivo o cualquier otra funcionalidad, cuando arranquemos directamente desde el disco duro ya no nos
lo reconocerá. Si estamos usando LILO haz lo siguiente para arreglarlo: entra como
superusuario, copia la imagen que habias usado para generar el "boot disk" sobre el
fichero "/vmlinuz" del disco duro y ejecuta "lilo" para reinstalar el arranque con el
núcleo correcto. Si estas usando LOADLIN, simplemente dale como parámetro el fichero
del núcleo correcto (es facil tener varios núcleos y elegir en cada caso
el que interese). Seguir arrancando con el disquete como en el caso anterior sería también
otra posibilidad para no perder ese CDROM, esa tarjeta, etc.
<P>
<HR>
<A HREF="Spanish-HOWTO-4.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="Spanish-HOWTO-2.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="Spanish-HOWTO.html#toc3"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
