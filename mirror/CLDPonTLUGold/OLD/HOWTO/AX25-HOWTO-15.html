<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Linux AX25-HOWTO, Amateur Radio.: Configuring the pms</TITLE>
 <LINK HREF="AX25-HOWTO-16.html" REL=next>
 <LINK HREF="AX25-HOWTO-14.html" REL=previous>
 <LINK HREF="AX25-HOWTO.html#toc15" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 8, 1);</SCRIPT>
<A HREF="AX25-HOWTO-16.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="AX25-HOWTO-14.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="AX25-HOWTO.html#toc15"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s15">15. Configuring the <EM>pms</EM></A></H2>

<P>The <EM>pms</EM> program is an implementation of a simple personal message
system. It was originally written by Alan Cox. Dave Brown, N2RJT,
<CODE>&lt;dcb@vectorbd.com></CODE> has taken on further development of it.
At present it is still very simple, supporting only the ability to send
mail to the owner of the system and to obtain some limited system information
but Dave is working to expand its capability to make it more useful.
<P>After that is done there are a couple of simple files that you should create
that give users some information about the system and then you need to add
appropriate entries into the <CODE>ax25d.conf</CODE> file so that connected users
are presented with the PMS.
<P>
<P>
<H2><A NAME="ss15.1">15.1 Create the <CODE>/etc/ax25/pms.motd</CODE> file.</A>
</H2>

<P>The <CODE>/etc/ax25/pms.motd</CODE> file contains the `message of the day' that
users will be presented with after they connect and receive the usual BBS
id header. The file is a simple text file, any text you include in this file
will be sent to users.
<P>
<H2><A NAME="ss15.2">15.2 Create the <CODE>/etc/ax25/pms.info</CODE> file.</A>
</H2>

<P>The <CODE>/etc/ax25/pms.info</CODE> file is also a simple text file in which
you would put more detailed information about your station or configuration.
This file is presented to users in response to their issuing of the
<CODE>Info</CODE> command from the <CODE>PMS></CODE> prompt.
<P>
<H2><A NAME="ss15.3">15.3 Associate AX.25 callsigns with system users.</A>
</H2>

<P>When a connected user sends mail to an AX.25 callsign, the <EM>pms</EM> expects
that callsign to be mapped, or associated with a real system user on your
machine. This is described in a section of its own.
<P>
<H2><A NAME="ss15.4">15.4 Add the PMS to the <CODE>/etc/ax25/ax25d.conf</CODE> file.</A>
</H2>

<P>Adding the <EM>pms</EM> to your <CODE>ax25d.conf</CODE> file is very simple.
There is one small thing you need to think about though. Dave has added command
line arguments to the PMS to allow it to handle a number of different text
end-of-line conventions. AX.25 and NetRom by convention expect the end-of-line
to be <EM>carriage return, linefeed</EM> while the standard unix end-of-line is
just <EM>newline</EM>. So, for example, if you wanted to add an entry that
meant that the default action for a connection received on an AX.25 port is
to start the PMS then you would add a line that looked something like:
<P>
<BLOCKQUOTE><CODE>
<PRE>
default  1  10 5 100 5   0    root  /usr/sbin/pms pms -a -o vk2ktj
</PRE>
</CODE></BLOCKQUOTE>
<P>This simply runs the <EM>pms</EM> program, telling it that it is an AX.25
connection it is connected to and that the PMS owner is <CODE>vk2ktj</CODE>.
Check the <EM>man</EM> page for what you should specify for other connection
methods.
<P>
<H2><A NAME="ss15.5">15.5 Test the PMS.</A>
</H2>

<P>To test the PMS, you can try the following command from the command line:
<PRE>
# /usr/sbin/pms -u vk2ktj -o vk2ktj
</PRE>

Substitute your own callsign for mine and this will run the pms, telling it
that it is to use the unix end-of-line convention, and that user logging in
is <CODE>vk2ktj</CODE>. You can do all the things connected users can.
<P>Additionally you might try getting some other node to connect to you to
confirm that your <CODE>ax25d.conf</CODE> configuration works.
<P>
<HR>
<A HREF="AX25-HOWTO-16.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="AX25-HOWTO-14.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="AX25-HOWTO.html#toc15"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
