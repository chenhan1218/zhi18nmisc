<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Linux Laptop-HOWTO: Different Environments - On the Road</TITLE>
 <LINK HREF="Laptop-HOWTO-11.html" REL=next>
 <LINK HREF="Laptop-HOWTO-9.html" REL=previous>
 <LINK HREF="Laptop-HOWTO.html#toc10" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 8, 1);</SCRIPT>
<A HREF="Laptop-HOWTO-11.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="Laptop-HOWTO-9.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="Laptop-HOWTO.html#toc10"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s10">10. Different Environments - On the Road</A></H2>

<P>
<H2><A NAME="ss10.1">10.1 Related HOWTOs</A>
</H2>

<P>
<P>
<OL>
<LI>Security-HOWTO</LI>
<LI>Multiboot-with-LILO-mini-HOWTO</LI>
<LI>Ethernet-HOWTO</LI>
<LI>NET-3-HOWTO</LI>
<LI>Offline-Mailing-mini-HOWTO</LI>
<LI>Plip-mini-HOWTO</LI>
<LI>Slip-PPP-Emulator-mini-HOWTO</LI>
</OL>
<P>
<H2><A NAME="ss10.2">10.2 Configuration Tools</A>
</H2>

<P>
<H3>NetEnv</H3>

<P>Do you use your laptop in different network environments? At home? In the office? At a customers site?
<P>If yes, the small package &quot;netenv&quot; might be useful for you. When booting your laptop it provides you with a simple interface from which you can choose the current network environment. The first time in a new environment, you can enter the basic data and save it for later reuse.
<P>Netenv sets up a file containing variable assignments which describe the current environment. This can be used by the PCMCIA setup scheme, e.g. like the one that comes with Debian/GNU Linux and perhaps others.
<P>The netenv data can be used for things like:
<P>
<OL>
<LI>Network Device: Configure the network device for different environments.</LI>
<LI>Choose a proper XF86Config: Think of using your laptop standalone with touchpad vs. connected to a CRT monitor along with an external mouse. For example, a wheel mouse could be used when docked, but the driver is not compatible with the normal trackpoint or touchpad.</LI>
<LI>Windowmanager: You can set up your windowmanager according to the current location of your machine.</LI>
<LI>Printing Environment: The netenv data can easily be used to set up the printing environment.</LI>
</OL>
<P>Netenv is available as Debian/GNU Linux package as well as tarball. It depends on <CODE>dialog(1)</CODE> for the menu system. It is developed by Gerd Bavendiek 
<A HREF="mailto:bav@rw.sni.de">bav@rw.sni.de</A> you may get it at 
<A HREF="http://www.uni-bielefeld.de/~portgym/net/netenv.html">http://www.uni-bielefeld.de/~portgym/net/netenv.html</A> .
<P>
<H3>divine</H3>

<P>
<A HREF="http://www.fefe.de/divine/">divine</A> is an utility for people who use their machines in different networks all the time. &quot;The idea is this:
<P>
<UL>
<LI>you describe the possible networks in /etc/divine.conf, including one or more machines that are probably up (routers and NIS servers come to mind).
</LI>
<LI>at boot time, you run divine.
</LI>
<LI><CODE>divine</CODE> starts a thread that injects fake arp requests into the network.  The thread will try again up to three times, pausing 1 second between retries.  If the last try times out again, the thread will print an error message, leave the interface in the original state and exit cleanly.
</LI>
<LI>the main thread just looks for arp replies and exits if one is found.
</LI>
<LI>You have one resolv.conf per network, for example /etc/resolv.conf.default and /etc/resolv.conf.work, and <CODE>divine</CODE> will symlink one of them to /etc/resolv.conf for you.
</LI>
<LI>You can specify a proxy server plus port and divine will write the  proxy server to /etc/proxy. This can be evaluated inside your shell startup script, like this (<CODE>zsh</CODE>):

<HR>
<PRE>
export http_proxy="http://`&lt;/etc/proxy`/"
</PRE>
<HR>

The included perl script edit-netscape-proxy.pl will edit the proxy settings in your Netscape 4 preferences file.
</LI>
<LI>You can even specify an additional script to be run for each selection.  You can use this to edit /etc/printcap or /etc/issue or do something else I forgot.
</LI>
</UL>
<P>
<P>The point about <CODE>divine</CODE> in contrast to other solutions is that other solutions normally use <CODE>ping</CODE> or something like that. <CODE>divine</CODE> can check a large number of networks instantaneously, assuming that the machines you ping answer within one second (.4 seconds are normal on Ethernets). And pinging an unknown address will do an arp request anyway, so why not do an arp request in the first place?&quot;
<P>
<H3>Mobile IP</H3>

<P>From the NET3-4-HOWTO: &quot;The term <I>IP Mobility</I> describes the ability of a host that is able to move its network connection from one point on the Internet to another without changing its IP address or losing connectivity. Usually when an IP host changes its point of connectivity it must also change its IP address. IP Mobility overcomes this problem by allocating a fixed IP address to the mobile host and using IP encapsulation (tunneling) with automatic routing to ensure that datagrams destined for it are routed to the actual IP address it is currently using.&quot;
<P>
<A HREF="http://www.cs.hut.fi/Research/Dynamics/Dynamics">HUT Mobile IP</A> is a dynamical, hierarchical Mobile IP system for Linux operating system. The implementation enables a hierarchical model for IP mobility, thus decreasing the location update times as a mobile host moves. Dynamics system has been designed Wireless LAN technology in mind, and the system has optimized functionality for mobility in WLAN. There is now a mailing list available. You can join it by sending <I>subscribe</I> on the subject line to &lt;dynamics-user-request@cs.hut.fi&gt; - or you can simply check the 
<A HREF="http://www.cs.hut.fi/Research/Dynamics/mail/user"> mail archive</A>.
<P>
<H3>Resources</H3>

<P>
<P>
<OL>
<LI>
<A HREF="http://anchor.cs.binghamton.edu/~mobileip/">Linux Mobile-IP</A>
</LI>
<LI>
<A HREF="http://hplbwww.hpl.hp.com/people/jt/MobileIP/index.html">Linux Mobile IP from HP Labs Bristol by Manuel Rodr&iacute;guez</A>
</LI>
<LI>
<A HREF="http://mosquitonet.Stanford.EDU/software/mip.html">MosquitoNet Mobile IP</A>
</LI>
<LI>
<A HREF="http://mip.ee.nus.sg/">Mobile IP at NUS</A>
</LI>
<LI>
<A HREF="http://anchor.cs.binghamton.edu/~mobileip/">Linux Mobile-IP</A>
</LI>
<LI>
<A HREF="http://http.cs.berkeley.edu/~randy/Daedalus/BARWAN/">Bay Area Research Wireless Access Network (BARWAN)</A>
</LI>
</OL>
<P>Sources: Kenneth E. Harker and Dag Brattli
<P>
<H3>DHCP/BootP</H3>

<P>DHCP and BootP are also useful for working in different environments. Please see the DHCP-HOWTO and BootP-HOWTO.
<P>
<H3>PPPD Options</H3>

<P>The <CODE>pppd</CODE> command can be configured via several different files: <CODE>pppd file /etc/ppp/&lt;your_options&gt;</CODE> .
<P>
<H3>/etc/init.d</H3>

<P>You may even choose to do your configuration by editing the /etc/init.d files manually.
<P>
<H3>PCMCIA - Schemes</H3>

<P>How can I have separate PCMCIA device setups for home and work? This is fairly easy using PCMCIA <I>scheme</I> support. Use two configuration schemes, called <CODE>home</CODE> and <CODE>work</CODE>. For details please read the according chapter in the PCMCIA-HOWTO by David Hinds.
<P>
<H3>Bootloaders</H3>

<P>
<H3>LILO</H3>

<P>From 
<A HREF="http://www.mjedev.demon.co.uk/index.html">http://www.mjedev.demon.co.uk/index.html</A> &lt;Martin J. Evans martin@mjedev.demon.co.uk&gt; I have taken this recommendation: The first point to note is that <CODE>init</CODE> will take any arguments of the form <CODE>name=value</CODE> as environment variable assignments if they are not recognized as something else. This means you can set environment variables from the LILO boot prompt before your rc scripts run. I set the <CODE>LOCATION</CODE> environment variable depending on where I am when I boot Linux. e.g.
<HR>
<PRE>
LILO: linux LOCATION=home
</PRE>
<HR>

Or
<HR>
<PRE>
LILO: linux LOCATION=work
</PRE>
<HR>

Or simply
<HR>
<PRE>
LILO: linux
</PRE>
<HR>

where failing to set <CODE>LOCATION</CODE> means the same as <CODE>LOCATION=home</CODE> (i.e. my default). Instead of typing <CODE>LOCATION=place</CODE> each time you boot you can add an entry to your /etc/lilo.conf file and use the append instruction. e.g.
<HR>
<PRE>
# Linux bootable partition for booting Linux at home
#
image = /vmlinuz
root = /dev/hda3
label = linux
read-only
# Linux bootable partition config ends
#
# Linux bootable partition for booting Linux at work
#
image = /vmlinuz
root = /dev/hda3
label = work
read-only
append=&quot;LOCATION=work&quot;
# Linux bootable partition config ends
</PRE>
<HR>

With the example above you can use &quot;linux&quot; for booting at home and &quot;work&quot; for booting at work.
<P>Armed with the facility above, you can now edit the relevant rc scripts to test ENVIRONMENT before running <CODE>ifconfig</CODE>, setting up <CODE>route</CODE> etc.
<P>
<H3>Other Bootloaders</H3>

<P>There are several other bootloaders which are often overlooked. Besides LILO, have a look at loadlin, CHooseOS (CHOS) (not GPL), GRand Unified Bootloader (GRUB), System Commander and take a look at 
<A HREF="ftp://metalab.unc.edu/pub/Linux/system/boot/loaders/">ftp://metalab.unc.edu/pub/Linux/system/boot/loaders/</A>. The NT boot loader or OS/2 boot loader may even be used.
<P>
<H3>X-Windows</H3>

<P>From Steve &lt;steve@cygnet.co.uk&gt; I got a configuration for X windows with an external monitor: Note that I have introduced a neat trick! For my nice 17&quot; monitor I start X with no options and get the default 16-bit 1152x864 display - but when using the LCD screen I specify a 15-bit display (<CODE>startx -- -bpp 15</CODE>) and get the correct 800x600 resolution automatically. This saves having to have two XConfig files.
<P>
<H3>E-Mail</H3>

<P>A short introduction about how to setup email on a laptop used at home (dial-up) and work (ethernet) by Peter Englmaier &lt;ppe@pa.uky.edu&gt;:
<P>
<H3>Features</H3>

<P>As a laptop user, I have special demands for my email setup. The setup described below, enables me to:
<P>
<UL>
<LI>Read my email from <I>home</I> using a POP email server, which is supplied by my university, but could also be setup on a <I>work</I> place computer.</LI>
<LI>Write email from home with the <I>right</I> return address in the email (which does not mention my computer name).</LI>
<LI>Read/write my email while working on a workstation without access to my laptop or the POP email server (as a backup).</LI>
<LI>Read my email while working on my laptop connected to the ethernet of our institut.</LI>
<LI>Direct email while connected via ethernet (faster than the fetchmail method).</LI>
<LI>Indirect email (over pop mail server) while not connected to the ethernet at work (either at home via modem or somewhere else via ethernet).</LI>
<LI>Use any emailer, e.g. <CODE>elm</CODE> or the simple <CODE>mail</CODE> command.</LI>
<LI>Sort incomming email, delete spam, split email-collections (digests) into seperate emails</LI>
</UL>
<P>The configuration is based on <CODE>sendmail</CODE>, <CODE>fetchmail</CODE>, and a <I>remote pop account</I> for email.
<P>
<H3>Configuration of sendmail</H3>

<P>This is the most complicated part. Having installed the <CODE>sendmail-cf</CODE> package, I created a file named /usr/lib/sendmail-cf/laptop.mc:
<P>
<HR>
<PRE>
divert(-1)
include(`../m4/cf.m4')
define(`confDEF_USER_ID',''8:12'')
define(`confBIND_OPTS',`-DNSRCH -DEFNAMES')
define(`confDOMAIN_NAME',''pa.uky.edu'')   &lt;---- here you define your domain
OSTYPE(`linux')
undefine(`UUCP_RELAY')
undefine(`BITNET_RELAY')
define(`SMART_HOST',`server1.pa.uky.edu')  &lt;---- there we send outgoing email
define(`LUSER_RELAY',`server1.pa.uky.edu') &lt;---- there we send mail to users my laptop does not know
MASQUERADE_AS(pa.uky.edu)                  &lt;---- again the domain, we want to be seen as
FEATURE(allmasquerade)
FEATURE(nouucp)
FEATURE(nodns)
FEATURE(nocanonify)
FEATURE(redirect)
FEATURE(always_add_domain)
FEATURE(use_cw_file)
FEATURE(local_procmail)
MAILER(procmail)
MAILER(smtp)
HACK(check_mail3,`hash -a@JUNK /etc/mail/deny')
HACK(use_ip,`/etc/mail/ip_allow')
HACK(use_names,`/etc/mail/name_allow')
HACK(use_relayto,`/etc/mail/relay_allow')
HACK(check_rcpt4)
HACK(check_relay3)
</PRE>
<HR>
<P>This looks more complicated as it is. All it does is, that it redirectes outbound mail to server1 (SMART_HOST) and also mail for local users which are not known (LUSER_RELAY). That way, I can write email to my colleques without using their full email address. More important: the From line in my email points back to my MASQUARADE_AS domain and not directly to my laptop. If this where not the case, email returned with the <I>reply</I> button might not reach me. You must restart <CODE>sendmail</CODE> for changes to take effect. Note: this configuration is for Redhat 5.2 systems. You may have to change some details.
<P>Now, all what is needed is to generate the /etc/sendmail.cf file <CODE>m4 laptop.mc &gt;/etc/sendmail.cf</CODE> and to add all possible domain names my laptop should respond to in /etc/sendmail.cw:
<P>
<HR>
<PRE>
# sendmail.cw - include all aliases for your machine here.
laptop
laptop.pa.uky.edu
128.17.18.30
guest1
guest1.somewhere.org
</PRE>
<HR>
<P>It is important to have all aliases in this file, otherwise <CODE>sendmail</CODE> will not accept the mail (and will reply <I>we don't relay</I> to the sender). Finally, you must now test the setup by sending email, replying to mail for all possible configurations. Any missconfiguration can result in loss of email.
<P>
<H3>Configuration for fetchmail on Laptop</H3>

<P>One method to get the email into your machine is through <CODE>fetchmail</CODE>. Fetchmail periodically checks for new email at one or more remote mail servers. I use the following fetchmail configuration file (in my user home directory):
fetchmailrc
<P>
<HR>
<PRE>
set postmaster &quot;myusername&quot;
set daemon 900
poll pop.uky.edu with proto POP3
      user &quot;mypopusername&quot; there with password &quot;mypoppassword&quot; is mylaptopusername here
</PRE>
<HR>
<P>Fetchmail will just get the the email and send it to <CODE>sendmail</CODE> which will it deliver into your /var/spool/mail/$USER file.
<P>
<H3>Forward E-Mail to the Laptop</H3>

<P>On my work station I have the following .forward file:
<P>
<HR>
<PRE>
me@pop.acount.edu,me@server1
</PRE>
<HR>
<P>Here server1 is the machine where I keep my mailbox. All email is send to the pop account to be picked up later by my laptop (using <CODE>fetchmail</CODE>). However, when my laptop is connected via ethernet, I want my email to go directly to the laptop, instead of pop:
<P>
<HR>
<PRE>
me@laptop,me@server1
</PRE>
<HR>
<P>In both cases, a backup of my email is send to server1 (where I also can read it, in case I cannot get my laptop). I keep/store all email on the laptop. 
<P>Switching is done by three script files and a crontab file (on the workstation):
<P>forward_pop
<P>
<HR>
<PRE>
#!/bin/sh
echo &quot;me@pop.acount.edu,me@server1&quot; &gt; ${HOME}/.forward
</PRE>
<HR>
<P>forward_laptop
<P>
<HR>
<PRE>
#!/bin/sh
echo &quot;ppe@laptop,ppe@server1&quot; &gt; ${HOME}/.forward
crontab ${HOME}/mycrontab
${HOME}/utl/check_laptop
</PRE>
<HR>
<P>check_laptop
<P>
<HR>
<PRE>
#!/bin/sh
if /usr/sbin/ping -c 1 laptop  &gt;/dev/null 2&gt;&amp;1 ; then
   :
else
   # redirect mail to pop
   ${HOME}/utl/forward_pop
   sleep 10
   if /usr/sbin/ping -c 1 laptop  &gt;/dev/null 2&gt;&amp;1 ; then
      # back to normal
      ${HOME}/utl/forward_laptop
   else
      # deactivate crontab check
      /bin/crontab -l | grep -v check_laptop &gt;${HOME}/tmp/mycrontab.tmp
      /bin/crontab ${HOME}/tmp/mycrontab.tmp
      rm -f ${HOME}/tmp/mycrontab.tmp
   fi
fi
</PRE>
<HR>
<P>mycrontab
<P>
<HR>
<PRE>
# mycrontab
0,10,20,30,40,50 * * * * ${HOME}/utl/check_laptop
</PRE>
<HR>
<P>Each time I connect the laptop to the ethernet, I have to run <CODE>forward_laptop</CODE>, and each time I disconnect I run forward_pop. In case I forget to run <CODE>forward_pop</CODE>, the crontab job runs it for me less then 10 minutes later. To do all that automatically, I change the network script files on my laptop as follows:
<P>/sbin/ifdown (this script runs, whenever a network device is stopped, new stuff between BEGIN and END)
<P>
<HR>
<PRE>
...
fi

# BEGIN new stuff
# turn off forwarding email
mail ppe &lt;&lt;EOF
turning off forwarding email
device = ${DEVICE}
hostname = `hostname`
EOF
if [ &quot;${DEVICE}&quot; = &quot;eth0&quot; -a &quot;`hostname`&quot;
= &quot;laptop&quot; ]; then
  su -lc &quot;ssh -l myusername server1
utl/forward_pop&quot; myusername >&amp; /dev/null
fi
# END new stuff

ifconfig ${DEVICE} down
exec /etc/sysconfig/network-scripts/ifdown-post $CONFIG
</PRE>
<HR>
<P>Note, that the script checks for the value of hostname. In case, I am connected to a foreign ethernet, my hostname and ip-address will be something else, e.g. guest1.
<P>/etc/sysconfig/network-scripts/ifup-post (this script is run, whenever a network device is started)
<P>
<HR>
<PRE>
# Notify programs that have requested notification
do_netreport

# BEGIN new stuff
# check for email -- I'm using fetchmail for this
if [ &quot;${DEVICE}&quot; = &quot;eth0&quot; -o &quot;${DEVICE}&quot;
= &quot;ppp0&quot; ]; then
   su -lc fetchmail myusername >&amp; /dev/null &amp;
fi

# set clock if connected to ethernet, redirect email
if [ &quot;${DEVICE}&quot; = &quot;eth0&quot; -a dquot;`hostname`&quot; = &quot;zaphod&quot; ]; then
   ( rdate -s server1 ; hwclock --systohc --utc ) >&amp; /dev/null &amp;
   # forward email
   su -lc &quot;ssh -l myusername gradj utl/forward_laptop&quot; myusername >&amp; /dev/null &amp;
fi
# END new stuff

exit 0
</PRE>
<HR>
<P>
<H3>Processing Incomming E-Mail with procmail</H3>

<P>This step is completely optional. The above described sendmail configuration calls <CODE>procmail</CODE> for each received email, but you could have called <CODE>procmail</CODE> using the <CODE>.forward</CODE> file (see the procmail man page). Procmail is a handy tool to block spam and to sort incomming email. 
<P>You need to setup a <CODE>.procmailrc</CODE> file to use <CODE>procmail</CODE>. See the man page for procmail, procmailrc, and procmailex (examples). My setup demonstrates, how to ignore certain email messages and split email-collections (digest) into pieces:
<P>
<HR>
<PRE>
# -- mail filtering -- procmail is called by sendmail --
PATH=/bin:/usr/bin
MAILDIR=$HOME/Mail
LOGFILE=$MAILDIR/from
# keep in mind:
# use &quot;:0:&quot; when writing to a file
# use &quot;:0&quot;  when writing to a device, e.g. /dev/null, or send email

# - make first a backup of *all* incomming email (but ignore mail tagged below) -
:0 c:
*! ^Sissa-Repro
backup

# - keep only last 50 messages
:0 ic
| cd backup &amp;&amp; rm -f dummy `ls -t msg.* | sed -e 1,50d`

# - delete email comming through the 'postdocs' email list, when
# it is not of any interest
:0
* ^From.*postdocs
* ^From.*Ernst Richter
/dev/null
:0
* ^From.*postdocs
* ^Subject.*card charge
/dev/null

# Split mailing list from the sissa preprint server into individual emails
# - this is quite complicated :(   I can flip through the list much
#   faster and ignore preprints which have uninteresting titles. Instead of
#   having to browse through the whole list, my mailer will just present a
#   list of papers.
# 1. split it in individual messages
:0
* ^From no-reply@xxx.lanl.gov
| formail +1 -de -A &quot;Sissa-Repro: true&quot; -s procmail

# 2. reformat messages a bit
# 2.1. extract 'Title:' from email-Body and add to email-header
as 'Subject:'
:0 b
* ^Sissa-Repro
*! ^Subject
TITLE=| formail -xTitle:
:0 a
|formail -A &quot;Subject: $TITLE &quot; -s procmail

# 2.2. store in my incomming sissa-email folder. Here, we could
#      also reject (and thereafter delete) uninteresting 'Subjects'
#      we could also mark more interesting subjects as urgend or send a copy
#      to regular mail box.
:0:
* ^Sissa-Repro
* ^Subject
*! ^replaced with
sissa
</PRE>
<HR>
<P>BTW, there is a <CODE>tk</CODE> GUI tool to configure <CODE>procmail</CODE> (I think it is called <CODE>dotfiles</CODE>).
<P>
<H3>Email with UUCP</H3>

<P>Another possible solution for Email is to use UUCP. This software
was made for disconnected machines, and is by far the easiest solution
if you have several users on your laptop (we are talking about Unix,
remember?), each with his/her own account.
<P>Unlike what most people think, UUCP does not need a serial
connection: it works fine over TCP/IP, so your UUCP partner can be any
machine on the Internet, if it is reachable from your network
attachment point. Here is the UUCP sys for a typical laptop:
<P>
<BLOCKQUOTE><CODE>
<PRE>
system mylaptop
time any
chat &quot;&quot; \d\d\r\c ogin: \d\L word: \P
address uucp.mypartner.org
port TCP
</PRE>
</CODE></BLOCKQUOTE>
<P>
<H3>More Info</H3>

<P>
<A HREF="http://www.ssc.com/lg/issue20/laptop.html">Using a Laptop in Different Environments</A> by 
<A HREF="mailto:bav@rw.sni.de">Gerd Bavendiek</A> . This article appeared in the August, 1997 issue of the 
<A HREF="http://www.ssc.com/lg/">Linux Gazette</A>. This is an excellent, short technical article describing an easy way to setup your Linux notebook to boot into different network and printing configurations, especially useful for those who use their machines at home as well as other locations such as in the office, at school, or at a customer site.
<P>
<H2><A NAME="ss10.3">10.3 Data Transport Between Different Machines</A>
</H2>

<P>I don't have experience with this topic yet. So just a survey about some means of data transport and maintaining data consistency between different machines.
<P>
<H3>Hardware</H3>

<P>
<P>
<OL>
<LI>external harddisks</LI>
<LI>ZIP drive</LI>
</OL>
<P>Wade Hampton wrote: &quot;You may use MS-DOS formatted ZIP and floppy discs for data transfer. You may be able to also use LS120. If you have SCSI, you could use JAZ, MO or possibly DVD-RAM (any SCSI disc that you could write to). I have the internal ZIP for my Toshiba 700CT. It works great (I use <CODE>automount</CODE> to mount it). I use VFAT on the ZIP disks so I can move them to Windows boxes, Linux boxes, NT, give them to coworkers, etc. One problem, I must SHUTDOWN to swap the internal CD with the ZIP.&quot;
<P>
<H3>Software</H3>

<P>
<H3>Version Management Software</H3>

<P>Although it is certainly not their main aim, version management
software like CVS (Concurrent Version System) are a perfect tool when
you work on several machines and you have trouble keeping them in sync
(something which is often called "disconnected filesystems" in the
computer science literature).  Unlike programs like rsync, which are
assymetric (one side is the master and its files override those of the
slave), CVS accept that you make changes on several machines, and try
afterwards to merge them. Assymetric tools are good only when you can
respect a strict discipline, when you switch from one machine to
another. On the contrary, tools like CVS are more forgetful.
<P>To synchronize two or more machines (typically a desktop and a
laptop), just choose a CVS repository somewhere on the network. It can
be on one of the machines you want to synchronize or on a third
host. Anyway, this machine should be easily reachable via the network
and have good disks.
<P>Then, <CODE>cvs co</CODE> the module you want to work on, edit it, and
<CODE>cvs commit</CODE> when you reached a synch point and are
connected. If you made changes on both hosts, CVS will try to merge
them (it typically succeeds automatically) or give in and ask you to
resolve it by hand.
<P>The typical limits of this solution: CVS does not deal well with
binary files, so this solution is more for users of vi or emacs than
for GIMP fans. CVS has trouble with some Unix goodies like symbolic
links.
<P>For more information on CVS, see the 
<A HREF="http://www.loria.fr/~molli/cvs-index.html">Web page</A>. The CVS
documentation is excellent (in info format).
<P>
<H3>CODA Filesystem</H3>

<P>The Coda File System is a descendant of the Andrew File System. Like AFS, Coda offers location-transparent access to a shared Unix file name-space that is mapped on to a collection of dedicated file servers. But Coda represents a substantial improvement over AFS because it offers considerably higher availability in the face of server and network failures. The improvement in availability is achieved using the complementary techniques of server replication and disconnected operation. Disconnected operation proven especially valuable in supporting portable computers 
<A HREF="http://www.coda.cs.cmu.edu/"> http://www.coda.cs.cmu.edu/</A> .
<P>
<H3>WWWsync</H3>

<P>This is a program written in Perl that will update your web pages by ftp from your local pages. This was originally written for updating Demon home-pages, but will work with other providers which provide direct FTP access to your web pages. I didn't check this for laptop purposes yet. You may get the program at 
<A HREF="http://www.alfie.demon.co.uk/wwwsync/">http://www.alfie.demon.co.uk/wwwsync/</A> .
<P>
<H3>rsync</H3>

<P><CODE>rsync</CODE> is a program that allows files to be copied to and from remote machines in much the same way as <CODE>rcp</CODE>. It has many more options than <CODE>rcp</CODE>, and uses the <I>rsync remote-update protocol</I> to greatly speedup file transfers when the destination file already exists. The <I>rsync remote-update protocol</I> allows <CODE>rsync</CODE> to transfer just the differences between two sets of files across the network link.
<P>
<H3>Xfiles - file tree synchronization and cross-validation</H3>

<P>Xfiles is an interactive utility for comparing and merging one file tree with another over a network. It supports freeform work on several machines (no need to keep track of what files are changed on which machine). Xfiles can also be used as a cross-validating disk &lt;-gt; disk backup strategy (portions of a disk may go bad at any time, with no simple indication of which files were affected. Cross-validate against a second disk before backup to make sure you aren't backing up bad data).
<P>A client/server program (GUI on the client) traverses a file tree and reports any files that are missing on the server machine, missing on the client machine, or different. For each such file, the file size/sizes and modification date(s) are shown, and a comparison (using Unix diff) can be obtained. For files that are missing from one tree, <I>similarly named</I> files in that tree are reported. Inconsistent files can then be copied in either direction or deleted on either machine. The file trees do not need to be accessible via nfs. Files checksums are computed in parallel, so largely similar trees can be compared over a slow network link. The client and server processes can also be run on the same machine. File selection and interaction with a revision control system such as RCS can be handled by scripting using jpython. Requirements Java1.1 or later and JFC/Swing1.1 are needed. 
<A HREF="http://www.idiom.com/~zilla">Xfiles</A>.
<P>
<H3>sitecopy</H3>

<P>Sitecopy is for copying locally stored websites to remote web servers. The program will upload files to the server which have changed locally, and delete files from the server which have been removed locally, to keep the remote site synchronized with the local site, with a single command. The aim is to remove the hassle of uploading and deleting individual files using an FTP client. 
<A HREF="http://www.lyra.org/sitecopy">sitecopy</A> .
<P>
<H3>KBriefcase</H3>

<P>The KDE tool 
<A HREF="http://netnow.micron.net/~mrolig/kbriefcase/">Kbriefcase</A> tries to achieve a similar goal as the Windows briefcase,
but in a different way. Rather than pulling your files from the
desktop, they are pushed to the laptop. You drag a file from the local
location to the briefcase. You are then asked for the remote path to
copy it to. It will then copy the file to the remote location and make
the original read-only. When you restore and remove, the file is copied
back and write permissions are given back. The read-only status, of
course, makes sure you don't start editing the file again before you've
brought your changes back from the remote location.
<P>
<H2><A NAME="ss10.4">10.4 Security in Different Environments</A>
</H2>

<P>
<H3>Introduction</H3>

<P>I am not a computer security expert. Please read the Security-HOWTO for more information. I just collected some information below. Note, these means are just small steps to additional security, though I recommend that you use them.
<P>
<P>LASG Please read 
<A HREF="https://www.seifried.org/lasg/">Linux Administrator's Security Guide (LASG) - FAQ</A> by Kurt Seifried.
<P>
<H3>Means of Security</H3>

<P>
<P>
<OL>
<LI>International Kernel Patch: The idea of the 
<A HREF="http://www.kerneli.org/">International Kernel Patch</A> is to collect all crypto patches so that using crypto in the kernel will be easier than today. The patch includes a number of crypto patches including a crypto API including Blowfish, CAST-128, DES, DFC, IDEA, MARS, RC6, Rijndael, Safer, Serpent, and Twofish, an encrypted filesystem loopback device using the crypto API, CIPE VPN and EnSKIP patches.
</LI>
<LI>Kennsington Lock: AFAIK proprietary lock solution with different laptops 
<A HREF="http://www.kennsington.com">http://www.kennsington.com </A> </LI>
<LI>SmartCards: by DESKO 
<A HREF="http://www.desko.de"> http://www.desko.de </A> are not available for Linux yet. The only available laptop with a SmartCard builtin is the Siemens Scenic Mobile 800.</LI>
<LI>User passwords: can be easily bypassed if the intruder gets physical access to your machine</LI>
<LI>BIOS passwords: are also easily crackable, though sometimes harder than with desktops</LI>
<LI>Name plates: to reduce the possibility of theft, you may want to have a nameplate made and affixed to the cover of the laptop. A nice one will cost you about $12, and can be made by any good trophy shop. They'll glue it on for you too. You could use double-sided tape instead, but glue is more permanent. You may even make an engravement into the laptop cover.</LI>
<LI>Boot loader: a boot loader may be used to put your name and phone number (or whatever text you choose) into the boot sequence before the operating system is loaded. This provides a label that can't be removed by editing files or even doing a simple format of the harddisk.</LI>
<LI>Antivirus policy: I have seen an <CODE>antivir</CODE> RPM somewhere. Check the BIOS for an option to disable writing at the boot sector.</LI>
<LI>Database of stolen laptops: I have provided a 
<A HREF="http://mobilix.org/stolen_laptops.html">survey of databases for stolen laptops</A>.
</LI>
<LI>Laptop as a security risk itself: Since a laptop can easily be used to intrude a network, it seems a good policy to ask the system administrator for permission before connecting a laptop to a network.
</LI>
<LI>Secure Protocol: When connecting to a remote server always use a secure protocol.</LI>
</OL>
<P>
<H2><A NAME="ss10.5">10.5 Dealing with Down Times (Cron Jobs)</A>
</H2>

<P>A cron-like program that doesn't go by time: <CODE>anacron</CODE> (like &quot;anac(h)ronistic&quot;) is a periodic command scheduler. It executes commands at intervals specified in days. Unlike <CODE>cron</CODE>, it does not assume that the system is running continuously. It can therefore be used to control the execution of daily, weekly and monthly jobs (or anything with a period of n days), on systems that don't run 24 hours a day. When installed and configured properly, <CODE>anacron</CODE> will make sure that the commands are run at the specified intervals as closely as machine-uptime permits.
<P><CODE>hc-cron</CODE> This program is a modified version of Paul Vixie's &lt;paul@vixie.com&gt; widely used <CODE>cron</CODE> daemon. Like the original program it runs specified jobs at periodic intervals. However, the original <CODE>crond</CODE> relies on the computer running continuously, otherwise jobs will be missed. This problem is addressed by <CODE>hc-cron</CODE>, that is indended for use on <I>home-computers</I> that are typically turned off several times a day; <CODE>hc-cron</CODE> will remember the time when it was shut down and catch up jobs that have occurred during down time when it is started again. Felix Braun &lt;fbraun@atdot.org&gt; is the author of the programm, it is available at 
<A HREF="http://metalab.unc.edu /pub/Linux/system/daemons/cron">http://metalab.unc.edu /pub/Linux/system/daemons/cron</A> .
<P>
<H2><A NAME="ss10.6">10.6 Noise Reduction</A>
</H2>

<P>Due to the proliferation of cellular phones and walkmans it's not quite common in our days to take care of a quiet environment. Anyway I want to give some recommendations for the polite ones.
<P>
<H3>Console (Shell) and X</H3>

<P>For the console <CODE>setterm -blength 0</CODE> and for X <CODE>xset b off</CODE> turns the bell off. See also PCMCIA-HOWTO, and much more details in the Visible-Bell-mini-Howto by Alessandro Rubini.
<P>
<H3>PCMCIA</H3>

<P>When starting your laptop with PCMCIA-CS configured correctly, this will be shown by two high beeps. If you want to avoid this put <CODE>CARDMGR_OPTS=&quot;-q&quot;</CODE> into the PCMCIA configuration file, e.g. /etc/pcmcia.conf for Debian/GNU Linux.
<P>To avoid the dialtones during the modem dialing add
<P>
<HR>
<PRE>
     module &quot;serial_cs&quot; opts &quot;do_sound=0&quot;
</PRE>
<HR>
<P>to /etc/pcmcia/config.opts (from <CODE>man serial_cs</CODE>). This will disable speaker output completely, but the <CODE>ATM</CODE> command should let you selectively control when the speaker is active.
<P>
<H3>Miscellaneous Applications</H3>

<P>You may configure <CODE>vi</CODE> with the <CODE>flash</CODE> option, so it will use a flash in case of an error, instead of a bell.
<P>For at least one laptop series, the Toshiba models, there seems to be a Linux package available to control the fan and other features.
<P>
<HR>
<A HREF="Laptop-HOWTO-11.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="Laptop-HOWTO-9.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="Laptop-HOWTO.html#toc10"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
