<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Burning a RedHat CD HOWTO: Obtaining your local copy of the distribution</TITLE>
 <LINK HREF="RedHat-CD-HOWTO-5.html" REL=next>
 <LINK HREF="RedHat-CD-HOWTO-3.html" REL=previous>
 <LINK HREF="RedHat-CD-HOWTO.html#toc4" REL=contents>
<SCRIPT src="../menu.js"> function BeginPage() {} function EndPage() {} </SCRIPT> </HEAD> <BODY bgcolor=#EEEEFF MARGINHEIGHT=0 MARGINWIDTH=0> <SCRIPT>BeginPage(1, 8, 1);</SCRIPT>
<A HREF="RedHat-CD-HOWTO-5.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="RedHat-CD-HOWTO-3.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="RedHat-CD-HOWTO.html#toc4"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s4">4. Obtaining your local copy of the distribution</A></H2>

<P>
<P>You need a copy of the distribution on a writable disk which is accessible
from the computer having the CD writer (duh!). If you want to incorporate
the latest updates, this directory should (also) be accessible from from a
Linux machine, either from a local disk, an NFS mounted disk on a different
computer, or a JAZ disk.
<P>You could copy the distribution from a RedHat CD, or you could get it via
FTP. If you choose to use FTP, the best way to get a correct copy of the
distribution is to use the <CODE>mirror</CODE> package. 
<P>Mirror is a sophisticated perl script that compares the content of a
directory on a remote site with a local directory. It will use FTP to fetch
the files that are on the remote site but not the local site, and delete
files on the local site that are not on the remote site. The mirror program
is configured with a configuration file.  The mirror package is available
as an RPM from 
<A HREF="http://rufus.w3.org/linux/RPM/mirror.html">rufus.w3.org</A>.  
<P>Make your local copy <CODE>mirror.redhat</CODE> of the mirror configuration file, and
edit the relevant fields at the top of the file. After the default section,
define these packages:
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
package=updates
        site=ftp.sunsite.auc.dk
        exclude_patt=(alpha/|sparc/|SRPMS/)
        remote_dir=/disk1/ftp.redhat.com/pub/redhat/updates/6.1
        local_dir=/jaz/updates/6.1

package=dist
        site=ftp.sunsite.auc.dk
        exclude_patt=(alpha/|sparc/|SRPMS/|iso/)
        remote_dir=/disk1/ftp.redhat.com/pub/redhat/redhat-6.1
        local_dir=/jaz/redhat-6.1
</PRE>
</CODE></BLOCKQUOTE>
<P>The following command will download a copy of the entire RedHat tree on
your local disk. <EM>*Think*</EM> before you do this, you are about to transfer
approximately 500Mb of data!
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
mirror -pdist mirror.redhat 
</PRE>
</CODE></BLOCKQUOTE>
<P>This will mirror the Red Hat FTP site on your local disk. The content of a
Red Hat distribution does not change between releases, so you only need to
download this package <EM>ONCE</EM>. All changes to the distribution are in the <CODE>updates</CODE> directory. Thus, if you want to keep an up-to-date mirror of the
Red Hat distribution, you only need to keep the <CODE>updates</CODE> directory
current. This is done using the command
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
mirror -pupdates mirror.redhat 
</PRE>
</CODE></BLOCKQUOTE>
<P>You can run this regularly, say, once a week, through a cron script. The
RedHat distribution is available on a great number of FTP servers around
the world, which are updated daily from the master site at 
<A HREF="ftp://ftp.redhat.com/pub">ftp://ftp.redhat.com/pub</A>. You should choose an FTP site close to
you, see the 
<A HREF="http://www.redhat.com/download/mirror.html">RedHat list of mirror sites</A>.
<P>
<HR>
<A HREF="RedHat-CD-HOWTO-5.html"><IMG SRC="../img/next.gif" ALT="Next"></A>
<A HREF="RedHat-CD-HOWTO-3.html"><IMG SRC="../img/prev.gif" ALT="Previous"></A>
<A HREF="RedHat-CD-HOWTO.html#toc4"><IMG SRC="../img/toc.gif" ALT="Contents"></A>
<SCRIPT>EndPage();</SCRIPT>  </BODY>
</HTML>
